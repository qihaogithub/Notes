
*   如何使用 SQL 语句实现增加、修改和删除？
*   SQL 语句的语法规则

| INSERT | 插入  | INSERT INTO 表名 (列1, ...) VALUES (值1, ...),(值1, ...)...; |
| ------ | --- | ------------------------------------------------------- |
| UPDATE | 更新  | UPDATE 表名 SET 列1=值1, 列2=值2, ... WHERE 条件                |
| DELETE | 删除  | DELETE FROM 表名 WHERE 条件                                 |

大家已经知道了，使用 `SQL` 语句是与数据库通信的方式。

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/z065w.png)
我们这一回，就是要来学习点最常用的 `SQL` 语句。

我们先来插入点数据到数据库中，点击 `Sequel` 的 `Content` 选项卡，这里能看到所有的数据，目前还都是空的。

直接双击，标题和内容，我们加入点李白的诗句。注意了，这里 `id` 不要填写，因为它会通过 `自增` 来自动填写。

| id  | title   | content          |
| --- | ------- | ---------------- |
| 1   | 上李邕     | 大鹏一日同风起，扶摇直上九万里。 |
| 2   | 南岭别儿童入京 | 仰天大笑出门去，我辈岂是蓬蒿人。 |

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/jo2r8.png)

这样子我们数据表里面，就已经存好两条数据了。

我们这里是使用了数据库客户端的功能来插入数据的，但在做项目的时候，你总不能让客户来直接操作数据库软件吧？总不能说，有一个用户想下单买个西瓜。你和客户说，快来，自己把订单插入数据库里。

这样肯定是不行的，但是我们可以去只做一个表单，让用户自己填写表单的内容。当提交后，`Node.js` 接收到用户提交的数据，再通过 `SQL` 语句，插入到数据库。这才是正确合理的做法啊。

使用 Navicat 的同学，还是跟着课程讲义里的截图来操作哈。

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/g7zyx.png)


[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/2lobd.png)


_1\. 插入语句_
----------

所以我们就来学习第一个 `SQL` 语句，插入语句，插入的英文是 `insert`，它的基本格式是：

```
INSERT INTO 表名 (列1, ...) VALUES (值1, ...)
-- 例如：
INSERT INTO `Articles` (`title`, `content`) VALUES ('行路难·其一', '长风破浪会有时，直挂云帆济沧海。'); 
```

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/sm5si.png)
我们点击 `Query` 选项卡，在这里就可以直接运行 `SQL` 语句了，接着将语句复制进去。最后点击运行。回到 `Content` 选型卡，点一下底部的刷新，或者按 `cmd + r` 来进行刷新，可以看到刚才我们的 `SQL` 语句，非常完美的成功运行了。

**Navicat 看这里**

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/lonub.png)
[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/dx68g.png)
![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/pkr43.png)
]( https://assets.clwy.cn/uploads/2epegbn0oxb7b0ma8vijo3wk1qdz!large )

_2\. SQL 语句规则说明_
----------------

*   **大小写**： 大家回过头来再看看这条 `SQL` 语句，首先这里的语句都使用了大写字母，其实你改为小写也是一样可以正确运行的，只是大写的更规范一些而已。
    
*   **\`（反引号）**： 另外表的名字，和字段的名字，我们使用了**\`**号，注意不要找错了，它是键盘最左上角 `esc` 键下面的这个键。这里不写这个符号也是可以运行的，但是有些情况下必须写，例如我们有一个字段刚好叫做 `insert`。如果你不写，那 `MySQL` 就会当成这里要执行插入，而不会识别成一个字段的名字。所以规范的来说，所有的 `表名` 和 `字段名`，都最好加上**\`**号。
    
*   **引号**： 最后面的内容，他们都是字符串，一定要加上引号。不加上引号的话，`MySQL` 就无法正确的识别为字符串，也会报错的。当然，如果是数字的话，就不用打引号了。
    

好，我们接着学习。如果你想一次性插入多条数据，我们可以将语句做一个小小的调整。

```
-- 多行插入
INSERT INTO 表名 (列1, ...) VALUES (值1, ...),(值1, ...)...; 
```

我们把这段内容复制了，去跑一下

```
INSERT INTO `Articles` (`title`, `content`) VALUES ('将进酒', '天生我材必有用，千金散尽还复来。'), ('宣州谢朓楼饯别校书叔云', '抽刀断水水更流，举杯消愁愁更愁。'), ('梦游天姥吟留别', '安能摧眉折腰事权贵，使我不得开心颜！'), ('春夜宴从弟桃花园序', '天地者，万物之逆旅也；光阴者，百代之过客也。'), ('宣州谢朓楼饯别校书叔云', '弃我去者，昨日之日不可留；乱我心者，今日之日多烦忧。'), ('庐山谣寄卢侍御虚舟', '我本楚狂人，凤歌笑孔丘。手持绿玉杖，朝别黄鹤楼。'), ('行路难', '长风破浪会有时，直挂云帆济沧海'), ('将进酒', '人生得意须尽欢，莫使金樽空对月。天生我材必有用，千金散尽还复来。'), ('望庐山瀑布', '飞流直下三千尺，疑是银河落九天。'), ('访戴天山道士不遇', '树深时见鹿，溪午不闻钟。'), ('清平调', '云想衣裳花想容，春风拂槛露华浓。'), ('春夜洛城闻笛', '谁家玉笛暗飞声，散入春风满洛城。'); 
```

刷新看看，果然一下就又多很多条记录了。

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/hifyx.png)

_3\. 修改语句_
----------

接下来再来学习修改语句，修改的英文是 `update`，格式是

```
UPDATE 表名 SET 列1=值1, 列2=值2, ... WHERE 条件

-- 例如：
UPDATE `Articles` SET `title`='黄鹤楼送孟浩然之广陵', `content`='故人西辞黄鹤楼，烟花三月下扬州。' WHERE `id`=2; 
```

先来执行一下，执行完成后，记得要刷新一下，果然修改掉了其中一条数据。

需要注意的是，这里多了个 `where`。`where` 表示条件，我们想改变的是，`id=2` 的这一条记录。这样数据库就会明确的找到这条记录，然后再做修改。

如果你不写 `where`，那就糟糕了，会将数据库里的所有内容都改变掉的。

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/bjf7p.png)

所以大家在做修改语句的时候，一定要万分小心，千万不要把条件搞掉了。

_4\. 删除语句_
----------

最后来看删除语句。当有一条记录，我们不想要了，那么可以使用删除语句，也就是 `delete`

```
DELETE FROM 表名 WHERE 条件

-- 例如：
DELETE FROM `ARTICLES` WHERE `id`=5; 
```

当运行后，第 5 条记录就没有了。

[![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/new/qpfy8.png)

大家请注意，现在的 `id`，就由 `4`，直接到 `6` 了，这里少了一个 `5`。千万不要有强迫症，这个其实一点关系都没有。中间有被删掉的记录，导致 `id` 不连贯了，这是非常正常的情况，大家无需理会。

_5\. 总结一下_
----------

| 关键字    | 说明  |                                                         |
| ------ | --- | ------------------------------------------------------- |
| INSERT | 插入  | INSERT INTO 表名 (列1, ...) VALUES (值1, ...),(值1, ...)...; |
| UPDATE | 更新  | UPDATE 表名 SET 列1=值1, 列2=值2, ... WHERE 条件                |
| DELETE | 删除  | DELETE FROM 表名 WHERE 条件                                 |
| WHERE  | 条件  |                                                         |

咱们这节课学习了 `SQL` 语句最基础的新增、修改和删除。记住他们的关键字，`insert`、`update` 和 `delete`。还有，如果你要针对某一条记录做操作，那就千万别忘了，一定要使用 `where` 条件。