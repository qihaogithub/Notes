**教程：在 Apache 2 部署多个网站**
**一、前期准备**
1. 确保你的服务器已安装 Apache 2。若未安装，可使用以下命令进行安装（以 Ubuntu 为例）：
   ```
   sudo apt update
   sudo apt install apache2
   ```
2. 确保你拥有对 Apache 2 配置文件的修改权限。
**二、配置文件解析**
我们将使用 Apache 2 的虚拟主机功能来部署多个网站。以下是一个示例配置文件 `/etc/apache2/sites-available/sites.conf`，其中包含了两个网站的配置：
```apache
<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    ServerName 10.130.35.137
    # UIPreview 的主配置
    DocumentRoot /var/www/uipreview
    <Directory /var/www/uipreview>
        Options Indexes FollowSymLinks MultiViews
        AllowOverride All
        Require all granted
    </Directory>
    # Tempspace 的配置
    Alias /img /var/www/image-manager
    <Directory /var/www/image-manager>
        Options Indexes FollowSymLinks MultiViews
        AllowOverride All
        Require all granted
    </Directory>
    # 日志配置
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
```
**三、部署步骤**
1. **创建网站目录**
	* 创建 `UIPreview` 网站的目录：
	  ```
	  sudo mkdir /var/www/uipreview
	  ```
	* 创建 `Tempspace` 网站的目录（用于存储图片）：
	  ```
	  sudo mkdir /var/www/image-manager
	  ```
2. **设置目录权限**
	* 为这两个目录设置适当的权限，以确保 Apache 2 可以访问它们：
	  ```
	  sudo chown -R www-data:www-data /var/www/uipreview
	  sudo chown -R www-data:www-data /var/www/image-manager
	  ```
3. **配置虚拟主机**
	* 编辑 `/etc/apache2/sites-available/sites.conf` 文件，按照上述示例配置两个网站。
	* 注意 `ServerName` 应设置为你的服务器 IP 地址或域名。
4. **启用配置文件**

```
sudo a2ensite sites.conf
```
1. **重启 Apache 2**
	* 使配置生效：
```
sudo systemctl restart apache2
```
1. **测试访问**
	* 使用浏览器访问 `http://10.130.35.137/`，你应该能看到 `UIPreview` 网站的内容。
	* 访问 `http://10.130.35.137/img/`，你应该能看到 `Tempspace` 网站（图片管理器）的内容。
**四、注意事项**
* 确保服务器防火墙允许 HTTP（80 端口）流量。
* 如果使用 HTTPS，需要配置 SSL 证书，并将端口改为 443。
* 根据实际需求，可能需要进一步配置网站的 `.htaccess` 文件或 Apache 2 的模块。
**五、总结**
通过以上步骤，你可以在 Apache 2 上成功部署多个网站。这种方法利用了 Apache 2 的虚拟主机功能，实现了在同一服务器上运行多个独立网站的需求。
