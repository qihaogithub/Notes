# pc.pdfjs 插件说明

## 插件简介
pc.pdfjs 是 Obsidian 的一个 PDF 查看与管理插件，它基于 Mozilla 的 PDF.js 库构建，为 Obsidian 提供了强大的 PDF 文档内预览和交互功能。这个插件特别适合那些需要在笔记系统中频繁查看、引用和管理 PDF 文档的用户，它消除了在 Obsidian 和外部 PDF 阅读器之间切换的需要，提供了无缝的文档阅读体验。

## 主要功能

### 1. 增强的 PDF 预览
- 在 Obsidian 中直接打开和预览 PDF 文档
- 支持缩放、旋转、页面导航等基本操作
- 提供多种页面显示模式（单页、连续、双页）
- 支持全文搜索 PDF 内容
- 提供夜间/暗色模式支持

### 2. PDF 注释与标记
- 支持高亮、下划线、删除线等文本标记
- 可以添加文本注释和便签
- 支持形状工具（矩形、圆形、线条等）
- 提供铅笔工具进行自由绘制
- 可以保存和导出 PDF 注释

### 3. 页面管理与操作
- 支持 PDF 页面的提取和导出
- 可以旋转单个或多个页面
- 提供页面裁剪功能
- 支持页面缩略图预览
- 可以快速跳转到特定页面

### 4. PDF 与笔记集成
- 支持从 PDF 中复制文本到笔记
- 可以创建 PDF 页面的引用链接
- 支持将 PDF 内容转换为 Markdown
- 提供 PDF 元数据查看和编辑
- 支持 PDF 书签导航和管理

## 安装方法
1. 在 Obsidian 的设置中打开社区插件
2. 禁用安全模式
3. 点击"浏览社区插件"
4. 搜索"pc.pdfjs"
5. 点击"安装"，然后启用插件

## 使用教程

### 打开和浏览 PDF
- 在 Obsidian 文件浏览器中，双击 PDF 文件直接打开
- 使用工具栏上的按钮进行页面导航、缩放等操作
- 使用键盘快捷键进行快速导航（如箭头键翻页，+/-键缩放）
- 点击目录面板查看 PDF 书签结构
- 使用搜索框搜索 PDF 内容

### 添加注释和标记
- 选择文本后，右键点击选择标记工具（高亮、下划线等）
- 使用工具栏上的注释工具添加文本注释
- 选择形状工具在 PDF 上绘制图形
- 使用铅笔工具进行自由标注
- 在注释面板中查看和管理所有注释

### 页面操作
- 在缩略图视图中选择一个或多个页面
- 使用右键菜单进行旋转、提取或删除操作
- 拖动页面缩略图调整页面顺序
- 使用裁剪工具调整页面显示区域
- 点击页面信息按钮查看页面详情

### 与笔记集成
- 选中 PDF 文本后，使用快捷键或右键菜单复制到笔记
- 使用"Create link to page"功能创建指向特定页面的链接
- 使用"Extract to Markdown"功能将 PDF 内容转换为笔记
- 在笔记中使用 `![[filename.pdf#page=10]]` 格式引用特定页面
- 将 PDF 注释导出为单独的笔记或附件

## 配置选项说明

### 基本设置
- **Default zoom level**: 设置默认缩放级别
- **Default view mode**: 设置默认视图模式（单页、连续、双页）
- **Enable dark mode**: 启用暗色模式
- **Show toolbar by default**: 默认显示工具栏
- **Remember last position**: 记住上次查看的位置

### 渲染设置
- **Enable smooth rendering**: 启用平滑渲染
- **Enable hardware acceleration**: 启用硬件加速
- **Text selection mode**: 设置文本选择模式
- **Enable annotation layer**: 启用注释层
- **Rendering quality**: 设置渲染质量

### 注释设置
- **Default annotation color**: 设置默认注释颜色
- **Enable auto-save annotations**: 启用注释自动保存
- **Show annotation indicators**: 显示注释指示器
- **Allow external annotation editing**: 允许外部注释编辑
- **Export annotations format**: 设置注释导出格式

### 集成设置
- **Enable PDF links in notes**: 启用笔记中的 PDF 链接
- **Default page reference format**: 设置默认页面引用格式
- **Enable text extraction**: 启用文本提取
- **Extract text format**: 设置提取文本格式
- **Show PDF metadata in properties**: 在属性面板显示 PDF 元数据

## 高级功能

### PDF 文本提取与转换
- 支持批量提取多个 PDF 文件的文本
- 可以自定义文本提取的格式和样式
- 支持 OCR 功能（需额外配置）
- 提供文本提取历史记录
- 可以设置自动文本提取规则

### PDF 比较工具
- 支持比较两个 PDF 文件的差异
- 高亮显示文本和图像的不同之处
- 提供详细的比较报告
- 可以导出比较结果
- 支持版本历史比较

### 高级搜索功能
- 支持高级搜索语法（布尔运算符、通配符等）
- 可以保存搜索查询
- 提供搜索结果高亮显示
- 支持跨多个 PDF 文件搜索
- 可以按页面或章节过滤搜索结果

### 自定义快捷键与工具栏
- 支持自定义 PDF 操作的快捷键
- 可以自定义工具栏的显示内容和顺序
- 提供快捷键冲突检测
- 支持导出和导入快捷键配置
- 可以创建自定义工具栏布局

## 注意事项
- 大尺寸 PDF 文件可能会影响加载速度和性能
- 某些加密或受保护的 PDF 可能无法查看或编辑
- 使用 OCR 功能可能需要额外的系统资源
- 频繁编辑 PDF 注释可能会增加文件大小
- 与某些 PDF 编辑软件可能存在兼容性问题
- 建议定期备份重要的 PDF 文件，特别是在进行大量编辑后

## 常见问题解答

### Q: 如何提高大文件的加载速度？
A: 您可以在设置中降低渲染质量，禁用平滑渲染，或者考虑将大文件分割成多个较小的 PDF 文件。此外，关闭其他占用资源的应用程序也可能有所帮助。

### Q: 为什么某些 PDF 文件无法正确显示或搜索？
A: 这可能是由于文件加密、扫描文档缺少文本层或文件损坏造成的。对于扫描文档，您可以尝试启用 OCR 功能来提取文本。

### Q: 注释保存在哪里？会与原始 PDF 文件同步吗？
A: 注释通常保存在 PDF 文件本身或 Obsidian 的元数据存储中，具体取决于您的设置。如果您使用同步服务，确保 PDF 文件包含在同步范围内。

### Q: 可以将多个 PDF 文件合并成一个吗？
A: 虽然 pc.pdfjs 主要专注于查看和编辑功能，但一些版本可能提供基本的合并功能。对于更复杂的 PDF 操作，建议使用专门的 PDF 编辑软件。