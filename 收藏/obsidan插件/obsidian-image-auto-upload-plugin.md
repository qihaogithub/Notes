# obsidian-image-auto-upload-plugin 插件说明

## 插件简介
obsidian-image-auto-upload-plugin 是 Obsidian 的一个图片管理插件，它可以自动将插入到笔记中的本地图片上传到各种图片托管服务，并将笔记中的图片链接替换为在线链接。这个插件特别适合那些需要在多设备间同步笔记或分享笔记内容的用户。

## 主要功能

### 1. 自动图片上传
- 插入图片时自动上传到配置的云存储服务
- 支持批量上传已有的本地图片
- 可以监控剪贴板，自动上传粘贴的图片
- 支持拖拽图片到笔记中自动上传

### 2. 多平台云存储支持
- 支持多种图片托管服务（如阿里云OSS、腾讯云COS、GitHub、Imgur等）
- 提供统一的配置界面和上传设置
- 支持为不同服务配置不同的上传参数
- 可以为不同类型的图片选择不同的上传服务

### 3. 图片链接管理
- 自动将本地图片路径替换为在线链接
- 支持多种链接格式（Markdown、HTML等）
- 可以自定义链接的生成格式
- 支持链接的批量更新和修复

### 4. 上传状态监控与管理
- 提供上传进度指示器和状态反馈
- 支持查看上传历史和日志
- 提供失败重试机制
- 可以暂停和恢复上传任务

## 安装方法
1. 在 Obsidian 的设置中打开社区插件
2. 禁用安全模式
3. 点击"浏览社区插件"
4. 搜索"obsidian-image-auto-upload-plugin"
5. 点击"安装"，然后启用插件

## 使用教程

### 配置图片上传服务
- 在插件设置中，选择要使用的图片托管服务
- 填写相应的API密钥、存储路径等配置信息
- 测试连接以确保配置正确
- 保存配置

### 插入并上传图片
- 使用常规的图片插入方法（粘贴、拖拽或使用插入图片命令）
- 插件会自动检测插入的本地图片并开始上传
- 上传完成后，笔记中的图片链接会自动更新为在线链接

### 批量上传已有图片
- 在插件设置或命令面板中，找到"批量上传本地图片"选项
- 选择要处理的笔记或文件夹
- 点击开始按钮，插件会扫描并上传所有本地图片
- 可以查看上传进度和结果

### 监控剪贴板图片
- 在插件设置中启用"剪贴板监控"功能
- 从其他应用程序复制图片
- 当在 Obsidian 中粘贴时，插件会自动上传图片并插入在线链接

## 配置选项说明

### 通用设置
- **Auto upload on paste**: 启用粘贴时自动上传
- **Auto upload on drag**: 启用拖拽时自动上传
- **Upload timeout**: 设置上传超时时间
- **Retry count**: 设置上传失败时的重试次数
- **Concurrent uploads**: 设置并发上传数量

### 图片处理设置
- **Image compression**: 启用图片压缩
- **Max width/height**: 设置图片的最大宽度和高度
- **Quality**: 设置图片质量（0-100）
- **Format conversion**: 设置是否转换图片格式
- **Target format**: 设置目标图片格式

### 上传服务设置
根据选择的上传服务不同，需要配置不同的参数：
- **Aliyun OSS**: AccessKeyId, AccessKeySecret, Bucket, Region, CDN域名等
- **Tencent COS**: SecretId, SecretKey, Bucket, Region, CDN域名等
- **GitHub**: Token, Repository, Branch, Path等
- **Imgur**: Client ID等

### 链接格式设置
- **Link format**: 设置链接的格式（Markdown、HTML等）
- **Custom link template**: 自定义链接模板
- **Include original path comment**: 在链接旁添加原始路径注释
- **Use CDN**: 是否使用CDN加速链接

## 高级功能

### 上传前处理
- 支持批量重命名图片文件
- 可以添加前缀或后缀到文件名
- 支持按日期组织上传的图片
- 可以根据图片内容自动添加标签

### 自定义上传规则
- 支持基于文件类型设置不同的上传策略
- 可以为不同的笔记文件夹设置不同的上传服务
- 支持创建复杂的上传条件和规则
- 可以设置不上传的图片白名单

### 备份与恢复
- 自动备份上传前的原始图片链接
- 支持恢复到本地图片链接
- 提供上传历史记录查看功能
- 可以导出上传配置和历史数据

### 快捷键与命令
- 提供多种快捷键操作上传功能
- 可以通过命令面板调用各项功能
- 支持自定义快捷键设置
- 可以将上传功能集成到工作流中

## 注意事项
- 上传图片到云端可能会消耗网络流量和存储空间
- 确保了解并遵守所选图片托管服务的使用条款和限制
- 敏感图片上传前请考虑隐私和安全问题
- 上传配置中包含敏感信息（如API密钥），请注意保护
- 在多设备环境中使用时，确保所有设备都已正确配置插件

## 常见问题解答

### Q: 如何选择适合的图片托管服务？
A: 这取决于您的需求。如果需要免费服务，可以考虑GitHub（有限额）或Imgur；如果需要更稳定和专业的服务，可以考虑阿里云OSS或腾讯云COS等付费服务。

### Q: 上传失败怎么办？
A: 插件提供了失败重试机制，可以在上传历史中查看失败原因，并手动重试上传。同时，确保您的网络连接正常，并且配置信息正确。

### Q: 上传后的图片会占用我的存储空间吗？
A: 这取决于您选择的服务。大多数图片托管服务都有一定的免费额度，超过后可能需要付费。请参考各服务的价格政策。

### Q: 可以不上传某些图片吗？
A: 可以，您可以在设置中配置不上传的规则，或者在上传前手动选择要上传的图片。