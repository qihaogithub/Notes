# obsidian-file-cleaner 插件说明

## 插件简介
obsidian-file-cleaner 是 Obsidian 的一个维护工具插件，它帮助用户保持笔记库的整洁，通过自动识别和清理无用或过时的文件。这个插件特别适合拥有大量笔记的用户，可以节省手动管理和清理文件的时间和精力。

## 主要功能

### 1. 孤立文件清理
- 识别未被任何笔记引用的孤立文件
- 支持预览和选择性删除孤立文件
- 可配置排除特定类型的文件或目录

### 2. 重复文件检测
- 扫描并识别内容相同的重复文件
- 支持多种重复检测算法（文件名、内容哈希等）
- 提供重复文件的比较和合并选项

### 3. 空文件和文件夹清理
- 自动检测和清理空文件和文件夹
- 支持自定义空文件的定义标准
- 可配置排除特定的空文件夹

### 4. 文件组织建议
- 基于文件类型和内容提供组织建议
- 推荐合适的文件分类和命名方式
- 支持自动应用组织建议

## 安装方法
1. 在 Obsidian 的设置中打开社区插件
2. 禁用安全模式
3. 点击"浏览社区插件"
4. 搜索"obsidian-file-cleaner"
5. 点击"安装"，然后启用插件

## 使用教程

### 运行文件清理
- 在 Obsidian 的侧边栏中找到插件图标并点击
- 选择要执行的清理类型（孤立文件、重复文件、空文件等）
- 查看扫描结果，选择要清理的文件
- 点击"清理"按钮执行操作

### 配置清理规则
- 在插件设置中，可以配置各种清理规则
- 设置要排除的文件类型、目录或特定文件
- 调整检测算法的参数和敏感度

### 定期自动清理
- 可以设置定期自动执行清理任务
- 选择要定期执行的清理类型
- 设置清理频率和时间

## 配置选项说明

### 孤立文件设置
- **Scan for unlinked files**: 启用孤立文件扫描
- **Exclude patterns**: 设置要排除的文件模式
- **Auto-ignore certain file types**: 自动忽略特定类型的文件
- **Minimum file age**: 设置文件被视为孤立文件的最小天数

### 重复文件设置
- **Duplicate detection method**: 设置重复检测方法（内容哈希、文件名等）
- **Exclude file types**: 设置要排除的文件类型
- **Minimum file size**: 设置检测重复文件的最小文件大小
- **Auto-keep newer files**: 自动保留较新的文件

### 空文件设置
- **Scan for empty files**: 启用空文件扫描
- **Empty file threshold**: 设置空文件的大小阈值
- **Scan for empty folders**: 启用空文件夹扫描
- **Exclude empty folders**: 设置要排除的空文件夹

### 自动清理设置
- **Enable scheduled cleaning**: 启用定期自动清理
- **Cleaning frequency**: 设置清理频率（每天、每周、每月等）
- **Time of day**: 设置自动清理的具体时间
- **Cleaning types**: 选择要定期执行的清理类型

## 高级功能

### 文件备份与恢复
- 在执行清理操作前自动创建备份
- 支持查看清理历史和恢复已删除的文件
- 提供备份管理功能

### 智能文件分析
- 分析文件使用频率和访问模式
- 预测可能需要清理的文件
- 提供清理建议和风险评估

### 自定义清理规则
- 支持基于文件元数据创建复杂的清理规则
- 可以使用正则表达式匹配文件
- 支持创建和保存自定义清理配置

### 导出和报告
- 支持导出清理报告和统计数据
- 提供文件库健康状况评估
- 可以生成定期的清理日志

## 注意事项
- 在执行大规模清理操作前，强烈建议先备份笔记库
- 某些文件可能暂时没有链接但仍有价值，使用时需谨慎
- 定期检查清理规则，确保不会误删重要文件
- 与其他文件管理插件可能存在兼容性问题

## 常见问题解答

### Q: 如何防止误删重要文件？
A: 在设置中可以配置排除规则，将重要文件或目录添加到排除列表中。同时，插件会在清理前创建备份，可以恢复误删的文件。

### Q: 插件如何检测重复文件？
A: 插件主要通过计算文件内容的哈希值来检测重复文件，也支持基于文件名、大小等其他属性进行检测。

### Q: 定期自动清理会影响 Obsidian 的性能吗？
A: 自动清理通常在后台执行，且可以设置在不活跃的时间段运行，一般不会对日常使用造成明显影响。

### Q: 如何查看清理历史记录？
A: 在插件设置的"历史记录"或"备份"选项中，可以查看之前的清理操作和删除的文件列表。