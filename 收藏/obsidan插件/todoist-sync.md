# todoist-sync 插件说明

## 插件简介
todoist-sync 是 Obsidian 的一个任务管理集成插件，它实现了 Obsidian 笔记与 Todoist 任务管理应用之间的双向同步功能。这个插件特别适合那些同时使用 Obsidian 进行笔记和 Todoist 进行任务管理、希望保持信息一致性，或者希望在单一界面中管理笔记和任务的用户，可以帮助他们更高效地进行个人和项目管理。

## 主要功能

### 1. 双向任务同步
- 在 Obsidian 笔记中创建和编辑 Todoist 任务
- 将 Todoist 任务同步到 Obsidian 笔记
- 支持任务状态（待办、进行中、已完成）的双向同步
- 保持任务属性（优先级、截止日期、标签等）的一致性
- 提供冲突检测和解决机制

### 2. 任务管理增强
- 在 Obsidian 中直接查看 Todoist 任务列表
- 支持在笔记中嵌入 Todoist 项目或过滤器
- 提供任务快速添加功能
- 支持任务分类和分组
- 可以设置任务提醒和通知

### 3. 笔记与任务集成
- 将笔记内容转换为任务
- 在任务描述中引用笔记链接
- 支持在笔记中嵌入任务进度
- 提供基于笔记内容的任务创建规则
- 可以将笔记标签映射到任务标签

### 4. 自动化工作流
- 创建自定义的同步规则和触发器
- 支持基于时间或事件的自动同步
- 提供批量任务操作功能
- 可以设置任务模板和快捷方式
- 支持与其他插件（如 Tasks、Dataview 等）的集成

## 安装方法
1. 在 Obsidian 的设置中打开社区插件
2. 禁用安全模式
3. 点击"浏览社区插件"
4. 搜索"todoist-sync"
5. 点击"安装"，然后启用插件
6. 在插件设置中，按照提示完成 Todoist 账号的授权连接

## 使用教程

### 连接 Todoist 账号
- 打开插件设置面板
- 点击"Connect to Todoist"按钮
- 按照提示进行授权，授予插件访问 Todoist 数据的权限
- 授权成功后，插件会显示已连接的账号信息
- 配置初始同步设置

### 在 Obsidian 中管理 Todoist 任务
- 使用侧边栏图标打开 Todoist 面板
- 查看和管理您的 Todoist 任务、项目和过滤器
- 在面板中创建新任务，或编辑现有任务
- 使用拖拽功能在项目间移动任务
- 点击任务状态图标（圆形/勾选框）切换任务完成状态

### 在笔记中嵌入和创建任务
- 在笔记中使用 `{{rendered todoist tasks}}` 或类似语法嵌入任务列表
- 使用快捷键或命令面板快速添加任务
- 选中文本后，使用右键菜单将其转换为任务
- 在任务描述中使用 Obsidian 链接格式引用其他笔记
- 配置笔记标签与任务标签的映射关系

### 配置同步规则
- 在插件设置中，找到"同步设置"部分
- 配置同步频率和触发条件
- 设置哪些项目或过滤器需要同步
- 配置任务属性的映射规则
- 设置冲突解决策略（保留 Obsidian 版本/Todoist 版本/手动选择）

## 配置选项说明

### 基本设置
- **Enable two-way sync**: 启用双向同步
- **Sync interval (minutes)**: 设置同步间隔（分钟）
- **Sync on startup**: 启动时同步
- **Sync on note save**: 保存笔记时同步
- **Show sync status in status bar**: 在状态栏显示同步状态

### 任务映射设置
- **Map Obsidian tags to Todoist labels**: 将 Obsidian 标签映射到 Todoist 标签
- **Map note properties to task attributes**: 将笔记属性映射到任务属性
- **Default project for new tasks**: 新任务的默认项目
- **Default priority for new tasks**: 新任务的默认优先级
- **Include subtasks in sync**: 在同步中包含子任务

### 显示设置
- **Show task due dates**: 显示任务截止日期
- **Show task priorities**: 显示任务优先级
- **Show task labels**: 显示任务标签
- **Compact task view**: 紧凑任务视图
- **Show completed tasks**: 显示已完成任务

### 高级设置
- **Enable debug logging**: 启用调试日志
- **Conflict resolution strategy**: 冲突解决策略
- **Max tasks per sync**: 每次同步的最大任务数
- **Enable batch operations**: 启用批量操作
- **Sync task comments**: 同步任务评论

## 高级功能

### 复杂任务查询与过滤
- 创建自定义的任务过滤器和视图
- 支持高级查询语法（类似于 Todoist 的过滤器语法）
- 保存常用的查询和过滤条件
- 提供基于上下文的任务建议
- 支持跨项目和跨过滤器的任务搜索

### 任务模板系统
- 创建和管理任务模板
- 设置模板的触发条件和应用规则
- 支持动态模板，基于上下文生成任务
- 可以将模板与笔记模板集成
- 提供社区共享的任务模板库

### 工作流自动化
- 创建基于事件的自动化规则
- 支持条件逻辑和复杂触发条件
- 可以设置任务提醒和通知规则
- 提供与日历和时间管理工具的集成
- 支持批量任务处理和状态更新

### 数据分析与可视化
- 提供任务完成统计和分析
- 显示任务趋势和模式
- 提供 productivity 指标和报告
- 可视化任务分布和优先级
- 可以导出数据用于外部分析

## 注意事项
- 使用前请确保您有 Todoist 账号，并了解 Todoist 的基本功能
- 初次同步可能需要一定时间，特别是如果您有大量任务
- 在进行重要操作前，建议备份您的 Todoist 数据和 Obsidian 笔记
- 某些特殊的任务属性或功能可能无法完全同步
- 网络连接问题可能会影响同步的及时性
- 与其他任务管理插件可能存在兼容性问题

## 常见问题解答

### Q: 如何解决同步冲突？
A: 当出现同步冲突时，插件会根据您设置的冲突解决策略进行处理。您可以在插件设置中选择保留 Obsidian 版本、Todoist 版本或手动解决冲突。对于重要的冲突，建议手动检查并合并更改。

### Q: 可以只同步特定的项目或过滤器吗？
A: 是的，在插件设置中，您可以配置要同步的项目和过滤器。这样可以减少同步的数据量，提高性能，并只关注您真正需要的任务。

### Q: 任务同步会消耗 Todoist 的 API 限额吗？
A: 是的，Todoist API 有使用限额。不过，插件通常会优化 API 调用，避免不必要的请求。如果您担心限额问题，可以在设置中调整同步频率和范围。

### Q: 如何在笔记中嵌入特定的任务列表？
A: 您可以使用插件提供的语法或命令在笔记中嵌入任务列表。例如，使用 `{{rendered todoist project="Project Name"}}` 嵌入特定项目的任务，或使用 `{{rendered todoist filter="Filter Name"}}` 嵌入基于过滤器的任务列表。具体语法可能因插件版本而异，请参考插件文档。