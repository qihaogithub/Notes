# Metadata Menu 插件文档

Metadata Menu 是一个强大的 Obsidian 插件，专门用于管理和编辑笔记的前置元数据（frontmatter）。它提供了直观的界面和丰富的功能，让元数据管理变得更加简单高效。

## 主要功能

### 元数据字段管理
- **字段类型支持**: 支持文本、数字、日期、布尔值、选择列表、文件链接等多种字段类型
- **字段模板**: 可以创建和保存常用的字段模板，快速应用到多个笔记
- **字段验证**: 提供字段值验证功能，确保数据的一致性和准确性
- **默认值设置**: 可以为字段设置默认值，简化数据输入

### 批量操作
- **批量编辑**: 支持同时对多个笔记的元数据进行批量编辑
- **批量添加字段**: 可以为多个笔记批量添加相同的元数据字段
- **批量删除字段**: 可以批量删除不需要的元数据字段
- **批量更新值**: 批量更新多个笔记中相同字段的值

### 高级编辑界面
- **表单式编辑**: 提供类似表单的编辑界面，直观易用
- **内联编辑**: 支持在阅读视图中直接编辑元数据字段
- **快捷操作**: 提供右键菜单和快捷键支持，提高编辑效率
- **实时预览**: 编辑时实时预览元数据的变化效果

### 数据可视化
- **元数据面板**: 在侧边栏显示当前笔记的元数据信息
- **统计视图**: 提供元数据字段的统计和分析功能
- **数据导出**: 支持将元数据导出为 CSV 或其他格式
- **图表生成**: 可以根据元数据生成简单的统计图表

## 安装与配置

### 安装方法
1. 在 Obsidian 中打开设置
2. 进入社区插件页面
3. 搜索 "Metadata Menu"
4. 点击安装并启用插件

### 基本配置
- **启用插件**: 在插件设置中启用 Metadata Menu
- **界面位置**: 配置元数据面板的显示位置
- **默认行为**: 设置插件的默认操作行为
- **快捷键**: 配置常用操作的快捷键

## 使用指南

### 添加元数据字段
1. 打开要添加元数据的笔记
2. 点击元数据面板中的"添加字段"按钮
3. 选择字段类型并配置字段属性
4. 输入字段值并保存

### 编辑现有元数据
1. 在元数据面板中找到要编辑的字段
2. 点击字段值进行编辑
3. 使用提供的编辑控件修改值
4. 保存更改

### 批量操作步骤
1. 在文件列表中选择多个笔记
2. 右键点击选择"批量编辑元数据"
3. 选择要操作的字段和操作类型
4. 配置操作参数并执行

### 创建字段模板
1. 在插件设置中进入"字段模板"页面
2. 点击"新建模板"
3. 定义模板名称和字段结构
4. 保存模板供以后使用

## 配置选项说明

### 界面设置
- **显示位置**: 设置元数据面板的显示位置（侧边栏、状态栏等）
- **面板大小**: 调整元数据面板的大小
- **显示格式**: 设置元数据的显示格式和样式
- **隐藏选项**: 配置哪些元数据字段默认隐藏

### 编辑设置
- **编辑模式**: 设置默认的编辑模式（表单、内联等）
- **自动保存**: 配置编辑后是否自动保存
- **确认提示**: 设置重要操作前的确认提示
- **撤销支持**: 启用或禁用撤销功能

### 字段类型设置
- **文本字段**: 配置文本字段的默认行为和验证规则
- **数字字段**: 设置数字字段的范围和格式
- **日期字段**: 配置日期字段的格式和选择器
- **选择列表**: 管理可用的选择列表选项

### 高级设置
- **性能优化**: 配置大数据集时的性能优化选项
- **缓存设置**: 设置元数据缓存策略
- **集成选项**: 配置与其他插件的集成选项
- **自定义脚本**: 支持使用自定义脚本扩展功能

## 高级功能

### 条件字段
- 支持基于其他字段值的条件字段显示
- 可以创建复杂的字段依赖关系
- 支持动态字段值的计算和显示

### 字段继承
- 支持从父笔记或模板继承元数据字段
- 可以配置继承规则和覆盖行为
- 提供继承关系的可视化展示

### API 集成
- 提供 JavaScript API 供其他插件调用
- 支持通过 API 批量操作元数据
- 可以创建自定义的元数据处理逻辑

### 数据验证
- 支持复杂的字段值验证规则
- 可以提供验证错误提示和修正建议
- 支持自定义验证函数

## 注意事项

- 元数据修改会影响笔记的 frontmatter 部分，请确保了解 frontmatter 的格式要求
- 批量操作前建议备份重要笔记
- 复杂的字段模板可能会影响插件性能
- 与其他元数据相关的插件可能存在兼容性问题

## 常见问题解答

### Q: Metadata Menu 和 Dataview 插件有什么区别？
A: Metadata Menu 专注于元数据的编辑和管理，提供直观的编辑界面；而 Dataview 专注于元数据的查询和展示。两者可以配合使用。

### Q: 如何恢复误删的元数据字段？
A: 可以使用 Obsidian 的版本历史功能恢复，或者从备份中恢复笔记。

### Q: 支持自定义字段类型吗？
A: 目前支持插件内置的字段类型，但可以通过自定义脚本实现一些扩展功能。

### Q: 批量操作会影响大量笔记的性能吗？
A: 对于大量笔记，建议分批进行操作，或者使用性能优化选项。