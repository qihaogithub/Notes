# 折射焦散效果

作者：炫云 （发表日期：2018-11-16 18:14:23）

通过正确的设置，我们可以使用 Arnold 实现焦散效果。今天为大家介绍如何设置一个包含 “液体” 网格的场景，并在指定给它的标准曲面着色器中启用焦散。

您可以不使用 Arnold 的标准灯光，而是创建一个多边形网格，为其指定一个平面自发光着色器，然后让 GI 引擎 “找到” 该灯光。这样便会得到焦散。但是，这种方法的效率极低，因为小的自发光物体往往难以射中。您需要大量光线或一个非常大的自发光物体才能让噪波变得可以接受。

正因为如此，用户手册指出我们可以实现大型自发光物体产生的 “软” 焦散。

首先，打开场景文件。该场景包含一个起始的基本对象。创建一个多边形地板平面，并将其放在网格底下。

**自发光平面**

再创建一个平面，并按如下所示，将其放在网格上方。

![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/obsidian/newsview0219_1.jpg)

为多边形网格上方的多边形平面指定一个标准曲面着色器。这将代表我们的光源。将标准曲面着色器的 “基础权重”(Base Weight) 值减小为 0，并将 “自发光”(Emission) 增大为 10 左右。

**网格着色**

为了给产生折射焦散的多边形网格指定一个标准曲面着色器。需要将它设置为一个玻璃着色器。但是在这之前，必须先确保 “不透明”(Opaque) 标志已禁用。选择多边形网格，并在 Arnold 属性中禁用“不透明”(Opaque)。

将 “漫反射”(Diffuse) 值减小为 0。将镜面反射的 “权重”(Weight) 增大为 1，并将镜面反射的 “粗糙度”(Roughness) 减小为 0。将透射的 “权重”(Weight) 增大为 1，并将 “折射率”(IOR) 更改为玻璃的折射率 (1.5)。

接下来，将为着色器添加一个带颜色的染色。为玻璃标准曲面着色器的透射 “颜色”(Color) 添加一些颜色。

**折射焦散**

为了能够透过玻璃看到折射焦散，必须在指定给玻璃网格的标准曲面着色器中启用折射焦散。可在 “高级”(Advanced) 下找到“焦散”(Caustics)。请启用该属性。

在下面的图像中，您可以看到启用 “焦散”(Caustics) 后的区别。

![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/obsidian/newsview0219_2.jpg)

**噪波**

要减少焦散中的噪波，必须增大 GI 漫反射采样数。

下图显示了使用不同 GI 漫反射采样数渲染焦散的区别：分别为 3 个和 6 个 GI 漫反射采样。

![](https://qhdtc.oss-cn-chengdu.aliyuncs.com/obsidian/newsview0219_3.jpg)

使用此属性时务必小心，因为增大此值会显著增加渲染时间。设置完后，就可以开始渲染了。

使用此方法时的注意事项：

1\\. 精细调整指定了自发光着色器的几何体的正确 “自发光”(Emission) 量，否则可能会产生很多白色噪波。

2\\. 增大 GI 漫反射采样数可减少噪波。

[https://cloud.shinewonder.com/news/newsview0219.html](https://cloud.shinewonder.com/news/newsview0219.html "https://cloud.shinewonder.com/news/newsview0219.html")
