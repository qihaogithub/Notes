/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var m0=Object.create;var Ir=Object.defineProperty;var g0=Object.getOwnPropertyDescriptor;var y0=Object.getOwnPropertyNames;var w0=Object.getPrototypeOf,b0=Object.prototype.hasOwnProperty;var r=(t,e)=>Ir(t,"name",{value:e,configurable:!0});var Ct=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wu=(t,e)=>{for(var n in e)Ir(t,n,{get:e[n],enumerable:!0})},Bu=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of y0(e))!b0.call(t,s)&&s!==n&&Ir(t,s,{get:()=>e[s],enumerable:!(i=g0(e,s))||i.enumerable});return t};var at=(t,e,n)=>(n=t!=null?m0(w0(t)):{},Bu(e||!t||!t.__esModule?Ir(n,"default",{value:t,enumerable:!0}):n,t)),k0=t=>Bu(Ir({},"__esModule",{value:!0}),t);var Gu=Ct((fx,ju)=>{"use strict";function Dt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}r(Dt,"assertPath");function Hu(t,e){for(var n="",i=0,s=-1,a=0,l,c=0;c<=t.length;++c){if(c<t.length)l=t.charCodeAt(c);else{if(l===47)break;l=47}if(l===47){if(!(s===c-1||a===1))if(s!==c-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),s=c,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,s=c,a=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(s+1,c):n=t.slice(s+1,c),i=c-s-1;s=c,a=0}else l===46&&a!==-1?++a:a=-1}return n}r(Hu,"normalizeStringPosix");function A0(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}r(A0,"_format");var jn={resolve:r(function(){for(var e="",n=!1,i,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(i===void 0&&(i=process.cwd()),a=i),Dt(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=Hu(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:r(function(e){if(Dt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,i=e.charCodeAt(e.length-1)===47;return e=Hu(e,!n),e.length===0&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:r(function(e){return Dt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];Dt(i),i.length>0&&(e===void 0?e=i:e+="/"+i)}return e===void 0?".":jn.normalize(e)},"join"),relative:r(function(e,n){if(Dt(e),Dt(n),e===n||(e=jn.resolve(e),n=jn.resolve(n),e===n))return"";for(var i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var s=e.length,a=s-i,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var c=n.length,f=c-l,h=a<f?a:f,p=-1,g=0;g<=h;++g){if(g===h){if(f>h){if(n.charCodeAt(l+g)===47)return n.slice(l+g+1);if(g===0)return n.slice(l+g)}else a>h&&(e.charCodeAt(i+g)===47?p=g:g===0&&(p=0));break}var y=e.charCodeAt(i+g),w=n.charCodeAt(l+g);if(y!==w)break;y===47&&(p=g)}var C="";for(g=i+p+1;g<=s;++g)(g===s||e.charCodeAt(g)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+n.slice(l+p):(l+=p,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:r(function(e){return e},"_makeLong"),dirname:r(function(e){if(Dt(e),e.length===0)return".";for(var n=e.charCodeAt(0),i=n===47,s=-1,a=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!a){s=l;break}}else a=!1;return s===-1?i?"/":".":i&&s===1?"//":e.slice(0,s)},"dirname"),basename:r(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Dt(e);var i=0,s=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,f=-1;for(l=e.length-1;l>=0;--l){var h=e.charCodeAt(l);if(h===47){if(!a){i=l+1;break}}else f===-1&&(a=!1,f=l+1),c>=0&&(h===n.charCodeAt(c)?--c===-1&&(s=l):(c=-1,s=f))}return i===s?s=f:s===-1&&(s=e.length),e.slice(i,s)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!a){i=l+1;break}}else s===-1&&(a=!1,s=l+1);return s===-1?"":e.slice(i,s)}},"basename"),extname:r(function(e){Dt(e);for(var n=-1,i=0,s=-1,a=!0,l=0,c=e.length-1;c>=0;--c){var f=e.charCodeAt(c);if(f===47){if(!a){i=c+1;break}continue}s===-1&&(a=!1,s=c+1),f===46?n===-1?n=c:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||s===-1||l===0||l===1&&n===s-1&&n===i+1?"":e.slice(n,s)},"extname"),format:r(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return A0("/",e)},"format"),parse:r(function(e){Dt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var i=e.charCodeAt(0),s=i===47,a;s?(n.root="/",a=1):a=0;for(var l=-1,c=0,f=-1,h=!0,p=e.length-1,g=0;p>=a;--p){if(i=e.charCodeAt(p),i===47){if(!h){c=p+1;break}continue}f===-1&&(h=!1,f=p+1),i===46?l===-1?l=p:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||f===-1||g===0||g===1&&l===f-1&&l===c+1?f!==-1&&(c===0&&s?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(c,f)):(c===0&&s?(n.name=e.slice(1,l),n.base=e.slice(1,f)):(n.name=e.slice(c,l),n.base=e.slice(c,f)),n.ext=e.slice(l,f)),c>0?n.dir=e.slice(0,c-1):s&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};jn.posix=jn;ju.exports=jn});var dc=Ct((qx,fc)=>{var Zn=1e3,Qn=Zn*60,Xn=Qn*60,En=Xn*24,R0=En*7,N0=En*365.25;fc.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return W0(t);if(n==="number"&&isFinite(t))return e.long?V0(t):B0(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function W0(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*N0;case"weeks":case"week":case"w":return n*R0;case"days":case"day":case"d":return n*En;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Xn;case"minutes":case"minute":case"mins":case"min":case"m":return n*Qn;case"seconds":case"second":case"secs":case"sec":case"s":return n*Zn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}r(W0,"parse");function B0(t){var e=Math.abs(t);return e>=En?Math.round(t/En)+"d":e>=Xn?Math.round(t/Xn)+"h":e>=Qn?Math.round(t/Qn)+"m":e>=Zn?Math.round(t/Zn)+"s":t+"ms"}r(B0,"fmtShort");function V0(t){var e=Math.abs(t);return e>=En?zi(t,e,En,"day"):e>=Xn?zi(t,e,Xn,"hour"):e>=Qn?zi(t,e,Qn,"minute"):e>=Zn?zi(t,e,Zn,"second"):t+" ms"}r(V0,"fmtLong");function zi(t,e,n,i){var s=e>=n*1.5;return Math.round(t/n)+" "+i+(s?"s":"")}r(zi,"plural")});var ha=Ct((Zx,hc)=>{function Y0(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=s,n.enabled=c,n.humanize=dc(),n.destroy=h,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function e(p){let g=0;for(let y=0;y<p.length;y++)g=(g<<5)-g+p.charCodeAt(y),g|=0;return n.colors[Math.abs(g)%n.colors.length]}r(e,"selectColor"),n.selectColor=e;function n(p){let g,y=null,w,C;function _(...S){if(!_.enabled)return;let A=_,F=Number(new Date),O=F-(g||F);A.diff=O,A.prev=g,A.curr=F,g=F,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let R=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,Z)=>{if(E==="%%")return"%";R++;let Q=n.formatters[Z];if(typeof Q=="function"){let U=S[R];E=Q.call(A,U),S.splice(R,1),R--}return E}),n.formatArgs.call(A,S),(A.log||n.log).apply(A,S)}return r(_,"debug"),_.namespace=p,_.useColors=n.useColors(),_.color=n.selectColor(p),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:r(()=>y!==null?y:(w!==n.namespaces&&(w=n.namespaces,C=n.enabled(p)),C),"get"),set:r(S=>{y=S},"set")}),typeof n.init=="function"&&n.init(_),_}r(n,"createDebug");function i(p,g){let y=n(this.namespace+(typeof g>"u"?":":g)+p);return y.log=this.log,y}r(i,"extend");function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of g)y[0]==="-"?n.skips.push(y.slice(1)):n.names.push(y)}r(s,"enable");function a(p,g){let y=0,w=0,C=-1,_=0;for(;y<p.length;)if(w<g.length&&(g[w]===p[y]||g[w]==="*"))g[w]==="*"?(C=w,_=y,w++):(y++,w++);else if(C!==-1)w=C+1,_++,y=_;else return!1;for(;w<g.length&&g[w]==="*";)w++;return w===g.length}r(a,"matchesTemplate");function l(){let p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}r(l,"disable");function c(p){for(let g of n.skips)if(a(p,g))return!1;for(let g of n.names)if(a(p,g))return!0;return!1}r(c,"enabled");function f(p){return p instanceof Error?p.stack||p.message:p}r(f,"coerce");function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r(h,"destroy"),n.enable(n.load()),n}r(Y0,"setup");hc.exports=Y0});var pc=Ct((Qe,$i)=>{Qe.formatArgs=$0;Qe.save=U0;Qe.load=H0;Qe.useColors=z0;Qe.storage=j0();Qe.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Qe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function z0(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r(z0,"useColors");function $0(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+$i.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(i=n))}),t.splice(i,0,e)}r($0,"formatArgs");Qe.log=console.debug||console.log||(()=>{});function U0(t){try{t?Qe.storage.setItem("debug",t):Qe.storage.removeItem("debug")}catch{}}r(U0,"save");function H0(){let t;try{t=Qe.storage.getItem("debug")||Qe.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}r(H0,"load");function j0(){try{return localStorage}catch{}}r(j0,"localstorage");$i.exports=ha()(Qe);var{formatters:G0}=$i.exports;G0.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var gc=Ct((ev,mc)=>{"use strict";mc.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(n+t),s=e.indexOf("--");return i!==-1&&(s===-1||i<s)}});var bc=Ct((tv,wc)=>{"use strict";var K0=require("os"),yc=require("tty"),ct=gc(),{env:Te}=process,Ui;ct("no-color")||ct("no-colors")||ct("color=false")||ct("color=never")?Ui=0:(ct("color")||ct("colors")||ct("color=true")||ct("color=always"))&&(Ui=1);function q0(){if("FORCE_COLOR"in Te)return Te.FORCE_COLOR==="true"?1:Te.FORCE_COLOR==="false"?0:Te.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Te.FORCE_COLOR,10),3)}r(q0,"envForceColor");function J0(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}r(J0,"translateLevel");function Z0(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let i=q0();i!==void 0&&(Ui=i);let s=n?Ui:i;if(s===0)return 0;if(n){if(ct("color=16m")||ct("color=full")||ct("color=truecolor"))return 3;if(ct("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let a=s||0;if(Te.TERM==="dumb")return a;if(process.platform==="win32"){let l=K0.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Te)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Te)||Te.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Te)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Te.TEAMCITY_VERSION)?1:0;if(Te.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Te){let l=Number.parseInt((Te.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Te.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Te.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Te.TERM)||"COLORTERM"in Te?1:a}r(Z0,"supportsColor");function pa(t,e={}){let n=Z0(t,{streamIsTTY:t&&t.isTTY,...e});return J0(n)}r(pa,"getSupportLevel");wc.exports={supportsColor:pa,stdout:pa({isTTY:yc.isatty(1)}),stderr:pa({isTTY:yc.isatty(2)})}});var xc=Ct((Fe,ji)=>{var Q0=require("tty"),Hi=require("util");Fe.init=sy;Fe.log=ny;Fe.formatArgs=ey;Fe.save=ry;Fe.load=iy;Fe.useColors=X0;Fe.destroy=Hi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Fe.colors=[6,2,3,4,5,1];try{let t=bc();t&&(t.stderr||t).level>=2&&(Fe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Fe.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[n]=i,t},{});function X0(){return"colors"in Fe.inspectOpts?!!Fe.inspectOpts.colors:Q0.isatty(process.stderr.fd)}r(X0,"useColors");function ey(t){let{namespace:e,useColors:n}=this;if(n){let i=this.color,s="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${s};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(s+"m+"+ji.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=ty()+e+" "+t[0]}r(ey,"formatArgs");function ty(){return Fe.inspectOpts.hideDate?"":new Date().toISOString()+" "}r(ty,"getDate");function ny(...t){return process.stderr.write(Hi.formatWithOptions(Fe.inspectOpts,...t)+`
`)}r(ny,"log");function ry(t){t?process.env.DEBUG=t:delete process.env.DEBUG}r(ry,"save");function iy(){return process.env.DEBUG}r(iy,"load");function sy(t){t.inspectOpts={};let e=Object.keys(Fe.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Fe.inspectOpts[e[n]]}r(sy,"init");ji.exports=ha()(Fe);var{formatters:kc}=ji.exports;kc.o=function(t){return this.inspectOpts.colors=this.useColors,Hi.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};kc.O=function(t){return this.inspectOpts.colors=this.useColors,Hi.inspect(t,this.inspectOpts)}});var vc=Ct((iv,ma)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ma.exports=pc():ma.exports=xc()});var Zc=Ct((ss,Jc)=>{(function(t,e){typeof ss=="object"&&typeof Jc<"u"?e(ss):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(ss,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=r(S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let A=S.match(e);if(!A)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return A.shift(),A},"validateAndParse"),i=r(S=>S==="*"||S==="x"||S==="X","isWildcard"),s=r(S=>{let A=parseInt(S,10);return isNaN(A)?S:A},"tryParse"),a=r((S,A)=>typeof S!=typeof A?[String(S),String(A)]:[S,A],"forceType"),l=r((S,A)=>{if(i(S)||i(A))return 0;let[F,O]=a(s(S),s(A));return F>O?1:F<O?-1:0},"compareStrings"),c=r((S,A)=>{for(let F=0;F<Math.max(S.length,A.length);F++){let O=l(S[F]||"0",A[F]||"0");if(O!==0)return O}return 0},"compareSegments"),f=r((S,A)=>{let F=n(S),O=n(A),R=F.pop(),Y=O.pop(),E=c(F,O);return E!==0?E:R&&Y?c(R.split("."),Y.split(".")):R||Y?R?-1:1:0},"compareVersions"),h=r((S,A,F)=>{y(F);let O=f(S,A);return p[F].includes(O)},"compare"),p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},g=Object.keys(p),y=r(S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(g.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${g.join("|")}`)},"assertValidOperator"),w=r((S,A)=>{if(A=A.replace(/([><=]+)\s+/g,"$1"),A.includes("||"))return A.split("||").some(K=>w(S,K));if(A.includes(" - ")){let[K,ie]=A.split(" - ",2);return w(S,`>=${K} <=${ie}`)}else if(A.includes(" "))return A.trim().replace(/\s{2,}/g," ").split(" ").every(K=>w(S,K));let F=A.match(/^([<>=~^]+)/),O=F?F[1]:"=";if(O!=="^"&&O!=="~")return h(S,A,O);let[R,Y,E,,Z]=n(S),[Q,U,J,,le]=n(A),te=[R,Y,E],L=[Q,U??"x",J??"x"];if(le&&(!Z||c(te,L)!==0||c(Z.split("."),le.split("."))===-1))return!1;let z=L.findIndex(K=>K!=="0")+1,$=O==="~"?2:z>1?z:1;return!(c(te.slice(0,$),L.slice(0,$))!==0||c(te.slice($),L.slice($))===-1)},"satisfies"),C=r(S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),"validate"),_=r(S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S),"validateStrict");t.compare=h,t.compareVersions=f,t.satisfies=w,t.validate=C,t.validateStrict=_}))});var Ld=Ct((J_,Id)=>{"use strict";var Ms=Object.prototype.hasOwnProperty,Dd=Object.prototype.toString,Ed=Object.defineProperty,Td=Object.getOwnPropertyDescriptor,Fd=r(function(e){return typeof Array.isArray=="function"?Array.isArray(e):Dd.call(e)==="[object Array]"},"isArray"),_d=r(function(e){if(!e||Dd.call(e)!=="[object Object]")return!1;var n=Ms.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Ms.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var s;for(s in e);return typeof s>"u"||Ms.call(e,s)},"isPlainObject"),Pd=r(function(e,n){Ed&&n.name==="__proto__"?Ed(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),Od=r(function(e,n){if(n==="__proto__")if(Ms.call(e,n)){if(Td)return Td(e,n).value}else return;return e[n]},"getProperty");Id.exports=r(function t(){var e,n,i,s,a,l,c=arguments[0],f=1,h=arguments.length,p=!1;for(typeof c=="boolean"&&(p=c,c=arguments[1]||{},f=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});f<h;++f)if(e=arguments[f],e!=null)for(n in e)i=Od(c,n),s=Od(e,n),c!==s&&(p&&s&&(_d(s)||(a=Fd(s)))?(a?(a=!1,l=i&&Fd(i)?i:[]):l=i&&_d(i)?i:{},Pd(c,{name:n,newValue:t(p,l,s)})):typeof s<"u"&&Pd(c,{name:n,newValue:s}));return c},"extend")});var Rn=Ct((Hl,kr)=>{(function(t,e){typeof Hl=="object"&&typeof kr<"u"?kr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Hl,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}r(e,"hooks");function n(o){t=o}r(n,"setHookCallback");function i(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}r(i,"isArray");function s(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}r(s,"isObject");function a(o,u){return Object.prototype.hasOwnProperty.call(o,u)}r(a,"hasOwnProp");function l(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var u;for(u in o)if(a(o,u))return!1;return!0}r(l,"isObjectEmpty");function c(o){return o===void 0}r(c,"isUndefined");function f(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}r(f,"isNumber");function h(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}r(h,"isDate");function p(o,u){var d=[],m,b=o.length;for(m=0;m<b;++m)d.push(u(o[m],m));return d}r(p,"map");function g(o,u){for(var d in u)a(u,d)&&(o[d]=u[d]);return a(u,"toString")&&(o.toString=u.toString),a(u,"valueOf")&&(o.valueOf=u.valueOf),o}r(g,"extend");function y(o,u,d,m){return mu(o,u,d,m,!0).utc()}r(y,"createUTC");function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}r(w,"defaultParsingFlags");function C(o){return o._pf==null&&(o._pf=w()),o._pf}r(C,"getParsingFlags");var _;Array.prototype.some?_=Array.prototype.some:_=r(function(o){var u=Object(this),d=u.length>>>0,m;for(m=0;m<d;m++)if(m in u&&o.call(this,u[m],m,u))return!0;return!1},"some");function S(o){var u=null,d=!1,m=o._d&&!isNaN(o._d.getTime());if(m&&(u=C(o),d=_.call(u.parsedDateParts,function(b){return b!=null}),m=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&d),o._strict&&(m=m&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=m;else return m;return o._isValid}r(S,"isValid");function A(o){var u=y(NaN);return o!=null?g(C(u),o):C(u).userInvalidated=!0,u}r(A,"createInvalid");var F=e.momentProperties=[],O=!1;function R(o,u){var d,m,b,x=F.length;if(c(u._isAMomentObject)||(o._isAMomentObject=u._isAMomentObject),c(u._i)||(o._i=u._i),c(u._f)||(o._f=u._f),c(u._l)||(o._l=u._l),c(u._strict)||(o._strict=u._strict),c(u._tzm)||(o._tzm=u._tzm),c(u._isUTC)||(o._isUTC=u._isUTC),c(u._offset)||(o._offset=u._offset),c(u._pf)||(o._pf=C(u)),c(u._locale)||(o._locale=u._locale),x>0)for(d=0;d<x;d++)m=F[d],b=u[m],c(b)||(o[m]=b);return o}r(R,"copyConfig");function Y(o){R(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),O===!1&&(O=!0,e.updateOffset(this),O=!1)}r(Y,"Moment");function E(o){return o instanceof Y||o!=null&&o._isAMomentObject!=null}r(E,"isMoment");function Z(o){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}r(Z,"warn");function Q(o,u){var d=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,o),d){var m=[],b,x,T,N=arguments.length;for(x=0;x<N;x++){if(b="",typeof arguments[x]=="object"){b+=`
[`+x+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[x];m.push(b)}Z(o+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),d=!1}return u.apply(this,arguments)},u)}r(Q,"deprecate");var U={};function J(o,u){e.deprecationHandler!=null&&e.deprecationHandler(o,u),U[o]||(Z(u),U[o]=!0)}r(J,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function le(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}r(le,"isFunction");function te(o){var u,d;for(d in o)a(o,d)&&(u=o[d],le(u)?this[d]=u:this["_"+d]=u);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}r(te,"set");function L(o,u){var d=g({},o),m;for(m in u)a(u,m)&&(s(o[m])&&s(u[m])?(d[m]={},g(d[m],o[m]),g(d[m],u[m])):u[m]!=null?d[m]=u[m]:delete d[m]);for(m in o)a(o,m)&&!a(u,m)&&s(o[m])&&(d[m]=g({},d[m]));return d}r(L,"mergeConfigs");function z(o){o!=null&&this.set(o)}r(z,"Locale");var $;Object.keys?$=Object.keys:$=r(function(o){var u,d=[];for(u in o)a(o,u)&&d.push(u);return d},"keys");var K={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ie(o,u,d){var m=this._calendar[o]||this._calendar.sameElse;return le(m)?m.call(u,d):m}r(ie,"calendar");function ue(o,u,d){var m=""+Math.abs(o),b=u-m.length,x=o>=0;return(x?d?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+m}r(ue,"zeroFill");var xe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},me={};function k(o,u,d,m){var b=m;typeof m=="string"&&(b=r(function(){return this[m]()},"func")),o&&(me[o]=b),u&&(me[u[0]]=function(){return ue(b.apply(this,arguments),u[1],u[2])}),d&&(me[d]=function(){return this.localeData().ordinal(b.apply(this,arguments),o)})}r(k,"addFormatToken");function Ee(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}r(Ee,"removeFormattingTokens");function Vt(o){var u=o.match(xe),d,m;for(d=0,m=u.length;d<m;d++)me[u[d]]?u[d]=me[u[d]]:u[d]=Ee(u[d]);return function(b){var x="",T;for(T=0;T<m;T++)x+=le(u[T])?u[T].call(b,o):u[T];return x}}r(Vt,"makeFormatFunction");function sn(o,u){return o.isValid()?(u=bn(u,o.localeData()),oe[u]=oe[u]||Vt(u),oe[u](o)):o.localeData().invalidDate()}r(sn,"formatMoment");function bn(o,u){var d=5;function m(b){return u.longDateFormat(b)||b}for(r(m,"replaceLongDateFormatTokens"),v.lastIndex=0;d>=0&&v.test(o);)o=o.replace(v,m),v.lastIndex=0,d-=1;return o}r(bn,"expandFormat");var ve={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function kn(o){var u=this._longDateFormat[o],d=this._longDateFormat[o.toUpperCase()];return u||!d?u:(this._longDateFormat[o]=d.match(xe).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[o])}r(kn,"longDateFormat");var yt="Invalid date";function Yt(){return this._invalidDate}r(Yt,"invalidDate");var on="%d",Cr=/\d{1,2}/;function Vo(o){return this._ordinal.replace("%d",o)}r(Vo,"ordinal");var gi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yi(o,u,d,m){var b=this._relativeTime[d];return le(b)?b(o,u,d,m):b.replace(/%d/i,o)}r(yi,"relativeTime");function wi(o,u){var d=this._relativeTime[o>0?"future":"past"];return le(d)?d(u):d.replace(/%s/i,u)}r(wi,"pastFuture");var bi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ve(o){return typeof o=="string"?bi[o]||bi[o.toLowerCase()]:void 0}r(Ve,"normalizeUnits");function Wn(o){var u={},d,m;for(m in o)a(o,m)&&(d=Ve(m),d&&(u[d]=o[m]));return u}r(Wn,"normalizeObjectUnits");var Yo={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function zo(o){var u=[],d;for(d in o)a(o,d)&&u.push({unit:d,priority:Yo[d]});return u.sort(function(m,b){return m.priority-b.priority}),u}r(zo,"getPrioritizedUnits");var ki=/\d/,Ye=/\d\d/,xi=/\d{3}/,P=/\d{4}/,I=/[+-]?\d{6}/,M=/\d\d?/,X=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,Me=/\d{1,3}/,wt=/\d{1,4}/,qe=/[+-]?\d{1,6}/,st=/\d+/,_t=/[+-]?\d+/,ze=/Z|[+-]\d\d:?\d\d/gi,bt=/Z|[+-]\d\d(?::?\d\d)?/gi,kt=/[+-]?\d+(\.\d{1,3})?/,Ar=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Bn=/^[1-9]\d?/,$o=/^([1-9]\d|\d)/,vi;vi={};function W(o,u,d){vi[o]=le(u)?u:function(m,b){return m&&d?d:u}}r(W,"addRegexToken");function Rh(o,u){return a(vi,o)?vi[o](u._strict,u._locale):new RegExp(Nh(o))}r(Rh,"getParseRegexForToken");function Nh(o){return zt(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,d,m,b,x){return d||m||b||x}))}r(Nh,"unescapeFormat");function zt(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}r(zt,"regexEscape");function ot(o){return o<0?Math.ceil(o)||0:Math.floor(o)}r(ot,"absFloor");function ee(o){var u=+o,d=0;return u!==0&&isFinite(u)&&(d=ot(u)),d}r(ee,"toInt");var Uo={};function ce(o,u){var d,m=u,b;for(typeof o=="string"&&(o=[o]),f(u)&&(m=r(function(x,T){T[u]=ee(x)},"func")),b=o.length,d=0;d<b;d++)Uo[o[d]]=m}r(ce,"addParseToken");function Sr(o,u){ce(o,function(d,m,b,x){b._w=b._w||{},u(d,b._w,b,x)})}r(Sr,"addWeekParseToken");function Wh(o,u,d){u!=null&&a(Uo,o)&&Uo[o](u,d._a,d,o)}r(Wh,"addTimeToArrayFromToken");function Ci(o){return o%4===0&&o%100!==0||o%400===0}r(Ci,"isLeapYear");var Re=0,$t=1,Pt=2,Ce=3,xt=4,Ut=5,xn=6,Bh=7,Vh=8;k("Y",0,0,function(){var o=this.year();return o<=9999?ue(o,4):"+"+o}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),W("Y",_t),W("YY",M,Ye),W("YYYY",wt,P),W("YYYYY",qe,I),W("YYYYYY",qe,I),ce(["YYYYY","YYYYYY"],Re),ce("YYYY",function(o,u){u[Re]=o.length===2?e.parseTwoDigitYear(o):ee(o)}),ce("YY",function(o,u){u[Re]=e.parseTwoDigitYear(o)}),ce("Y",function(o,u){u[Re]=parseInt(o,10)});function Er(o){return Ci(o)?366:365}r(Er,"daysInYear"),e.parseTwoDigitYear=function(o){return ee(o)+(ee(o)>68?1900:2e3)};var Xl=Vn("FullYear",!0);function Yh(){return Ci(this.year())}r(Yh,"getIsLeapYear");function Vn(o,u){return function(d){return d!=null?(eu(this,o,d),e.updateOffset(this,u),this):Tr(this,o)}}r(Vn,"makeGetSet");function Tr(o,u){if(!o.isValid())return NaN;var d=o._d,m=o._isUTC;switch(u){case"Milliseconds":return m?d.getUTCMilliseconds():d.getMilliseconds();case"Seconds":return m?d.getUTCSeconds():d.getSeconds();case"Minutes":return m?d.getUTCMinutes():d.getMinutes();case"Hours":return m?d.getUTCHours():d.getHours();case"Date":return m?d.getUTCDate():d.getDate();case"Day":return m?d.getUTCDay():d.getDay();case"Month":return m?d.getUTCMonth():d.getMonth();case"FullYear":return m?d.getUTCFullYear():d.getFullYear();default:return NaN}}r(Tr,"get");function eu(o,u,d){var m,b,x,T,N;if(!(!o.isValid()||isNaN(d))){switch(m=o._d,b=o._isUTC,u){case"Milliseconds":return void(b?m.setUTCMilliseconds(d):m.setMilliseconds(d));case"Seconds":return void(b?m.setUTCSeconds(d):m.setSeconds(d));case"Minutes":return void(b?m.setUTCMinutes(d):m.setMinutes(d));case"Hours":return void(b?m.setUTCHours(d):m.setHours(d));case"Date":return void(b?m.setUTCDate(d):m.setDate(d));case"FullYear":break;default:return}x=d,T=o.month(),N=o.date(),N=N===29&&T===1&&!Ci(x)?28:N,b?m.setUTCFullYear(x,T,N):m.setFullYear(x,T,N)}}r(eu,"set$1");function zh(o){return o=Ve(o),le(this[o])?this[o]():this}r(zh,"stringGet");function $h(o,u){if(typeof o=="object"){o=Wn(o);var d=zo(o),m,b=d.length;for(m=0;m<b;m++)this[d[m].unit](o[d[m].unit])}else if(o=Ve(o),le(this[o]))return this[o](u);return this}r($h,"stringSet");function Uh(o,u){return(o%u+u)%u}r(Uh,"mod");var we;Array.prototype.indexOf?we=Array.prototype.indexOf:we=r(function(o){var u;for(u=0;u<this.length;++u)if(this[u]===o)return u;return-1},"indexOf");function Ho(o,u){if(isNaN(o)||isNaN(u))return NaN;var d=Uh(u,12);return o+=(u-d)/12,d===1?Ci(o)?29:28:31-d%7%2}r(Ho,"daysInMonth"),k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),k("MMMM",0,0,function(o){return this.localeData().months(this,o)}),W("M",M,Bn),W("MM",M,Ye),W("MMM",function(o,u){return u.monthsShortRegex(o)}),W("MMMM",function(o,u){return u.monthsRegex(o)}),ce(["M","MM"],function(o,u){u[$t]=ee(o)-1}),ce(["MMM","MMMM"],function(o,u,d,m){var b=d._locale.monthsParse(o,m,d._strict);b!=null?u[$t]=b:C(d).invalidMonth=o});var Hh="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jh=Ar,Gh=Ar;function Kh(o,u){return o?i(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||nu).test(u)?"format":"standalone"][o.month()]:i(this._months)?this._months:this._months.standalone}r(Kh,"localeMonths");function qh(o,u){return o?i(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[nu.test(u)?"format":"standalone"][o.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}r(qh,"localeMonthsShort");function Jh(o,u,d){var m,b,x,T=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)x=y([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(x,"").toLocaleLowerCase();return d?u==="MMM"?(b=we.call(this._shortMonthsParse,T),b!==-1?b:null):(b=we.call(this._longMonthsParse,T),b!==-1?b:null):u==="MMM"?(b=we.call(this._shortMonthsParse,T),b!==-1?b:(b=we.call(this._longMonthsParse,T),b!==-1?b:null)):(b=we.call(this._longMonthsParse,T),b!==-1?b:(b=we.call(this._shortMonthsParse,T),b!==-1?b:null))}r(Jh,"handleStrictParse");function Zh(o,u,d){var m,b,x;if(this._monthsParseExact)return Jh.call(this,o,u,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(b=y([2e3,m]),d&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!d&&!this._monthsParse[m]&&(x="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[m]=new RegExp(x.replace(".",""),"i")),d&&u==="MMMM"&&this._longMonthsParse[m].test(o))return m;if(d&&u==="MMM"&&this._shortMonthsParse[m].test(o))return m;if(!d&&this._monthsParse[m].test(o))return m}}r(Zh,"localeMonthsParse");function ru(o,u){if(!o.isValid())return o;if(typeof u=="string"){if(/^\d+$/.test(u))u=ee(u);else if(u=o.localeData().monthsParse(u),!f(u))return o}var d=u,m=o.date();return m=m<29?m:Math.min(m,Ho(o.year(),d)),o._isUTC?o._d.setUTCMonth(d,m):o._d.setMonth(d,m),o}r(ru,"setMonth");function iu(o){return o!=null?(ru(this,o),e.updateOffset(this,!0),this):Tr(this,"Month")}r(iu,"getSetMonth");function Qh(){return Ho(this.year(),this.month())}r(Qh,"getDaysInMonth");function Xh(o){return this._monthsParseExact?(a(this,"_monthsRegex")||su.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=jh),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}r(Xh,"monthsShortRegex");function ep(o){return this._monthsParseExact?(a(this,"_monthsRegex")||su.call(this),o?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Gh),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}r(ep,"monthsRegex");function su(){function o(H,ne){return ne.length-H.length}r(o,"cmpLenRev");var u=[],d=[],m=[],b,x,T,N;for(b=0;b<12;b++)x=y([2e3,b]),T=zt(this.monthsShort(x,"")),N=zt(this.months(x,"")),u.push(T),d.push(N),m.push(N),m.push(T);u.sort(o),d.sort(o),m.sort(o),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(su,"computeMonthsParse");function tp(o,u,d,m,b,x,T){var N;return o<100&&o>=0?(N=new Date(o+400,u,d,m,b,x,T),isFinite(N.getFullYear())&&N.setFullYear(o)):N=new Date(o,u,d,m,b,x,T),N}r(tp,"createDate");function Fr(o){var u,d;return o<100&&o>=0?(d=Array.prototype.slice.call(arguments),d[0]=o+400,u=new Date(Date.UTC.apply(null,d)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(o)):u=new Date(Date.UTC.apply(null,arguments)),u}r(Fr,"createUTCDate");function Ai(o,u,d){var m=7+u-d,b=(7+Fr(o,0,m).getUTCDay()-u)%7;return-b+m-1}r(Ai,"firstWeekOffset");function ou(o,u,d,m,b){var x=(7+d-m)%7,T=Ai(o,m,b),N=1+7*(u-1)+x+T,H,ne;return N<=0?(H=o-1,ne=Er(H)+N):N>Er(o)?(H=o+1,ne=N-Er(o)):(H=o,ne=N),{year:H,dayOfYear:ne}}r(ou,"dayOfYearFromWeeks");function _r(o,u,d){var m=Ai(o.year(),u,d),b=Math.floor((o.dayOfYear()-m-1)/7)+1,x,T;return b<1?(T=o.year()-1,x=b+Ht(T,u,d)):b>Ht(o.year(),u,d)?(x=b-Ht(o.year(),u,d),T=o.year()+1):(T=o.year(),x=b),{week:x,year:T}}r(_r,"weekOfYear");function Ht(o,u,d){var m=Ai(o,u,d),b=Ai(o+1,u,d);return(Er(o)-m+b)/7}r(Ht,"weeksInYear"),k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),W("w",M,Bn),W("ww",M,Ye),W("W",M,Bn),W("WW",M,Ye),Sr(["w","ww","W","WW"],function(o,u,d,m){u[m.substr(0,1)]=ee(o)});function np(o){return _r(o,this._week.dow,this._week.doy).week}r(np,"localeWeek");var rp={dow:0,doy:6};function ip(){return this._week.dow}r(ip,"localeFirstDayOfWeek");function sp(){return this._week.doy}r(sp,"localeFirstDayOfYear");function op(o){var u=this.localeData().week(this);return o==null?u:this.add((o-u)*7,"d")}r(op,"getSetWeek");function ap(o){var u=_r(this,1,4).week;return o==null?u:this.add((o-u)*7,"d")}r(ap,"getSetISOWeek"),k("d",0,"do","day"),k("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),k("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),k("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),W("d",M),W("e",M),W("E",M),W("dd",function(o,u){return u.weekdaysMinRegex(o)}),W("ddd",function(o,u){return u.weekdaysShortRegex(o)}),W("dddd",function(o,u){return u.weekdaysRegex(o)}),Sr(["dd","ddd","dddd"],function(o,u,d,m){var b=d._locale.weekdaysParse(o,m,d._strict);b!=null?u.d=b:C(d).invalidWeekday=o}),Sr(["d","e","E"],function(o,u,d,m){u[m]=ee(o)});function lp(o,u){return typeof o!="string"?o:isNaN(o)?(o=u.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}r(lp,"parseWeekday");function up(o,u){return typeof o=="string"?u.weekdaysParse(o)%7||7:isNaN(o)?null:o}r(up,"parseIsoWeekday");function jo(o,u){return o.slice(u,7).concat(o.slice(0,u))}r(jo,"shiftWeekdays");var cp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),au="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),fp="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),dp=Ar,hp=Ar,pp=Ar;function mp(o,u){var d=i(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return o===!0?jo(d,this._week.dow):o?d[o.day()]:d}r(mp,"localeWeekdays");function gp(o){return o===!0?jo(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}r(gp,"localeWeekdaysShort");function yp(o){return o===!0?jo(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}r(yp,"localeWeekdaysMin");function wp(o,u,d){var m,b,x,T=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)x=y([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(x,"").toLocaleLowerCase();return d?u==="dddd"?(b=we.call(this._weekdaysParse,T),b!==-1?b:null):u==="ddd"?(b=we.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=we.call(this._minWeekdaysParse,T),b!==-1?b:null):u==="dddd"?(b=we.call(this._weekdaysParse,T),b!==-1||(b=we.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=we.call(this._minWeekdaysParse,T),b!==-1?b:null)):u==="ddd"?(b=we.call(this._shortWeekdaysParse,T),b!==-1||(b=we.call(this._weekdaysParse,T),b!==-1)?b:(b=we.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=we.call(this._minWeekdaysParse,T),b!==-1||(b=we.call(this._weekdaysParse,T),b!==-1)?b:(b=we.call(this._shortWeekdaysParse,T),b!==-1?b:null))}r(wp,"handleStrictParse$1");function bp(o,u,d){var m,b,x;if(this._weekdaysParseExact)return wp.call(this,o,u,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(b=y([2e3,1]).day(m),d&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(x="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[m]=new RegExp(x.replace(".",""),"i")),d&&u==="dddd"&&this._fullWeekdaysParse[m].test(o))return m;if(d&&u==="ddd"&&this._shortWeekdaysParse[m].test(o))return m;if(d&&u==="dd"&&this._minWeekdaysParse[m].test(o))return m;if(!d&&this._weekdaysParse[m].test(o))return m}}r(bp,"localeWeekdaysParse");function kp(o){if(!this.isValid())return o!=null?this:NaN;var u=Tr(this,"Day");return o!=null?(o=lp(o,this.localeData()),this.add(o-u,"d")):u}r(kp,"getSetDayOfWeek");function xp(o){if(!this.isValid())return o!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return o==null?u:this.add(o-u,"d")}r(xp,"getSetLocaleDayOfWeek");function vp(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var u=up(o,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}r(vp,"getSetISODayOfWeek");function Cp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Go.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=dp),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}r(Cp,"weekdaysRegex");function Ap(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Go.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=hp),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}r(Ap,"weekdaysShortRegex");function Sp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Go.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pp),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}r(Sp,"weekdaysMinRegex");function Go(){function o($e,Jt){return Jt.length-$e.length}r(o,"cmpLenRev");var u=[],d=[],m=[],b=[],x,T,N,H,ne;for(x=0;x<7;x++)T=y([2e3,1]).day(x),N=zt(this.weekdaysMin(T,"")),H=zt(this.weekdaysShort(T,"")),ne=zt(this.weekdays(T,"")),u.push(N),d.push(H),m.push(ne),b.push(N),b.push(H),b.push(ne);u.sort(o),d.sort(o),m.sort(o),b.sort(o),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(Go,"computeWeekdaysParse");function Ko(){return this.hours()%12||12}r(Ko,"hFormat");function Ep(){return this.hours()||24}r(Ep,"kFormat"),k("H",["HH",2],0,"hour"),k("h",["hh",2],0,Ko),k("k",["kk",2],0,Ep),k("hmm",0,0,function(){return""+Ko.apply(this)+ue(this.minutes(),2)}),k("hmmss",0,0,function(){return""+Ko.apply(this)+ue(this.minutes(),2)+ue(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+ue(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+ue(this.minutes(),2)+ue(this.seconds(),2)});function lu(o,u){k(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}r(lu,"meridiem"),lu("a",!0),lu("A",!1);function uu(o,u){return u._meridiemParse}r(uu,"matchMeridiem"),W("a",uu),W("A",uu),W("H",M,$o),W("h",M,Bn),W("k",M,Bn),W("HH",M,Ye),W("hh",M,Ye),W("kk",M,Ye),W("hmm",X),W("hmmss",ae),W("Hmm",X),W("Hmmss",ae),ce(["H","HH"],Ce),ce(["k","kk"],function(o,u,d){var m=ee(o);u[Ce]=m===24?0:m}),ce(["a","A"],function(o,u,d){d._isPm=d._locale.isPM(o),d._meridiem=o}),ce(["h","hh"],function(o,u,d){u[Ce]=ee(o),C(d).bigHour=!0}),ce("hmm",function(o,u,d){var m=o.length-2;u[Ce]=ee(o.substr(0,m)),u[xt]=ee(o.substr(m)),C(d).bigHour=!0}),ce("hmmss",function(o,u,d){var m=o.length-4,b=o.length-2;u[Ce]=ee(o.substr(0,m)),u[xt]=ee(o.substr(m,2)),u[Ut]=ee(o.substr(b)),C(d).bigHour=!0}),ce("Hmm",function(o,u,d){var m=o.length-2;u[Ce]=ee(o.substr(0,m)),u[xt]=ee(o.substr(m))}),ce("Hmmss",function(o,u,d){var m=o.length-4,b=o.length-2;u[Ce]=ee(o.substr(0,m)),u[xt]=ee(o.substr(m,2)),u[Ut]=ee(o.substr(b))});function Tp(o){return(o+"").toLowerCase().charAt(0)==="p"}r(Tp,"localeIsPM");var Fp=/[ap]\.?m?\.?/i,_p=Vn("Hours",!0);function Pp(o,u,d){return o>11?d?"pm":"PM":d?"am":"AM"}r(Pp,"localeMeridiem");var cu={calendar:K,longDateFormat:ve,invalidDate:yt,ordinal:on,dayOfMonthOrdinalParse:Cr,relativeTime:gi,months:Hh,monthsShort:tu,week:rp,weekdays:cp,weekdaysMin:fp,weekdaysShort:au,meridiemParse:Fp},ge={},Pr={},Or;function Op(o,u){var d,m=Math.min(o.length,u.length);for(d=0;d<m;d+=1)if(o[d]!==u[d])return d;return m}r(Op,"commonPrefix");function fu(o){return o&&o.toLowerCase().replace("_","-")}r(fu,"normalizeLocale");function Dp(o){for(var u=0,d,m,b,x;u<o.length;){for(x=fu(o[u]).split("-"),d=x.length,m=fu(o[u+1]),m=m?m.split("-"):null;d>0;){if(b=Si(x.slice(0,d).join("-")),b)return b;if(m&&m.length>=d&&Op(x,m)>=d-1)break;d--}u++}return Or}r(Dp,"chooseLocale");function Ip(o){return!!(o&&o.match("^[^/\\\\]*$"))}r(Ip,"isLocaleNameSane");function Si(o){var u=null,d;if(ge[o]===void 0&&typeof kr<"u"&&kr&&kr.exports&&Ip(o))try{u=Or._abbr,d=require,d("./locale/"+o),an(u)}catch{ge[o]=null}return ge[o]}r(Si,"loadLocale");function an(o,u){var d;return o&&(c(u)?d=jt(o):d=qo(o,u),d?Or=d:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),Or._abbr}r(an,"getSetGlobalLocale");function qo(o,u){if(u!==null){var d,m=cu;if(u.abbr=o,ge[o]!=null)J("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=ge[o]._config;else if(u.parentLocale!=null)if(ge[u.parentLocale]!=null)m=ge[u.parentLocale]._config;else if(d=Si(u.parentLocale),d!=null)m=d._config;else return Pr[u.parentLocale]||(Pr[u.parentLocale]=[]),Pr[u.parentLocale].push({name:o,config:u}),null;return ge[o]=new z(L(m,u)),Pr[o]&&Pr[o].forEach(function(b){qo(b.name,b.config)}),an(o),ge[o]}else return delete ge[o],null}r(qo,"defineLocale");function Lp(o,u){if(u!=null){var d,m,b=cu;ge[o]!=null&&ge[o].parentLocale!=null?ge[o].set(L(ge[o]._config,u)):(m=Si(o),m!=null&&(b=m._config),u=L(b,u),m==null&&(u.abbr=o),d=new z(u),d.parentLocale=ge[o],ge[o]=d),an(o)}else ge[o]!=null&&(ge[o].parentLocale!=null?(ge[o]=ge[o].parentLocale,o===an()&&an(o)):ge[o]!=null&&delete ge[o]);return ge[o]}r(Lp,"updateLocale");function jt(o){var u;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return Or;if(!i(o)){if(u=Si(o),u)return u;o=[o]}return Dp(o)}r(jt,"getLocale");function Mp(){return $(ge)}r(Mp,"listLocales");function Jo(o){var u,d=o._a;return d&&C(o).overflow===-2&&(u=d[$t]<0||d[$t]>11?$t:d[Pt]<1||d[Pt]>Ho(d[Re],d[$t])?Pt:d[Ce]<0||d[Ce]>24||d[Ce]===24&&(d[xt]!==0||d[Ut]!==0||d[xn]!==0)?Ce:d[xt]<0||d[xt]>59?xt:d[Ut]<0||d[Ut]>59?Ut:d[xn]<0||d[xn]>999?xn:-1,C(o)._overflowDayOfYear&&(u<Re||u>Pt)&&(u=Pt),C(o)._overflowWeeks&&u===-1&&(u=Bh),C(o)._overflowWeekday&&u===-1&&(u=Vh),C(o).overflow=u),o}r(Jo,"checkOverflow");var Rp=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Np=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wp=/Z|[+-]\d\d(?::?\d\d)?/,Ei=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Zo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bp=/^\/?Date\((-?\d+)/i,Vp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yp={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function du(o){var u,d,m=o._i,b=Rp.exec(m)||Np.exec(m),x,T,N,H,ne=Ei.length,$e=Zo.length;if(b){for(C(o).iso=!0,u=0,d=ne;u<d;u++)if(Ei[u][1].exec(b[1])){T=Ei[u][0],x=Ei[u][2]!==!1;break}if(T==null){o._isValid=!1;return}if(b[3]){for(u=0,d=$e;u<d;u++)if(Zo[u][1].exec(b[3])){N=(b[2]||" ")+Zo[u][0];break}if(N==null){o._isValid=!1;return}}if(!x&&N!=null){o._isValid=!1;return}if(b[4])if(Wp.exec(b[4]))H="Z";else{o._isValid=!1;return}o._f=T+(N||"")+(H||""),Xo(o)}else o._isValid=!1}r(du,"configFromISO");function zp(o,u,d,m,b,x){var T=[$p(o),tu.indexOf(u),parseInt(d,10),parseInt(m,10),parseInt(b,10)];return x&&T.push(parseInt(x,10)),T}r(zp,"extractFromRFC2822Strings");function $p(o){var u=parseInt(o,10);return u<=49?2e3+u:u<=999?1900+u:u}r($p,"untruncateYear");function Up(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}r(Up,"preprocessRFC2822");function Hp(o,u,d){if(o){var m=au.indexOf(o),b=new Date(u[0],u[1],u[2]).getDay();if(m!==b)return C(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}r(Hp,"checkWeekday");function jp(o,u,d){if(o)return Yp[o];if(u)return 0;var m=parseInt(d,10),b=m%100,x=(m-b)/100;return x*60+b}r(jp,"calculateOffset");function hu(o){var u=Vp.exec(Up(o._i)),d;if(u){if(d=zp(u[4],u[3],u[2],u[5],u[6],u[7]),!Hp(u[1],d,o))return;o._a=d,o._tzm=jp(u[8],u[9],u[10]),o._d=Fr.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),C(o).rfc2822=!0}else o._isValid=!1}r(hu,"configFromRFC2822");function Gp(o){var u=Bp.exec(o._i);if(u!==null){o._d=new Date(+u[1]);return}if(du(o),o._isValid===!1)delete o._isValid;else return;if(hu(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:e.createFromInputFallback(o)}r(Gp,"configFromString"),e.createFromInputFallback=Q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function Yn(o,u,d){return o??u??d}r(Yn,"defaults");function Kp(o){var u=new Date(e.now());return o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}r(Kp,"currentDateArray");function Qo(o){var u,d,m=[],b,x,T;if(!o._d){for(b=Kp(o),o._w&&o._a[Pt]==null&&o._a[$t]==null&&qp(o),o._dayOfYear!=null&&(T=Yn(o._a[Re],b[Re]),(o._dayOfYear>Er(T)||o._dayOfYear===0)&&(C(o)._overflowDayOfYear=!0),d=Fr(T,0,o._dayOfYear),o._a[$t]=d.getUTCMonth(),o._a[Pt]=d.getUTCDate()),u=0;u<3&&o._a[u]==null;++u)o._a[u]=m[u]=b[u];for(;u<7;u++)o._a[u]=m[u]=o._a[u]==null?u===2?1:0:o._a[u];o._a[Ce]===24&&o._a[xt]===0&&o._a[Ut]===0&&o._a[xn]===0&&(o._nextDay=!0,o._a[Ce]=0),o._d=(o._useUTC?Fr:tp).apply(null,m),x=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[Ce]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==x&&(C(o).weekdayMismatch=!0)}}r(Qo,"configFromArray");function qp(o){var u,d,m,b,x,T,N,H,ne;u=o._w,u.GG!=null||u.W!=null||u.E!=null?(x=1,T=4,d=Yn(u.GG,o._a[Re],_r(pe(),1,4).year),m=Yn(u.W,1),b=Yn(u.E,1),(b<1||b>7)&&(H=!0)):(x=o._locale._week.dow,T=o._locale._week.doy,ne=_r(pe(),x,T),d=Yn(u.gg,o._a[Re],ne.year),m=Yn(u.w,ne.week),u.d!=null?(b=u.d,(b<0||b>6)&&(H=!0)):u.e!=null?(b=u.e+x,(u.e<0||u.e>6)&&(H=!0)):b=x),m<1||m>Ht(d,x,T)?C(o)._overflowWeeks=!0:H!=null?C(o)._overflowWeekday=!0:(N=ou(d,m,b,x,T),o._a[Re]=N.year,o._dayOfYear=N.dayOfYear)}r(qp,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function Xo(o){if(o._f===e.ISO_8601){du(o);return}if(o._f===e.RFC_2822){hu(o);return}o._a=[],C(o).empty=!0;var u=""+o._i,d,m,b,x,T,N=u.length,H=0,ne,$e;for(b=bn(o._f,o._locale).match(xe)||[],$e=b.length,d=0;d<$e;d++)x=b[d],m=(u.match(Rh(x,o))||[])[0],m&&(T=u.substr(0,u.indexOf(m)),T.length>0&&C(o).unusedInput.push(T),u=u.slice(u.indexOf(m)+m.length),H+=m.length),me[x]?(m?C(o).empty=!1:C(o).unusedTokens.push(x),Wh(x,m,o)):o._strict&&!m&&C(o).unusedTokens.push(x);C(o).charsLeftOver=N-H,u.length>0&&C(o).unusedInput.push(u),o._a[Ce]<=12&&C(o).bigHour===!0&&o._a[Ce]>0&&(C(o).bigHour=void 0),C(o).parsedDateParts=o._a.slice(0),C(o).meridiem=o._meridiem,o._a[Ce]=Jp(o._locale,o._a[Ce],o._meridiem),ne=C(o).era,ne!==null&&(o._a[Re]=o._locale.erasConvertYear(ne,o._a[Re])),Qo(o),Jo(o)}r(Xo,"configFromStringAndFormat");function Jp(o,u,d){var m;return d==null?u:o.meridiemHour!=null?o.meridiemHour(u,d):(o.isPM!=null&&(m=o.isPM(d),m&&u<12&&(u+=12),!m&&u===12&&(u=0)),u)}r(Jp,"meridiemFixWrap");function Zp(o){var u,d,m,b,x,T,N=!1,H=o._f.length;if(H===0){C(o).invalidFormat=!0,o._d=new Date(NaN);return}for(b=0;b<H;b++)x=0,T=!1,u=R({},o),o._useUTC!=null&&(u._useUTC=o._useUTC),u._f=o._f[b],Xo(u),S(u)&&(T=!0),x+=C(u).charsLeftOver,x+=C(u).unusedTokens.length*10,C(u).score=x,N?x<m&&(m=x,d=u):(m==null||x<m||T)&&(m=x,d=u,T&&(N=!0));g(o,d||u)}r(Zp,"configFromStringAndArray");function Qp(o){if(!o._d){var u=Wn(o._i),d=u.day===void 0?u.date:u.day;o._a=p([u.year,u.month,d,u.hour,u.minute,u.second,u.millisecond],function(m){return m&&parseInt(m,10)}),Qo(o)}}r(Qp,"configFromObject");function Xp(o){var u=new Y(Jo(pu(o)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}r(Xp,"createFromConfig");function pu(o){var u=o._i,d=o._f;return o._locale=o._locale||jt(o._l),u===null||d===void 0&&u===""?A({nullInput:!0}):(typeof u=="string"&&(o._i=u=o._locale.preparse(u)),E(u)?new Y(Jo(u)):(h(u)?o._d=u:i(d)?Zp(o):d?Xo(o):em(o),S(o)||(o._d=null),o))}r(pu,"prepareConfig");function em(o){var u=o._i;c(u)?o._d=new Date(e.now()):h(u)?o._d=new Date(u.valueOf()):typeof u=="string"?Gp(o):i(u)?(o._a=p(u.slice(0),function(d){return parseInt(d,10)}),Qo(o)):s(u)?Qp(o):f(u)?o._d=new Date(u):e.createFromInputFallback(o)}r(em,"configFromInput");function mu(o,u,d,m,b){var x={};return(u===!0||u===!1)&&(m=u,u=void 0),(d===!0||d===!1)&&(m=d,d=void 0),(s(o)&&l(o)||i(o)&&o.length===0)&&(o=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=b,x._l=d,x._i=o,x._f=u,x._strict=m,Xp(x)}r(mu,"createLocalOrUTC");function pe(o,u,d,m){return mu(o,u,d,m,!1)}r(pe,"createLocal");var tm=Q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=pe.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:A()}),nm=Q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=pe.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:A()});function gu(o,u){var d,m;if(u.length===1&&i(u[0])&&(u=u[0]),!u.length)return pe();for(d=u[0],m=1;m<u.length;++m)(!u[m].isValid()||u[m][o](d))&&(d=u[m]);return d}r(gu,"pickBy");function rm(){var o=[].slice.call(arguments,0);return gu("isBefore",o)}r(rm,"min");function im(){var o=[].slice.call(arguments,0);return gu("isAfter",o)}r(im,"max");var sm=r(function(){return Date.now?Date.now():+new Date},"now"),Dr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function om(o){var u,d=!1,m,b=Dr.length;for(u in o)if(a(o,u)&&!(we.call(Dr,u)!==-1&&(o[u]==null||!isNaN(o[u]))))return!1;for(m=0;m<b;++m)if(o[Dr[m]]){if(d)return!1;parseFloat(o[Dr[m]])!==ee(o[Dr[m]])&&(d=!0)}return!0}r(om,"isDurationValid");function am(){return this._isValid}r(am,"isValid$1");function lm(){return vt(NaN)}r(lm,"createInvalid$1");function Ti(o){var u=Wn(o),d=u.year||0,m=u.quarter||0,b=u.month||0,x=u.week||u.isoWeek||0,T=u.day||0,N=u.hour||0,H=u.minute||0,ne=u.second||0,$e=u.millisecond||0;this._isValid=om(u),this._milliseconds=+$e+ne*1e3+H*6e4+N*1e3*60*60,this._days=+T+x*7,this._months=+b+m*3+d*12,this._data={},this._locale=jt(),this._bubble()}r(Ti,"Duration");function Fi(o){return o instanceof Ti}r(Fi,"isDuration");function ea(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}r(ea,"absRound");function um(o,u,d){var m=Math.min(o.length,u.length),b=Math.abs(o.length-u.length),x=0,T;for(T=0;T<m;T++)(d&&o[T]!==u[T]||!d&&ee(o[T])!==ee(u[T]))&&x++;return x+b}r(um,"compareArrays");function yu(o,u){k(o,0,0,function(){var d=this.utcOffset(),m="+";return d<0&&(d=-d,m="-"),m+ue(~~(d/60),2)+u+ue(~~d%60,2)})}r(yu,"offset"),yu("Z",":"),yu("ZZ",""),W("Z",bt),W("ZZ",bt),ce(["Z","ZZ"],function(o,u,d){d._useUTC=!0,d._tzm=ta(bt,o)});var cm=/([\+\-]|\d\d)/gi;function ta(o,u){var d=(u||"").match(o),m,b,x;return d===null?null:(m=d[d.length-1]||[],b=(m+"").match(cm)||["-",0,0],x=+(b[1]*60)+ee(b[2]),x===0?0:b[0]==="+"?x:-x)}r(ta,"offsetFromString");function na(o,u){var d,m;return u._isUTC?(d=u.clone(),m=(E(o)||h(o)?o.valueOf():pe(o).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+m),e.updateOffset(d,!1),d):pe(o).local()}r(na,"cloneWithOffset");function ra(o){return-Math.round(o._d.getTimezoneOffset())}r(ra,"getDateOffset"),e.updateOffset=function(){};function fm(o,u,d){var m=this._offset||0,b;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=ta(bt,o),o===null)return this}else Math.abs(o)<16&&!d&&(o=o*60);return!this._isUTC&&u&&(b=ra(this)),this._offset=o,this._isUTC=!0,b!=null&&this.add(b,"m"),m!==o&&(!u||this._changeInProgress?xu(this,vt(o-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:ra(this)}r(fm,"getSetOffset");function dm(o,u){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,u),this):-this.utcOffset()}r(dm,"getSetZone");function hm(o){return this.utcOffset(0,o)}r(hm,"setOffsetToUTC");function pm(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(ra(this),"m")),this}r(pm,"setOffsetToLocal");function mm(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=ta(ze,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}r(mm,"setOffsetToParsedOffset");function gm(o){return this.isValid()?(o=o?pe(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}r(gm,"hasAlignedHourOffset");function ym(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}r(ym,"isDaylightSavingTime");function wm(){if(!c(this._isDSTShifted))return this._isDSTShifted;var o={},u;return R(o,this),o=pu(o),o._a?(u=o._isUTC?y(o._a):pe(o._a),this._isDSTShifted=this.isValid()&&um(o._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}r(wm,"isDaylightSavingTimeShifted");function bm(){return this.isValid()?!this._isUTC:!1}r(bm,"isLocal");function km(){return this.isValid()?this._isUTC:!1}r(km,"isUtcOffset");function wu(){return this.isValid()?this._isUTC&&this._offset===0:!1}r(wu,"isUtc");var xm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vm=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function vt(o,u){var d=o,m=null,b,x,T;return Fi(o)?d={ms:o._milliseconds,d:o._days,M:o._months}:f(o)||!isNaN(+o)?(d={},u?d[u]=+o:d.milliseconds=+o):(m=xm.exec(o))?(b=m[1]==="-"?-1:1,d={y:0,d:ee(m[Pt])*b,h:ee(m[Ce])*b,m:ee(m[xt])*b,s:ee(m[Ut])*b,ms:ee(ea(m[xn]*1e3))*b}):(m=vm.exec(o))?(b=m[1]==="-"?-1:1,d={y:vn(m[2],b),M:vn(m[3],b),w:vn(m[4],b),d:vn(m[5],b),h:vn(m[6],b),m:vn(m[7],b),s:vn(m[8],b)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(T=Cm(pe(d.from),pe(d.to)),d={},d.ms=T.milliseconds,d.M=T.months),x=new Ti(d),Fi(o)&&a(o,"_locale")&&(x._locale=o._locale),Fi(o)&&a(o,"_isValid")&&(x._isValid=o._isValid),x}r(vt,"createDuration"),vt.fn=Ti.prototype,vt.invalid=lm;function vn(o,u){var d=o&&parseFloat(o.replace(",","."));return(isNaN(d)?0:d)*u}r(vn,"parseIso");function bu(o,u){var d={};return d.months=u.month()-o.month()+(u.year()-o.year())*12,o.clone().add(d.months,"M").isAfter(u)&&--d.months,d.milliseconds=+u-+o.clone().add(d.months,"M"),d}r(bu,"positiveMomentsDifference");function Cm(o,u){var d;return o.isValid()&&u.isValid()?(u=na(u,o),o.isBefore(u)?d=bu(o,u):(d=bu(u,o),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}r(Cm,"momentsDifference");function ku(o,u){return function(d,m){var b,x;return m!==null&&!isNaN(+m)&&(J(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=d,d=m,m=x),b=vt(d,m),xu(this,b,o),this}}r(ku,"createAdder");function xu(o,u,d,m){var b=u._milliseconds,x=ea(u._days),T=ea(u._months);o.isValid()&&(m=m??!0,T&&ru(o,Tr(o,"Month")+T*d),x&&eu(o,"Date",Tr(o,"Date")+x*d),b&&o._d.setTime(o._d.valueOf()+b*d),m&&e.updateOffset(o,x||T))}r(xu,"addSubtract");var Am=ku(1,"add"),Sm=ku(-1,"subtract");function vu(o){return typeof o=="string"||o instanceof String}r(vu,"isString");function Em(o){return E(o)||h(o)||vu(o)||f(o)||Fm(o)||Tm(o)||o===null||o===void 0}r(Em,"isMomentInput");function Tm(o){var u=s(o)&&!l(o),d=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,x,T=m.length;for(b=0;b<T;b+=1)x=m[b],d=d||a(o,x);return u&&d}r(Tm,"isMomentInputObject");function Fm(o){var u=i(o),d=!1;return u&&(d=o.filter(function(m){return!f(m)&&vu(o)}).length===0),u&&d}r(Fm,"isNumberOrStringArray");function _m(o){var u=s(o)&&!l(o),d=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,x;for(b=0;b<m.length;b+=1)x=m[b],d=d||a(o,x);return u&&d}r(_m,"isCalendarSpec");function Pm(o,u){var d=o.diff(u,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}r(Pm,"getCalendarFormat");function Om(o,u){arguments.length===1&&(arguments[0]?Em(arguments[0])?(o=arguments[0],u=void 0):_m(arguments[0])&&(u=arguments[0],o=void 0):(o=void 0,u=void 0));var d=o||pe(),m=na(d,this).startOf("day"),b=e.calendarFormat(this,m)||"sameElse",x=u&&(le(u[b])?u[b].call(this,d):u[b]);return this.format(x||this.localeData().calendar(b,this,pe(d)))}r(Om,"calendar$1");function Dm(){return new Y(this)}r(Dm,"clone");function Im(o,u){var d=E(o)?o:pe(o);return this.isValid()&&d.isValid()?(u=Ve(u)||"millisecond",u==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(u).valueOf()):!1}r(Im,"isAfter");function Lm(o,u){var d=E(o)?o:pe(o);return this.isValid()&&d.isValid()?(u=Ve(u)||"millisecond",u==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(u).valueOf()<d.valueOf()):!1}r(Lm,"isBefore");function Mm(o,u,d,m){var b=E(o)?o:pe(o),x=E(u)?u:pe(u);return this.isValid()&&b.isValid()&&x.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(b,d):!this.isBefore(b,d))&&(m[1]===")"?this.isBefore(x,d):!this.isAfter(x,d))):!1}r(Mm,"isBetween");function Rm(o,u){var d=E(o)?o:pe(o),m;return this.isValid()&&d.isValid()?(u=Ve(u)||"millisecond",u==="millisecond"?this.valueOf()===d.valueOf():(m=d.valueOf(),this.clone().startOf(u).valueOf()<=m&&m<=this.clone().endOf(u).valueOf())):!1}r(Rm,"isSame");function Nm(o,u){return this.isSame(o,u)||this.isAfter(o,u)}r(Nm,"isSameOrAfter");function Wm(o,u){return this.isSame(o,u)||this.isBefore(o,u)}r(Wm,"isSameOrBefore");function Bm(o,u,d){var m,b,x;if(!this.isValid())return NaN;if(m=na(o,this),!m.isValid())return NaN;switch(b=(m.utcOffset()-this.utcOffset())*6e4,u=Ve(u),u){case"year":x=_i(this,m)/12;break;case"month":x=_i(this,m);break;case"quarter":x=_i(this,m)/3;break;case"second":x=(this-m)/1e3;break;case"minute":x=(this-m)/6e4;break;case"hour":x=(this-m)/36e5;break;case"day":x=(this-m-b)/864e5;break;case"week":x=(this-m-b)/6048e5;break;default:x=this-m}return d?x:ot(x)}r(Bm,"diff");function _i(o,u){if(o.date()<u.date())return-_i(u,o);var d=(u.year()-o.year())*12+(u.month()-o.month()),m=o.clone().add(d,"months"),b,x;return u-m<0?(b=o.clone().add(d-1,"months"),x=(u-m)/(m-b)):(b=o.clone().add(d+1,"months"),x=(u-m)/(b-m)),-(d+x)||0}r(_i,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Vm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}r(Vm,"toString");function Ym(o){if(!this.isValid())return null;var u=o!==!0,d=u?this.clone().utc():this;return d.year()<0||d.year()>9999?sn(d,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):le(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",sn(d,"Z")):sn(d,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}r(Ym,"toISOString");function zm(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",u="",d,m,b,x;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),d="["+o+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",x=u+'[")]',this.format(d+m+b+x)}r(zm,"inspect");function $m(o){o||(o=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=sn(this,o);return this.localeData().postformat(u)}r($m,"format");function Um(o,u){return this.isValid()&&(E(o)&&o.isValid()||pe(o).isValid())?vt({to:this,from:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(Um,"from");function Hm(o){return this.from(pe(),o)}r(Hm,"fromNow");function jm(o,u){return this.isValid()&&(E(o)&&o.isValid()||pe(o).isValid())?vt({from:this,to:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(jm,"to");function Gm(o){return this.to(pe(),o)}r(Gm,"toNow");function Cu(o){var u;return o===void 0?this._locale._abbr:(u=jt(o),u!=null&&(this._locale=u),this)}r(Cu,"locale");var Au=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function Su(){return this._locale}r(Su,"localeData");var Pi=1e3,zn=60*Pi,Oi=60*zn,Eu=(365*400+97)*24*Oi;function $n(o,u){return(o%u+u)%u}r($n,"mod$1");function Tu(o,u,d){return o<100&&o>=0?new Date(o+400,u,d)-Eu:new Date(o,u,d).valueOf()}r(Tu,"localStartOfDate");function Fu(o,u,d){return o<100&&o>=0?Date.UTC(o+400,u,d)-Eu:Date.UTC(o,u,d)}r(Fu,"utcStartOfDate");function Km(o){var u,d;if(o=Ve(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Fu:Tu,o){case"year":u=d(this.year(),0,1);break;case"quarter":u=d(this.year(),this.month()-this.month()%3,1);break;case"month":u=d(this.year(),this.month(),1);break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=d(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=$n(u+(this._isUTC?0:this.utcOffset()*zn),Oi);break;case"minute":u=this._d.valueOf(),u-=$n(u,zn);break;case"second":u=this._d.valueOf(),u-=$n(u,Pi);break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(Km,"startOf");function qm(o){var u,d;if(o=Ve(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Fu:Tu,o){case"year":u=d(this.year()+1,0,1)-1;break;case"quarter":u=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=d(this.year(),this.month()+1,1)-1;break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=Oi-$n(u+(this._isUTC?0:this.utcOffset()*zn),Oi)-1;break;case"minute":u=this._d.valueOf(),u+=zn-$n(u,zn)-1;break;case"second":u=this._d.valueOf(),u+=Pi-$n(u,Pi)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(qm,"endOf");function Jm(){return this._d.valueOf()-(this._offset||0)*6e4}r(Jm,"valueOf");function Zm(){return Math.floor(this.valueOf()/1e3)}r(Zm,"unix");function Qm(){return new Date(this.valueOf())}r(Qm,"toDate");function Xm(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}r(Xm,"toArray");function eg(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}r(eg,"toObject");function tg(){return this.isValid()?this.toISOString():null}r(tg,"toJSON");function ng(){return S(this)}r(ng,"isValid$2");function rg(){return g({},C(this))}r(rg,"parsingFlags");function ig(){return C(this).overflow}r(ig,"invalidAt");function sg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}r(sg,"creationData"),k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),W("N",ia),W("NN",ia),W("NNN",ia),W("NNNN",gg),W("NNNNN",yg),ce(["N","NN","NNN","NNNN","NNNNN"],function(o,u,d,m){var b=d._locale.erasParse(o,m,d._strict);b?C(d).era=b:C(d).invalidEra=o}),W("y",st),W("yy",st),W("yyy",st),W("yyyy",st),W("yo",wg),ce(["y","yy","yyy","yyyy"],Re),ce(["yo"],function(o,u,d,m){var b;d._locale._eraYearOrdinalRegex&&(b=o.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?u[Re]=d._locale.eraYearOrdinalParse(o,b):u[Re]=parseInt(o,10)});function og(o,u){var d,m,b,x=this._eras||jt("en")._eras;for(d=0,m=x.length;d<m;++d){switch(typeof x[d].since){case"string":b=e(x[d].since).startOf("day"),x[d].since=b.valueOf();break}switch(typeof x[d].until){case"undefined":x[d].until=1/0;break;case"string":b=e(x[d].until).startOf("day").valueOf(),x[d].until=b.valueOf();break}}return x}r(og,"localeEras");function ag(o,u,d){var m,b,x=this.eras(),T,N,H;for(o=o.toUpperCase(),m=0,b=x.length;m<b;++m)if(T=x[m].name.toUpperCase(),N=x[m].abbr.toUpperCase(),H=x[m].narrow.toUpperCase(),d)switch(u){case"N":case"NN":case"NNN":if(N===o)return x[m];break;case"NNNN":if(T===o)return x[m];break;case"NNNNN":if(H===o)return x[m];break}else if([T,N,H].indexOf(o)>=0)return x[m]}r(ag,"localeErasParse");function lg(o,u){var d=o.since<=o.until?1:-1;return u===void 0?e(o.since).year():e(o.since).year()+(u-o.offset)*d}r(lg,"localeErasConvertYear");function ug(){var o,u,d,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(d=this.clone().startOf("day").valueOf(),m[o].since<=d&&d<=m[o].until||m[o].until<=d&&d<=m[o].since)return m[o].name;return""}r(ug,"getEraName");function cg(){var o,u,d,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(d=this.clone().startOf("day").valueOf(),m[o].since<=d&&d<=m[o].until||m[o].until<=d&&d<=m[o].since)return m[o].narrow;return""}r(cg,"getEraNarrow");function fg(){var o,u,d,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(d=this.clone().startOf("day").valueOf(),m[o].since<=d&&d<=m[o].until||m[o].until<=d&&d<=m[o].since)return m[o].abbr;return""}r(fg,"getEraAbbr");function dg(){var o,u,d,m,b=this.localeData().eras();for(o=0,u=b.length;o<u;++o)if(d=b[o].since<=b[o].until?1:-1,m=this.clone().startOf("day").valueOf(),b[o].since<=m&&m<=b[o].until||b[o].until<=m&&m<=b[o].since)return(this.year()-e(b[o].since).year())*d+b[o].offset;return this.year()}r(dg,"getEraYear");function hg(o){return a(this,"_erasNameRegex")||sa.call(this),o?this._erasNameRegex:this._erasRegex}r(hg,"erasNameRegex");function pg(o){return a(this,"_erasAbbrRegex")||sa.call(this),o?this._erasAbbrRegex:this._erasRegex}r(pg,"erasAbbrRegex");function mg(o){return a(this,"_erasNarrowRegex")||sa.call(this),o?this._erasNarrowRegex:this._erasRegex}r(mg,"erasNarrowRegex");function ia(o,u){return u.erasAbbrRegex(o)}r(ia,"matchEraAbbr");function gg(o,u){return u.erasNameRegex(o)}r(gg,"matchEraName");function yg(o,u){return u.erasNarrowRegex(o)}r(yg,"matchEraNarrow");function wg(o,u){return u._eraYearOrdinalRegex||st}r(wg,"matchEraYearOrdinal");function sa(){var o=[],u=[],d=[],m=[],b,x,T,N,H,ne=this.eras();for(b=0,x=ne.length;b<x;++b)T=zt(ne[b].name),N=zt(ne[b].abbr),H=zt(ne[b].narrow),u.push(T),o.push(N),d.push(H),m.push(T),m.push(N),m.push(H);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}r(sa,"computeErasParse"),k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Di(o,u){k(0,[o,o.length],0,u)}r(Di,"addWeekYearFormatToken"),Di("gggg","weekYear"),Di("ggggg","weekYear"),Di("GGGG","isoWeekYear"),Di("GGGGG","isoWeekYear"),W("G",_t),W("g",_t),W("GG",M,Ye),W("gg",M,Ye),W("GGGG",wt,P),W("gggg",wt,P),W("GGGGG",qe,I),W("ggggg",qe,I),Sr(["gggg","ggggg","GGGG","GGGGG"],function(o,u,d,m){u[m.substr(0,2)]=ee(o)}),Sr(["gg","GG"],function(o,u,d,m){u[m]=e.parseTwoDigitYear(o)});function bg(o){return _u.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}r(bg,"getSetWeekYear");function kg(o){return _u.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}r(kg,"getSetISOWeekYear");function xg(){return Ht(this.year(),1,4)}r(xg,"getISOWeeksInYear");function vg(){return Ht(this.isoWeekYear(),1,4)}r(vg,"getISOWeeksInISOWeekYear");function Cg(){var o=this.localeData()._week;return Ht(this.year(),o.dow,o.doy)}r(Cg,"getWeeksInYear");function Ag(){var o=this.localeData()._week;return Ht(this.weekYear(),o.dow,o.doy)}r(Ag,"getWeeksInWeekYear");function _u(o,u,d,m,b){var x;return o==null?_r(this,m,b).year:(x=Ht(o,m,b),u>x&&(u=x),Sg.call(this,o,u,d,m,b))}r(_u,"getSetWeekYearHelper");function Sg(o,u,d,m,b){var x=ou(o,u,d,m,b),T=Fr(x.year,0,x.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}r(Sg,"setWeekAll"),k("Q",0,"Qo","quarter"),W("Q",ki),ce("Q",function(o,u){u[$t]=(ee(o)-1)*3});function Eg(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}r(Eg,"getSetQuarter"),k("D",["DD",2],"Do","date"),W("D",M,Bn),W("DD",M,Ye),W("Do",function(o,u){return o?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],Pt),ce("Do",function(o,u){u[Pt]=ee(o.match(M)[0])});var Pu=Vn("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),W("DDD",Me),W("DDDD",xi),ce(["DDD","DDDD"],function(o,u,d){d._dayOfYear=ee(o)});function Tg(o){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?u:this.add(o-u,"d")}r(Tg,"getSetDayOfYear"),k("m",["mm",2],0,"minute"),W("m",M,$o),W("mm",M,Ye),ce(["m","mm"],xt);var Fg=Vn("Minutes",!1);k("s",["ss",2],0,"second"),W("s",M,$o),W("ss",M,Ye),ce(["s","ss"],Ut);var _g=Vn("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),W("S",Me,ki),W("SS",Me,Ye),W("SSS",Me,xi);var ln,Ou;for(ln="SSSS";ln.length<=9;ln+="S")W(ln,st);function Pg(o,u){u[xn]=ee(("0."+o)*1e3)}for(r(Pg,"parseMs"),ln="S";ln.length<=9;ln+="S")ce(ln,Pg);Ou=Vn("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function Og(){return this._isUTC?"UTC":""}r(Og,"getZoneAbbr");function Dg(){return this._isUTC?"Coordinated Universal Time":""}r(Dg,"getZoneName");var D=Y.prototype;D.add=Am,D.calendar=Om,D.clone=Dm,D.diff=Bm,D.endOf=qm,D.format=$m,D.from=Um,D.fromNow=Hm,D.to=jm,D.toNow=Gm,D.get=zh,D.invalidAt=ig,D.isAfter=Im,D.isBefore=Lm,D.isBetween=Mm,D.isSame=Rm,D.isSameOrAfter=Nm,D.isSameOrBefore=Wm,D.isValid=ng,D.lang=Au,D.locale=Cu,D.localeData=Su,D.max=nm,D.min=tm,D.parsingFlags=rg,D.set=$h,D.startOf=Km,D.subtract=Sm,D.toArray=Xm,D.toObject=eg,D.toDate=Qm,D.toISOString=Ym,D.inspect=zm,typeof Symbol<"u"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),D.toJSON=tg,D.toString=Vm,D.unix=Zm,D.valueOf=Jm,D.creationData=sg,D.eraName=ug,D.eraNarrow=cg,D.eraAbbr=fg,D.eraYear=dg,D.year=Xl,D.isLeapYear=Yh,D.weekYear=bg,D.isoWeekYear=kg,D.quarter=D.quarters=Eg,D.month=iu,D.daysInMonth=Qh,D.week=D.weeks=op,D.isoWeek=D.isoWeeks=ap,D.weeksInYear=Cg,D.weeksInWeekYear=Ag,D.isoWeeksInYear=xg,D.isoWeeksInISOWeekYear=vg,D.date=Pu,D.day=D.days=kp,D.weekday=xp,D.isoWeekday=vp,D.dayOfYear=Tg,D.hour=D.hours=_p,D.minute=D.minutes=Fg,D.second=D.seconds=_g,D.millisecond=D.milliseconds=Ou,D.utcOffset=fm,D.utc=hm,D.local=pm,D.parseZone=mm,D.hasAlignedHourOffset=gm,D.isDST=ym,D.isLocal=bm,D.isUtcOffset=km,D.isUtc=wu,D.isUTC=wu,D.zoneAbbr=Og,D.zoneName=Dg,D.dates=Q("dates accessor is deprecated. Use date instead.",Pu),D.months=Q("months accessor is deprecated. Use month instead",iu),D.years=Q("years accessor is deprecated. Use year instead",Xl),D.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",dm),D.isDSTShifted=Q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wm);function Ig(o){return pe(o*1e3)}r(Ig,"createUnix");function Lg(){return pe.apply(null,arguments).parseZone()}r(Lg,"createInZone");function Du(o){return o}r(Du,"preParsePostFormat");var se=z.prototype;se.calendar=ie,se.longDateFormat=kn,se.invalidDate=Yt,se.ordinal=Vo,se.preparse=Du,se.postformat=Du,se.relativeTime=yi,se.pastFuture=wi,se.set=te,se.eras=og,se.erasParse=ag,se.erasConvertYear=lg,se.erasAbbrRegex=pg,se.erasNameRegex=hg,se.erasNarrowRegex=mg,se.months=Kh,se.monthsShort=qh,se.monthsParse=Zh,se.monthsRegex=ep,se.monthsShortRegex=Xh,se.week=np,se.firstDayOfYear=sp,se.firstDayOfWeek=ip,se.weekdays=mp,se.weekdaysMin=yp,se.weekdaysShort=gp,se.weekdaysParse=bp,se.weekdaysRegex=Cp,se.weekdaysShortRegex=Ap,se.weekdaysMinRegex=Sp,se.isPM=Tp,se.meridiem=Pp;function Ii(o,u,d,m){var b=jt(),x=y().set(m,u);return b[d](x,o)}r(Ii,"get$1");function Iu(o,u,d){if(f(o)&&(u=o,o=void 0),o=o||"",u!=null)return Ii(o,u,d,"month");var m,b=[];for(m=0;m<12;m++)b[m]=Ii(o,m,d,"month");return b}r(Iu,"listMonthsImpl");function oa(o,u,d,m){typeof o=="boolean"?(f(u)&&(d=u,u=void 0),u=u||""):(u=o,d=u,o=!1,f(u)&&(d=u,u=void 0),u=u||"");var b=jt(),x=o?b._week.dow:0,T,N=[];if(d!=null)return Ii(u,(d+x)%7,m,"day");for(T=0;T<7;T++)N[T]=Ii(u,(T+x)%7,m,"day");return N}r(oa,"listWeekdaysImpl");function Mg(o,u){return Iu(o,u,"months")}r(Mg,"listMonths");function Rg(o,u){return Iu(o,u,"monthsShort")}r(Rg,"listMonthsShort");function Ng(o,u,d){return oa(o,u,d,"weekdays")}r(Ng,"listWeekdays");function Wg(o,u,d){return oa(o,u,d,"weekdaysShort")}r(Wg,"listWeekdaysShort");function Bg(o,u,d){return oa(o,u,d,"weekdaysMin")}r(Bg,"listWeekdaysMin"),an("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:r(function(o){var u=o%10,d=ee(o%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return o+d},"ordinal")}),e.lang=Q("moment.lang is deprecated. Use moment.locale instead.",an),e.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",jt);var Gt=Math.abs;function Vg(){var o=this._data;return this._milliseconds=Gt(this._milliseconds),this._days=Gt(this._days),this._months=Gt(this._months),o.milliseconds=Gt(o.milliseconds),o.seconds=Gt(o.seconds),o.minutes=Gt(o.minutes),o.hours=Gt(o.hours),o.months=Gt(o.months),o.years=Gt(o.years),this}r(Vg,"abs");function Lu(o,u,d,m){var b=vt(u,d);return o._milliseconds+=m*b._milliseconds,o._days+=m*b._days,o._months+=m*b._months,o._bubble()}r(Lu,"addSubtract$1");function Yg(o,u){return Lu(this,o,u,1)}r(Yg,"add$1");function zg(o,u){return Lu(this,o,u,-1)}r(zg,"subtract$1");function Mu(o){return o<0?Math.floor(o):Math.ceil(o)}r(Mu,"absCeil");function $g(){var o=this._milliseconds,u=this._days,d=this._months,m=this._data,b,x,T,N,H;return o>=0&&u>=0&&d>=0||o<=0&&u<=0&&d<=0||(o+=Mu(aa(d)+u)*864e5,u=0,d=0),m.milliseconds=o%1e3,b=ot(o/1e3),m.seconds=b%60,x=ot(b/60),m.minutes=x%60,T=ot(x/60),m.hours=T%24,u+=ot(T/24),H=ot(Ru(u)),d+=H,u-=Mu(aa(H)),N=ot(d/12),d%=12,m.days=u,m.months=d,m.years=N,this}r($g,"bubble");function Ru(o){return o*4800/146097}r(Ru,"daysToMonths");function aa(o){return o*146097/4800}r(aa,"monthsToDays");function Ug(o){if(!this.isValid())return NaN;var u,d,m=this._milliseconds;if(o=Ve(o),o==="month"||o==="quarter"||o==="year")switch(u=this._days+m/864e5,d=this._months+Ru(u),o){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(u=this._days+Math.round(aa(this._months)),o){case"week":return u/7+m/6048e5;case"day":return u+m/864e5;case"hour":return u*24+m/36e5;case"minute":return u*1440+m/6e4;case"second":return u*86400+m/1e3;case"millisecond":return Math.floor(u*864e5)+m;default:throw new Error("Unknown unit "+o)}}r(Ug,"as");function Kt(o){return function(){return this.as(o)}}r(Kt,"makeAs");var Nu=Kt("ms"),Hg=Kt("s"),jg=Kt("m"),Gg=Kt("h"),Kg=Kt("d"),qg=Kt("w"),Jg=Kt("M"),Zg=Kt("Q"),Qg=Kt("y"),Xg=Nu;function e0(){return vt(this)}r(e0,"clone$1");function t0(o){return o=Ve(o),this.isValid()?this[o+"s"]():NaN}r(t0,"get$2");function Cn(o){return function(){return this.isValid()?this._data[o]:NaN}}r(Cn,"makeGetter");var n0=Cn("milliseconds"),r0=Cn("seconds"),i0=Cn("minutes"),s0=Cn("hours"),o0=Cn("days"),a0=Cn("months"),l0=Cn("years");function u0(){return ot(this.days()/7)}r(u0,"weeks");var qt=Math.round,Un={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function c0(o,u,d,m,b){return b.relativeTime(u||1,!!d,o,m)}r(c0,"substituteTimeAgo");function f0(o,u,d,m){var b=vt(o).abs(),x=qt(b.as("s")),T=qt(b.as("m")),N=qt(b.as("h")),H=qt(b.as("d")),ne=qt(b.as("M")),$e=qt(b.as("w")),Jt=qt(b.as("y")),un=x<=d.ss&&["s",x]||x<d.s&&["ss",x]||T<=1&&["m"]||T<d.m&&["mm",T]||N<=1&&["h"]||N<d.h&&["hh",N]||H<=1&&["d"]||H<d.d&&["dd",H];return d.w!=null&&(un=un||$e<=1&&["w"]||$e<d.w&&["ww",$e]),un=un||ne<=1&&["M"]||ne<d.M&&["MM",ne]||Jt<=1&&["y"]||["yy",Jt],un[2]=u,un[3]=+o>0,un[4]=m,c0.apply(null,un)}r(f0,"relativeTime$1");function d0(o){return o===void 0?qt:typeof o=="function"?(qt=o,!0):!1}r(d0,"getSetRelativeTimeRounding");function h0(o,u){return Un[o]===void 0?!1:u===void 0?Un[o]:(Un[o]=u,o==="s"&&(Un.ss=u-1),!0)}r(h0,"getSetRelativeTimeThreshold");function p0(o,u){if(!this.isValid())return this.localeData().invalidDate();var d=!1,m=Un,b,x;return typeof o=="object"&&(u=o,o=!1),typeof o=="boolean"&&(d=o),typeof u=="object"&&(m=Object.assign({},Un,u),u.s!=null&&u.ss==null&&(m.ss=u.s-1)),b=this.localeData(),x=f0(this,!d,m,b),d&&(x=b.pastFuture(+this,x)),b.postformat(x)}r(p0,"humanize");var la=Math.abs;function Hn(o){return(o>0)-(o<0)||+o}r(Hn,"sign");function Li(){if(!this.isValid())return this.localeData().invalidDate();var o=la(this._milliseconds)/1e3,u=la(this._days),d=la(this._months),m,b,x,T,N=this.asSeconds(),H,ne,$e,Jt;return N?(m=ot(o/60),b=ot(m/60),o%=60,m%=60,x=ot(d/12),d%=12,T=o?o.toFixed(3).replace(/\.?0+$/,""):"",H=N<0?"-":"",ne=Hn(this._months)!==Hn(N)?"-":"",$e=Hn(this._days)!==Hn(N)?"-":"",Jt=Hn(this._milliseconds)!==Hn(N)?"-":"",H+"P"+(x?ne+x+"Y":"")+(d?ne+d+"M":"")+(u?$e+u+"D":"")+(b||m||o?"T":"")+(b?Jt+b+"H":"")+(m?Jt+m+"M":"")+(o?Jt+T+"S":"")):"P0D"}r(Li,"toISOString$1");var re=Ti.prototype;re.isValid=am,re.abs=Vg,re.add=Yg,re.subtract=zg,re.as=Ug,re.asMilliseconds=Nu,re.asSeconds=Hg,re.asMinutes=jg,re.asHours=Gg,re.asDays=Kg,re.asWeeks=qg,re.asMonths=Jg,re.asQuarters=Zg,re.asYears=Qg,re.valueOf=Xg,re._bubble=$g,re.clone=e0,re.get=t0,re.milliseconds=n0,re.seconds=r0,re.minutes=i0,re.hours=s0,re.days=o0,re.weeks=u0,re.months=a0,re.years=l0,re.humanize=p0,re.toISOString=Li,re.toString=Li,re.toJSON=Li,re.locale=Cu,re.localeData=Su,re.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Li),re.lang=Au,k("X",0,0,"unix"),k("x",0,0,"valueOf"),W("x",_t),W("X",kt),ce("X",function(o,u,d){d._d=new Date(parseFloat(o)*1e3)}),ce("x",function(o,u,d){d._d=new Date(ee(o))});return e.version="2.30.1",n(pe),e.fn=D,e.min=rm,e.max=im,e.now=sm,e.utc=y,e.unix=Ig,e.months=Mg,e.isDate=h,e.locale=an,e.invalid=A,e.duration=vt,e.isMoment=E,e.weekdays=Ng,e.parseZone=Lg,e.localeData=jt,e.isDuration=Fi,e.monthsShort=Rg,e.weekdaysMin=Bg,e.defineLocale=qo,e.updateLocale=Lp,e.locales=Mp,e.weekdaysShort=Wg,e.normalizeUnits=Ve,e.relativeTimeRounding=d0,e.relativeTimeThreshold=h0,e.calendarFormat=Pm,e.prototype=D,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var ex={};Wu(ex,{default:()=>Xk});module.exports=k0(ex);var Se=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function et(){}r(et,"noop");async function Ot(){}r(Ot,"noopAsync");function Lr(t){return async(...e)=>{await t(...e)}}r(Lr,"omitAsyncReturnType");var Mt=require("obsidian");var x0=require("obsidian"),zu=require("obsidian"),$u=require("obsidian"),ox=require("obsidian"),ax=require("obsidian");var Vu=class{static{r(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var lt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},Yu={AllProperties:"all-properties",Audio:"audio",Backlink:lt.Backlink,Bases:lt.Bases,Bookmarks:lt.Bookmarks,Canvas:lt.Canvas,Empty:"empty",FileExplorer:lt.FileExplorer,FileProperties:"file-properties",Graph:lt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:lt.OutgoingLink,Outline:lt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function v0(){return zu.TFile}r(v0,"getTFileConstructor");function C0(){return $u.TFolder}r(C0,"getTFolderConstructor");function At(t){return t.replace(/\/?[^\/]*$/,"")||"/"}r(At,"parentFolderPath");function Mi(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(C0())(t.vault,e),n.parent=Mi(t,At(e)),n.deleted=!0,n)}r(Mi,"createTFolderInstance");function Uu(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(v0())(t.vault,e),n.parent=Mi(t,At(e)),n.deleted=!0,n)}r(Uu,"createTFileInstance");function St(t){return!!t.position}r(St,"isReferenceCache");function Ue(t){return!!t.key}r(Ue,"isFrontmatterLinkCache");var fa=at(Gu(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var S0=Number.POSITIVE_INFINITY;function Mr(...t){let e=t.filter(a=>!!a);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Ne();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let a of e)if(a.aborted)return a;let i=[];for(let a of e)i.push(qu(a,s));return n.signal;function s(a){for(let l of i)l();n.abort(a.reason)}}r(Mr,"abortSignalAny");function Ne(){return new AbortController().signal}r(Ne,"abortSignalNever");function Ku(t){if(t===S0)return Ne();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}r(Ku,"abortSignalTimeout");function qu(t,e){if(t.aborted)return e(t),et;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(i){e(i.target)}r(n,"wrappedCallback")}r(qu,"onAbort");function Ju(t,e){return new Promise((n,i)=>{qu(t,()=>{e?i(t.reason):n(t.reason)})})}r(Ju,"waitForAbort");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Rr(t,e){let n=t.length,i=0;for(let s=0;s<n;s++){if(!Object.hasOwn(t,s))continue;let a=t[s];e(a,s,t)&&(t[i++]=a)}t.length=i}r(Rr,"filterInPlace");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var It=class{static{r(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let i=this.eventRefsMap.get(e);i&&(Rr(i,s=>s.callback!==n),i.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Rr(n,i=>i!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,i){let s=this.eventRefsMap.get(e);s||(s=[],this.eventRefsMap.set(e,s));let a={asyncEvents:this,callback:n,name:e,thisArg:i};return s.push(a),a}once(e,n,i){let s=this.on(e,n,i),a=this.on(e,()=>{this.offref(s),this.offref(a)});return s}trigger(e,...n){let i=this.eventRefsMap.get(e)??[];for(let s of i.slice())this.tryTrigger(s,n)}async triggerAsync(e,...n){let i=this.eventRefsMap.get(e)??[];for(let s of i.slice())await this.tryTriggerAsync(s,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(i){window.setTimeout(()=>{throw i},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(i){window.setTimeout(()=>{throw i},0)}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ua="asyncError",Ri=new It;Ri.on(ua,E0);var Ni="An unhandled error occurred executing async operation",Qu="    at",Et=class t extends Error{static{r(this,"CustomStackTraceError")}constructor(e,n,i){super(e,{cause:i}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let s=i,a=new Set;for(;s instanceof t;){if(a.has(s))throw new Error("Circular cause detected");a.add(s),s=s.cause}let l=(this.stack??"").split(`
`),c=n.split(`
`);/^\w*Error(?:: |$)/.test(c[0]??"")&&c.splice(0,1),l.splice(1,l.length-1,...c),this.stack=l.join(`
`)}},Gn=class t extends Error{static{r(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function Wi(t){Ri.trigger(ua,t)}r(Wi,"emitAsyncErrorEvent");function Bi(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=Bi(t.cause).split(`
`);e+=`
${Zu("Caused by:")}`;for(let i of n)i.trim()&&(e+=i.startsWith(Qu)?`
${i}`:`
${Zu(i)}`)}return e}r(Bi,"errorToString");function He(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}r(He,"getStackTrace");function Nr(t,e){e??=globalThis.console,e.error(Bi(t))}r(Nr,"printError");function Xu(t){let e=Ri.on(ua,t);return()=>{Ri.offref(e)}}r(Xu,"registerAsyncErrorEventHandler");function An(t){throw t}r(An,"throwExpression");function Zu(t){return`${Qu} --- ${t} --- (0)`}r(Zu,"generateStackTraceLine");function E0(t){Nr(t)}r(E0,"handleAsyncError");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ca(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(ca,"escapeRegExp");function ec(t){try{return new RegExp(t),!0}catch{return!1}}r(ec,"isValidRegExp");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Kn(t,e,...n){return e??=Ne(),e.throwIfAborted(),T0(t)?await t(e,...n):t}r(Kn,"resolveValue");function T0(t){return typeof t=="function"}r(T0,"isFunction");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var F0={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var _0={};for(let[t,e]of Object.entries(F0))_0[e]=t;function tc(t,e,n,i){return i??=n,t.slice(0,n)+e+t.slice(i)}r(tc,"insertAt");function Wr(t){return Je(t,/\u00A0|\u202F/g," ").normalize("NFC")}r(Wr,"normalize");function Je(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(i,...s)=>{let l=typeof s.at(-1)=="object",c=l?s.length-2:s.length-1,f={groups:l?s.at(-1):void 0,missingGroupIndices:[],offset:s.at(c-1),source:s.at(c),substring:i},h=s.slice(0,c-1).map((p,g)=>{if(typeof p=="string")return p;if(typeof p>"u")return f.missingGroupIndices.push(g),"";throw new Error(`Unexpected argument type: ${typeof p}`)});return n(f,...h)??f.substring}))}r(Je,"replaceAll");function nc(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}r(nc,"trimEnd");function Vi(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}r(Vi,"trimStart");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var P0=/[a-zA-Z]:\/[^:]*$/,Lt=fa.default.posix,Nx=Lt.delimiter,Wx=fa.default.posix.sep,Ze=Lt.basename,fe=Lt.dirname,Tt=Lt.extname,Bx=Lt.format;var ke=Lt.join,Vx=Lt.normalize,Yx=Lt.parse,qn=Lt.relative;function rc(t,e){return e?`${t}.${e}`:t}r(rc,"makeFileName");function ic(...t){let e=Lt.resolve(...t);return e=O0(e),P0.exec(e)?.[0]??e}r(ic,"resolve");function O0(t){return Je(t,"\\","/")}r(O0,"toPosixPath");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var D0="base",I0="canvas",Yi="md";function da(t,e,n){if(ut(e))return e.extension===n;if(typeof e=="string"){let i=he(t,e);return i?i.extension===n:Tt(e).slice(1)===n}return!1}r(da,"checkExtension");function Br(t,e,n){if(e===null)return null;if(lc(e))return e;let i=sc(t,e,n);if(i)return i;let s=cc(e);return s===e?null:sc(t,s,n)}r(Br,"getAbstractFileOrNull");function Oe(t,e,n,i){let s=he(t,e,i);if(!s)if(n)s=Uu(t,e);else throw new Error(`File not found: ${e}`);return s}r(Oe,"getFile");function he(t,e,n){let i=Br(t,e,n);return ut(i)?i:null}r(he,"getFileOrNull");function Jn(t,e,n,i){let s=Ft(t,e,i);if(!s)if(n)s=Mi(t,e);else throw new Error(`Folder not found: ${e}`);return s}r(Jn,"getFolder");function Ft(t,e,n){let i=Br(t,e,n);return Vr(i)?i:null}r(Ft,"getFolderOrNull");function oc(t,e,n){let i=Jn(t,e),s=[];return n?Mt.Vault.recurseChildren(i,a=>{Ae(t,a)&&s.push(a)}):s=i.children.filter(a=>Ae(t,a)),s=s.sort((a,l)=>a.path.localeCompare(l.path)),s}r(oc,"getMarkdownFiles");async function ac(t,e){let n=he(t,e);if(n)return n;let i=At(e);return await L0(t,i),await t.vault.create(e,"")}r(ac,"getOrCreateFile");async function L0(t,e){let n=Ft(t,e);return n||await t.vault.createFolder(e)}r(L0,"getOrCreateFolder");function ye(t,e){if(lc(e))return e.path;let n=Br(t,e);return n?n.path:cc(e)}r(ye,"getPath");function lc(t){return t instanceof Mt.TAbstractFile}r(lc,"isAbstractFile");function M0(t,e){return da(t,e,D0)}r(M0,"isBaseFile");function Sn(t,e){return da(t,e,I0)}r(Sn,"isCanvasFile");function ut(t){return t instanceof Mt.TFile}r(ut,"isFile");function Vr(t){return t instanceof Mt.TFolder}r(Vr,"isFolder");function Ae(t,e){return da(t,e,Yi)}r(Ae,"isMarkdownFile");function Yr(t,e){return Ae(t,e)||Sn(t,e)||M0(t,e)}r(Yr,"isNote");function uc(t,e){return Ae(t,e)?nc(e.path,`.${Yi}`):e.path}r(uc,"trimMarkdownExtension");function sc(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}r(sc,"getFileInternal");function cc(t){return(0,Mt.normalizePath)(ic("/",t))}r(cc,"getResolvedPath");var Ic=require("obsidian");var ba=at(vc(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ga="40.4.0",Gi="obsidian-dev-utils",Cc=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ya=class{static{r(this,"ValueWrapper")}constructor(e){this.value=e}};function oy(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??An(new Error("Obsidian app not found"))}}r(oy,"getApp");function Zt(t,e,n){let s=t??ay()??globalThis;return s.obsidianDevUtilsState??={},s.obsidianDevUtilsState[e]??=new ya(n)}r(Zt,"getObsidianDevUtilsState");function ay(){return typeof window>"u"?null:oy()}r(ay,"getAppOrNull");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wa="__no-plugin-id-initialized__",Ac=wa;function Ki(){return Ac}r(Ki,"getPluginId");function Sc(t){t&&(Ac=t)}r(Sc,"setPluginId");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ec=",",qi="-";function Tc(){return{disable:ly,enable:uy,get:Ji,set:zr}}r(Tc,"getDebugController");function er(t,e=0){let n=`${t}:${String(e)}`,i=Zt(null,"debuggers",new Map).value,s=i.get(n);return s||(s=$r()(t),s.log=(a,...l)=>{cy(t,e,a,...l)},i.set(n,s)),s}r(er,"getDebugger");function tt(t){let e=Ki(),n=e===wa?"":`${e}:`;return er(`${n}${Gi}:${t}`)}r(tt,"getLibDebugger");function Qt(t,e,n,...i){if(!_c()){t(n,...i);return}t(n,...i,`

---
Context stack trace:
`,Pc(e))}r(Qt,"printWithStackTrace");function Fc(t){let e=$r().enabled(t),n=e?"enabled":"disabled",i=e?"disable":"enable",s=Ji();zr(t),er(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${i} them.`),zr(s)}r(Fc,"showInitialDebugMessage");function ly(t){let e=new Set(Ji());for(let n of Ur(t)){if(n.startsWith(qi))continue;let i=qi+n;e.has(n)&&e.delete(n),e.add(i)}zr(Array.from(e))}r(ly,"disableNamespaces");function uy(t){let e=new Set(Ji());for(let n of Ur(t)){if(!n.startsWith(qi)){let i=qi+n;e.has(i)&&e.delete(i)}e.add(n)}zr(Array.from(e))}r(uy,"enableNamespaces");function Ji(){return Ur($r().load()??"")}r(Ji,"getNamespaces");function $r(){return typeof window>"u"?ba.default:Zt(null,"debug",ba.default).value}r($r,"getSharedDebugLibInstance");function _c(){return typeof window<"u"}r(_c,"isInObsidian");function cy(t,e,n,...i){if(!$r().enabled(t))return;if(!_c()){console.debug(n,...i);return}let s=4,a=new Error().stack?.split(`
`)??[];a.splice(0,s+e),console.debug(n,...i,`

---
Logger stack trace:
`,Pc(a.join(`
`)))}r(cy,"logWithCaller");function Pc(t){return new Et("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}r(Pc,"makeStackTraceError");function zr(t){$r().enable(Ur(t).join(Ec))}r(zr,"setNamespaces");function Ur(t){return typeof t=="string"?t.split(Ec).filter(Boolean):t.flatMap(Ur)}r(Ur,"toArray");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ka(t,e){e??=He(1);try{await t()}catch(n){let i=new Et(Ni,e,n);if(fy(i))return;Wi(i)}}r(ka,"addErrorHandler");function tr(t,e){return e??=He(1),(...n)=>{let i=He(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${i}`,ft(()=>t(...n),e)}}r(tr,"convertAsyncToSync");function ft(t,e){e??=He(1),ka(t,e)}r(ft,"invokeAsyncSafely");function Oc(t,e=0,n,i){i??=Ne(),i.throwIfAborted(),n??=He(1),ft(async()=>{await va(e,i,!0),await t(i)},n)}r(Oc,"invokeAsyncSafelyAfterDelay");function fy(t){let e=t;for(;!(e instanceof Gn);){if(!(e instanceof Error))return!1;e=e.cause}return tt("Async:handleSilentError")(t),!0}r(fy,"handleSilentError");var dy=new WeakSet;async function Dc(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}r(Dc,"requestAnimationFrameAsync");async function Zi(t,e,n){let i=tt("Async:retryWithTimeout");n??=He(1);let a={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};a.abortSignal?.throwIfAborted(),await xa(a.timeoutInMilliseconds,async l=>{let c=Mr(a.abortSignal,l);c.throwIfAborted();let f=0;for(;!c.aborted;){f++;let h;try{h=await t(c)}catch(p){if(c.aborted||!a.shouldRetryOnError||dy.has(p))throw new Et("retryWithTimeout failed",n,p);Nr(p),h=!1}if(h){Qt(i,n,`Retry completed successfully after ${String(f)} attempts`,{fn:t});return}Qt(i,n,`Retry attempt ${String(f)} completed unsuccessfully. Trying again in ${String(a.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await va(a.retryDelayInMilliseconds,l)}},{retryFn:t},n)}r(Zi,"retryWithTimeout");async function xa(t,e,n,i){i??=He(1);let s=performance.now(),a=new AbortController,l=new AbortController,c=null,f=!1,h=!1;if(await Promise.race([p(),g()]),f)return c;throw new Et("Run with timeout failed",i,a.signal.reason);async function p(){try{c=await e(a.signal);let y=performance.now()-s,w=tt("Async:runWithTimeout");Qt(w,i??"",`Execution time: ${String(y)} milliseconds`,{context:n,fn:e}),f=!0}catch(y){a.abort(y)}finally{h=!0,l.abort(new Error("Completed"))}}async function g(){for(;!h;){if(await va(t,l.signal),h)return;let y=performance.now()-s;console.warn(`Timed out after ${String(y)} milliseconds`,{context:n,fn:e});let w=tt("Async:runWithTimeout:timeout");if(!w.enabled){a.abort(new Error(`Timed out after ${String(y)} milliseconds`));return}w(`The execution is not terminated because debugger ${w.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}r(xa,"runWithTimeout");async function va(t,e,n){await Ju(Mr(e,Ku(t))),n&&e?.throwIfAborted()}r(va,"sleep");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Tn(t){let n={...{abortSignal:Ne(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:et,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},i=He(1),s=n.items,a=0,l=null;n.shouldShowProgressBar&&(l=new Ic.Notice("",0));let c=sleep(n.noticeMinTimeoutInMilliseconds),f=createEl("progress");if(f.max=s.length,n.shouldShowProgressBar){let p=createFragment();p.createDiv({text:n.progressBarTitle}),p.appendChild(f),l?.setMessage(p)}let h=performance.now();for(let p of s){if(n.abortSignal.aborted){l?.hide();return}a++;let g=`# ${String(a)} / ${String(s.length)}`,y=n.buildNoticeMessage(p,g);n.shouldShowProgressBar||l?.setMessage(y),tt("Loop")(y);try{performance.now()-h>n.uiUpdateThresholdInMilliseconds&&(await Dc(),h=performance.now()),await n.processItem(p)}catch(w){if(console.error("Error processing item",p),!n.shouldContinueOnError)throw l?.hide(),new Et("loop failed",i,w);Wi(new Et(Ni,i,w))}f.value++}await c,l?.hide()}r(Tn,"loop");var j=r(t=>typeof t=="string","isString"),Hr=r(()=>{let t,e,n=new Promise((i,s)=>{t=i,e=s});return n.resolve=t,n.reject=e,n},"defer"),Lc=r(t=>t==null?"":""+t,"makeString"),hy=r((t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},"copy"),py=/###/g,Mc=r(t=>t&&t.indexOf("###")>-1?t.replace(py,"."):t,"cleanKey"),Rc=r(t=>!t||j(t),"canNotTraverseDeeper"),jr=r((t,e,n)=>{let i=j(e)?e.split("."):e,s=0;for(;s<i.length-1;){if(Rc(t))return{};let a=Mc(i[s]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++s}return Rc(t)?{}:{obj:t,k:Mc(i[s])}},"getLastOfPath"),Nc=r((t,e,n)=>{let{obj:i,k:s}=jr(t,e,Object);if(i!==void 0||e.length===1){i[s]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=jr(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=jr(t,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},"setPath"),my=r((t,e,n,i)=>{let{obj:s,k:a}=jr(t,e,Object);s[a]=s[a]||[],s[a].push(n)},"pushPath"),Xi=r((t,e)=>{let{obj:n,k:i}=jr(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},"getPath"),gy=r((t,e,n)=>{let i=Xi(t,n);return i!==void 0?i:Xi(e,n)},"getPathWithDefaults"),jc=r((t,e,n)=>{for(let i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?j(t[i])||t[i]instanceof String||j(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):jc(t[i],e[i],n):t[i]=e[i]);return t},"deepExtend"),nr=r(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),yy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},wy=r(t=>j(t)?t.replace(/[&<>"'\/]/g,e=>yy[e]):t,"escape"),Aa=class{static{r(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}},by=[" ",",","?","!",";"],ky=new Aa(20),xy=r((t,e,n)=>{e=e||"",n=n||"";let i=by.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;let s=ky.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`),a=!s.test(t);if(!a){let l=t.indexOf(n);l>0&&!s.test(t.substring(0,l))&&(a=!0)}return a},"looksLikeObjectPath"),Sa=r((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let i=e.split(n),s=t;for(let a=0;a<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let f=a;f<i.length;++f)if(f!==a&&(c+=n),c+=i[f],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<i.length-1)continue;a+=f-a+1;break}s=l}return s},"deepFind"),Gr=r(t=>t?.replace("_","-"),"getCleanedCode"),vy={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},Ea=class t{static{r(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||vy,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,s){return s&&!this.debug?null:(j(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Rt=new Ea,rr=class{static{r(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);let s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[e,...n])})}},es=class extends rr{static{r(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,s={}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],i&&(Array.isArray(i)?c.push(...i):j(i)&&a?c.push(...i.split(a)):c.push(i)));let f=Xi(this.data,c);return!f&&!n&&!i&&e.indexOf(".")>-1&&(e=c[0],n=c[1],i=c.slice(2).join(".")),f||!l||!j(i)?f:Sa(this.data?.[e]?.[n],i,a)}addResource(e,n,i,s,a={silent:!1}){let l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=[e,n];i&&(c=c.concat(l?i.split(l):i)),e.indexOf(".")>-1&&(c=e.split("."),s=n,n=c[1]),this.addNamespaces(n),Nc(this.data,c,s),a.silent||this.emit("added",e,n,i,s)}addResources(e,n,i,s={silent:!1}){for(let a in i)(j(i[a])||Array.isArray(i[a]))&&this.addResource(e,n,a,i[a],{silent:!0});s.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,s,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let f=Xi(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?jc(f,i,a):f={...f,...i},Nc(this.data,c,f),l.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}},Gc={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,s){return t.forEach(a=>{e=this.processors[a]?.process(e,n,i,s)??e}),e}},Kc=Symbol("i18next/PATH_KEY");function Cy(){let t=[],e=Object.create(null),n;return e.get=(i,s)=>(n?.revoke?.(),s===Kc?t:(t.push(s),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}r(Cy,"createProxy");function Ta(t,e){let{[Kc]:n}=t(Cy());return n.join(e?.keySeparator??".")}r(Ta,"keysFromSelector");var Wc={},Bc=r(t=>!j(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),ts=class t extends rr{static{r(this,"Translator")}constructor(e,n={}){super(),hy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Rt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let i={...n};return e==null?!1:this.resolve(e,i)?.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");let s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ns||this.options.defaultNS||[],l=i&&e.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!xy(e,i,s);if(l&&!c){let f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:j(a)?[a]:a};let h=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(s)}return{key:e,namespaces:j(a)?[a]:a}}translate(e,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Ta(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);let a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:f}=this.extractFromKey(e[e.length-1],s),h=f[f.length-1],p=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");let g=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?a?{res:`${h}${p}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${p}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;let w=this.resolve(e,s),C=w?.res,_=w?.usedKey||c,S=w?.exactUsedKey||c,A=["[object Number]","[object Function]","[object RegExp]"],F=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,R=s.count!==void 0&&!j(s.count),Y=t.hasDefaultValue(s),E=R?this.pluralResolver.getSuffix(g,s.count,s):"",Z=s.ordinal&&R?this.pluralResolver.getSuffix(g,s.count,{ordinal:!1}):"",Q=R&&!s.ordinal&&s.count===0,U=Q&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${Z}`]||s.defaultValue,J=C;O&&!C&&Y&&(J=U);let le=Bc(J),te=Object.prototype.toString.apply(J);if(O&&J&&le&&A.indexOf(te)<0&&!(j(F)&&Array.isArray(J))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,J,{...s,ns:f}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(w.res=L,w.usedParams=this.getUsedParamsDetails(s),w):L}if(l){let L=Array.isArray(J),z=L?[]:{},$=L?S:_;for(let K in J)if(Object.prototype.hasOwnProperty.call(J,K)){let ie=`${$}${l}${K}`;Y&&!C?z[K]=this.translate(ie,{...s,defaultValue:Bc(U)?U[K]:void 0,joinArrays:!1,ns:f}):z[K]=this.translate(ie,{...s,joinArrays:!1,ns:f}),z[K]===ie&&(z[K]=J[K])}C=z}}else if(O&&j(F)&&Array.isArray(C))C=C.join(F),C&&(C=this.extendTranslation(C,e,s,i));else{let L=!1,z=!1;!this.isValidLookup(C)&&Y&&(L=!0,C=U),this.isValidLookup(C)||(z=!0,C=c);let K=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:C,ie=Y&&U!==C&&this.options.updateMissing;if(z||L||ie){if(this.logger.log(ie?"updateKey":"missingKey",g,h,c,ie?U:C),l){let oe=this.resolve(c,{...s,keySeparator:!1});oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ue=[],xe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&xe&&xe[0])for(let oe=0;oe<xe.length;oe++)ue.push(xe[oe]);else this.options.saveMissingTo==="all"?ue=this.languageUtils.toResolveHierarchy(s.lng||this.language):ue.push(s.lng||this.language);let v=r((oe,me,k)=>{let Ee=Y&&k!==C?k:K;this.options.missingKeyHandler?this.options.missingKeyHandler(oe,h,me,Ee,ie,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(oe,h,me,Ee,ie,s),this.emit("missingKey",oe,h,me,C)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&R?ue.forEach(oe=>{let me=this.pluralResolver.getSuffixes(oe,s);Q&&s[`defaultValue${this.options.pluralSeparator}zero`]&&me.indexOf(`${this.options.pluralSeparator}zero`)<0&&me.push(`${this.options.pluralSeparator}zero`),me.forEach(k=>{v([oe],c+k,s[`defaultValue${k}`]||U)})}):v(ue,c,U))}C=this.extendTranslation(C,e,s,w,i),z&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${p}${c}`),(z||L)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${c}`:c,L?C:void 0,s))}return a?(w.res=C,w.usedParams=this.getUsedParamsDetails(s),w):C}extendTranslation(e,n,i,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let f=j(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(f){let g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let p=i.replace&&!j(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,i.lng||this.language||s.usedLng,i),f){let g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;h<y&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>a?.[0]===g[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),i)),i.interpolation&&this.interpolator.reset()}let l=i.postProcess||this.options.postProcess,c=j(l)?[l]:l;return e!=null&&c?.length&&i.applyPostProcessor!==!1&&(e=Gc.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,s,a,l,c;return j(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(i))return;let h=this.extractFromKey(f,n),p=h.key;s=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));let y=n.count!==void 0&&!j(n.count),w=y&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(j(n.context)||typeof n.context=="number")&&n.context!=="",_=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(S=>{this.isValidLookup(i)||(c=S,!Wc[`${_[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(Wc[`${_[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${_.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(A=>{if(this.isValidLookup(i))return;l=A;let F=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(F,p,A,S,n);else{let R;y&&(R=this.pluralResolver.getSuffix(A,n.count,n));let Y=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&R.indexOf(E)===0&&F.push(p+R.replace(E,this.options.pluralSeparator)),F.push(p+R),w&&F.push(p+Y)),C){let Z=`${p}${this.options.contextSeparator||"_"}${n.context}`;F.push(Z),y&&(n.ordinal&&R.indexOf(E)===0&&F.push(Z+R.replace(E,this.options.pluralSeparator)),F.push(Z+R),w&&F.push(Z+Y))}}let O;for(;O=F.pop();)this.isValidLookup(i)||(a=O,i=this.getResource(A,S,O,n))}))})}),{res:i,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,s):this.resourceStore.getResource(e,n,i,s)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!j(e.replace),s=i?e.replace:e;if(i&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(let a of n)delete s[a]}return s}static hasDefaultValue(e){let n="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}},ns=class{static{r(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Rt.create("languageUtils")}getScriptPartFromCode(e){if(e=Gr(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Gr(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(j(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;let s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;let s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;let a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),j(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){let i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],a=r(l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))},"addCode");return j(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):j(e)&&a(this.formatLanguageCode(e)),i.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}},Vc={zero:0,one:1,two:2,few:3,many:4,other:5},Yc={select:r(t=>t===1?"one":"other","select"),resolvedOptions:r(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},Fa=class{static{r(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Rt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let i=Gr(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Yc;if(!e.match(/-|_/))return Yc;let f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,a)=>Vc[s]-Vc[a]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,i={}){let s=this.getRule(e,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}},zc=r((t,e,n,i=".",s=!0)=>{let a=gy(t,e,n);return!a&&s&&j(n)&&(a=Sa(t,n,i),a===void 0&&(a=Sa(e,n,i))),a},"deepFindWithDefaults"),Ca=r(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),_a=class{static{r(this,"Interpolator")}constructor(e={}){this.logger=Rt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:f,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:_,nestingOptionsSeparator:S,maxReplaces:A,alwaysFormat:F}=e.interpolation;this.escape=n!==void 0?n:wy,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?nr(a):l||"{{",this.suffix=c?nr(c):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?nr(y):w||nr("$t("),this.nestingSuffix=C?nr(C):_||nr(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=A||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=r((n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,s){let a,l,c,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=r(w=>{if(w.indexOf(this.formatSeparator)<0){let A=zc(n,f,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,i,{...s,...n,interpolationkey:w}):A}let C=w.split(this.formatSeparator),_=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(zc(n,f,_,this.options.keySeparator,this.options.ignoreJSONStructure),S,i,{...s,...n,interpolationkey:_})},"handleFormat");this.resetRegExp();let p=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:r(w=>Ca(w),"safeValue")},{regex:this.regexp,safeValue:r(w=>this.escapeValue?Ca(this.escape(w)):Ca(w),"safeValue")}].forEach(w=>{for(c=0;a=w.regex.exec(e);){let C=a[1].trim();if(l=h(C),l===void 0)if(typeof p=="function"){let S=p(e,a,s);l=j(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),l="";else!j(l)&&!this.useRawValueToEscape&&(l=Lc(l));let _=w.safeValue(l);if(e=e.replace(a[0],_),g?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,i={}){let s,a,l,c=r((f,h)=>{let p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;let g=f.split(new RegExp(`${p}[ ]*{`)),y=`{${g[1]}`;f=g[0],y=this.interpolate(y,l);let w=y.match(/'/g),C=y.match(/"/g);((w?.length??0)%2===0&&!C||C.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,_),`${f}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f},"handleHasOptions");for(;s=this.nestingRegexp.exec(e);){let f=[];l={...i},l=l.replace&&!j(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(f=s[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),a=n(c.call(this,s[1].trim(),l),l),a&&s[0]===e&&!j(a))return a;j(a)||(a=Lc(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),f.length&&(a=f.reduce((p,g)=>this.format(p,g,i.lng,{...i,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}},Ay=r(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let i=t.split("(");e=i[0].toLowerCase().trim();let s=i[1].substring(0,i[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){let[c,...f]=l.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),$c=r(t=>{let e={};return(n,i,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});let l=i+JSON.stringify(a),c=e[l];return c||(c=t(Gr(i),s),e[l]=c),c(n)}},"createCachedFormatter"),Sy=r(t=>(e,n,i)=>t(Gr(n),i)(e),"createNonCachedFormatter"),Pa=class{static{r(this,"Formatter")}constructor(e={}){this.logger=Rt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let i=n.cacheInBuiltFormats?$c:Sy;this.formats={number:i((s,a)=>{let l=new Intl.NumberFormat(s,{...a});return c=>l.format(c)}),currency:i((s,a)=>{let l=new Intl.NumberFormat(s,{...a,style:"currency"});return c=>l.format(c)}),datetime:i((s,a)=>{let l=new Intl.DateTimeFormat(s,{...a});return c=>l.format(c)}),relativetime:i((s,a)=>{let l=new Intl.RelativeTimeFormat(s,{...a});return c=>l.format(c,a.range||"day")}),list:i((s,a)=>{let l=new Intl.ListFormat(s,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=$c(n)}format(e,n,i,s={}){let a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){let c=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,f)=>{let{formatName:h,formatOptions:p}=Ay(f);if(this.formats[h]){let g=c;try{let y=s?.formatParams?.[s.interpolationkey]||{},w=y.locale||y.lng||s.locale||s.lng||i;g=this.formats[h](c,w,{...p,...s,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${h}`);return c},e)}},Ey=r((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Oa=class extends rr{static{r(this,"Connector")}constructor(e,n,i,s={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Rt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(e,n,i,s){let a={},l={},c={},f={};return e.forEach(h=>{let p=!0;n.forEach(g=>{let y=`${h}|${g}`;!i.reload&&this.store.hasResourceBundle(h,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),f[g]===void 0&&(f[g]=!0)))}),p||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(f)}}loaded(e,n,i){let s=e.split("|"),a=s[0],l=s[1];n&&this.emit("failedLoading",a,l,n),!n&&i&&this.store.addResourceBundle(a,l,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);let c={};this.queue.forEach(f=>{my(f.loaded,[a],l),Ey(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{c[h]||(c[h]={});let p=f.loaded[h];p.length&&p.forEach(g=>{c[h][g]===void 0&&(c[h][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(f=>!f.done)}read(e,n,i,s=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:s,wait:a,callback:l});return}this.readingCalls++;let c=r((h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){let g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,s+1,a*2,l)},a);return}l(h,p)},"resolver"),f=this.backend[i].bind(this.backend);if(f.length===2){try{let h=f(e,n);h&&typeof h.then=="function"?h.then(p=>c(null,p)).catch(c):c(null,h)}catch(h){c(h)}return}return f(e,n,c)}prepareLoading(e,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();j(e)&&(e=this.languageUtils.toResolveHierarchy(e)),j(n)&&(n=[n]);let a=this.queueLoad(e,n,i,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){let i=e.split("|"),s=i[0],a=i[1];this.read(s,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${s}`,c),this.loaded(e,l,c)})}saveMissing(e,n,i,s,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){let f={...l,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(e,n,i,s,f):p=h(e,n,i,s),p&&typeof p.then=="function"?p.then(g=>c(null,g)).catch(c):c(null,p)}catch(p){c(p)}else h(e,n,i,s,c,f)}!e||!e[0]||this.store.addResource(e[0],n,i,s)}}},Uc=r(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),j(t[1])&&(e.defaultValue=t[1]),j(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:r(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Hc=r(t=>(j(t.ns)&&(t.ns=[t.ns]),j(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),j(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),Qi=r(()=>{},"noop"),Ty=r(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),rs=class t extends rr{static{r(this,"I18n")}constructor(e={},n){if(super(),this.options=Hc(e),this.services={},this.logger=Rt,this.modules={external:[]},Ty(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(j(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let i=Uc();this.options={...i,...this.options,...Hc(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let s=r(h=>h?typeof h=="function"?new h:h:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Rt.init(s(this.modules.logger),this.options):Rt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Pa;let p=new ns(this.options);this.store=new es(this.options.resources,this.options);let g=this.services;g.logger=Rt,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new Fa(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new _a(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Oa(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new ts(this.services,this.options),this.translator.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Qi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});let c=Hr(),f=r(()=>{let h=r((p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(p,g)},"finish");if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)},"load");return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),c}loadResources(e,n=Qi){let i=n,s=j(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();let a=[],l=r(c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})},"append");s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(e,n,i){let s=Hr();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=Qi),this.services.backendConnector.reload(e,n,a=>{s.resolve(),i(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Gc.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let i=Hr();this.emit("languageChanging",e);let s=r(c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},"setLngProps"),a=r((c,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},"done"),l=r(c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let f=j(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(j(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,p=>{a(p,h)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),i}getFixedT(e,n,i){let s=r((a,l,...c)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(c)):f={...l},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||s.keyPrefix);let h=this.options.keySeparator||".",p;return f.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=Ta(g,{...this.options,...l})),`${f.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=Ta(a,{...this.options,...l})),p=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a),this.t(p,f)},"fixedT");return j(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=i,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;let l=r((c,f)=>{let h=this.services.backendConnector.state[`${c}|${f}`];return h===-1||h===0||h===2},"loadNotPending");if(n.precheck){let c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!s||l(a,e)))}loadNamespaces(e,n){let i=Hr();return this.options.ns?(j(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){let i=Hr();j(e)&&(e=[e]);let s=this.options.preload||[],a=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let s=new Intl.Locale(e);if(s&&s.getTextInfo){let a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new ns(Uc());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t(e,n)}cloneInstance(e={},n=Qi){let i=e.forkResourceStore;i&&delete e.forkResourceStore;let s={...this.options,...e,isClone:!0},a=new t(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){let c=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((p,g)=>(p[g]={...f[h][g]},p),f[h]),f),{});a.store=new es(c,s),a.services.resourceStore=a.store}return a.translator=new ts(a.services,s),a.translator.on("*",(c,...f)=>{a.emit(c,...f)}),a.init(s,n),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},De=rs.createInstance();De.createInstance=rs.createInstance;var Dv=De.createInstance,Iv=De.dir,qc=De.init,Lv=De.loadResources,Mv=De.reloadResources,Rv=De.use,Nv=De.changeLanguage,Wv=De.getFixedT,is=De.t,Bv=De.exists,Vv=De.setDefaultNamespace,Yv=De.hasLoadedNamespace,zv=De.loadNamespaces,$v=De.loadLanguages;var rf=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var V=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(V||{});var tf=require("obsidian");var Xc=at(Zc(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qc=`${Gi}-styles`;function de(t,...e){t.addClass(V.LibraryName,Ki(),...e)}r(de,"addPluginCssClasses");function ef(t,e){Sc(e),Fc(e);let n=Zt(t,"lastLibraryVersion","0.0.0");if((0,Xc.compareVersions)(ga,n.value)<=0)return;n.value=ga;let i=Fy();i.DEBUG=Tc(),document.head.querySelector(`#${Qc}`)?.remove(),document.head.createEl("style",{attr:{id:Qc},text:Cc})}r(ef,"initPluginContext");function Fy(){return window}r(Fy,"getPluginContextWindow");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var os=class extends tf.Modal{static{r(this,"ModalBase")}constructor(e,n,i){super(e.app),this.resolve=n,de(this.containerEl,i),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function nf(t){return await new Promise(e=>{t(e).open()})}r(nf,"showModal");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Da=class extends os{static{r(this,"AlertModal")}options;constructor(e,n){super(e,n,V.AlertModal);let i={app:e.app,cssClass:"",message:e.message,okButtonText:is(s=>s.obsidianDevUtils.buttons.ok),title:""};this.options={...i,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new rf.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(V.OkButton)}};async function as(t){await nf(e=>new Da(t,e))}r(as,"alert");var hs=require("obsidian");var sf=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ls=class extends sf.Component{static{r(this,"AsyncEventsComponent")}registerAsyncEvent(e){us(this,e)}};function us(t,e){t.register(()=>{e.asyncEvents.offref(e)})}r(us,"registerAsyncEvent");var lf=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var cs={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ia="en",_y={en:cs},of=_y;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var af="translation",La=!1;async function uf(t){La||(await qc({fallbackLng:Ia,lng:(0,lf.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{[af]:n}])),returnEmptyString:!1,returnNull:!1}),De.addResourceBundle(Ia,af,cs,!0,!1),La=!0)}r(uf,"initI18N");function Py(t,e){if(!La)throw new Error("I18N is not initialized");return is(t,e)}r(Py,"tImpl");var fs=Py;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ds=class extends hs.Plugin{static{r(this,"PluginBase")}events=new It;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){er(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Oc(this.afterLoad.bind(this))}onunload(){super.onunload(),ft(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){ft(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,i){this.registerPopupDomEvent(s=>{this.registerDomEvent(s.document,e,n,i)})}registerPopupWindowDomEvent(e,n,i){this.registerPopupDomEvent(s=>{this.registerDomEvent(s,e,n,i)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return of}handleAsyncError(e){this.showNotice(fs(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Ot()}async onloadImpl(){ef(this.app,this.manifest.id),await uf(this.createTranslationsMap()),this.register(Xu(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(us(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),us(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Gn(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Ot()}async onSaveSettings(e,n,i){await Ot()}async onunloadImpl(){await Ot()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new hs.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(tr(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}registerPopupDomEvent(e){this.app.workspace.iterateRootLeaves(n=>{e(n.view.containerEl.win)}),this.registerEvent(this.app.workspace.on("window-open",n=>{e(n.win)}))}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function cf(t,e,n,i){n.throwIfAborted();let s=tt("Logger:invokeAsyncAndLog"),a=performance.now();i??=He(1),Qt(s,i,`${t}:start`,{fn:e,timestampStart:a});try{await e(n);let l=performance.now(),c=l-a;n.aborted&&(Qt(s,i,`${t}:aborted`,{abortReason:n.reason,duration:c,fn:e,timestampEnd:l,timestampStart:a}),n.throwIfAborted()),Qt(s,i,`${t}:end`,{duration:c,fn:e,timestampEnd:l,timestampStart:a})}catch(l){let c=performance.now();throw Qt(s,i,`${t}:error`,{duration:c-a,error:l,fn:e,timestampEnd:c,timestampStart:a}),l}}r(cf,"invokeAsyncAndLog");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function dt(t,e,n,i,s){s??=He(1),ft(()=>Oy(t,e,n,i,s),s)}r(dt,"addToQueue");async function Oy(t,e,n,i,s){n??=Ne(),n.throwIfAborted(),i??=6e4,s??=He(1);let l=ff(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:s,timeoutInMilliseconds:i}),l.promise=l.promise.then(()=>df(t)),await l.promise}r(Oy,"addToQueueAndWait");function ff(t){return Zt(t,"queue",{items:[],promise:Promise.resolve()})}r(ff,"getQueue");async function df(t){let e=ff(t).value,n=e.items[0];n&&(await ka(()=>xa(n.timeoutInMilliseconds,i=>cf(df.name,n.fn,Mr(i,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}r(df,"processNextQueueItem");var dh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var hf=".",Dy=[{constructor:ArrayBuffer,equalityComparer:Ly},{constructor:Date,equalityComparer:My},{constructor:RegExp,equalityComparer:Ny},{constructor:Map,equalityComparer:Ry},{constructor:Set,equalityComparer:Wy}];function ht(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,i=e.constructor;if(n!==i)return!1;if(n!==Object){let f=By(t,e);if(f!==void 0)return f}let s=ir(t),a=ir(e);if(s.length!==a.length)return!1;let l=t,c=e;for(let f of s)if(!a.includes(f)||!ht(l[f],c[f]))return!1;return!0}r(ht,"deepEqual");function ir(t){let e=[],n=t;for(;n;){let i=Object.getOwnPropertyDescriptors(n);for(let[s,a]of Object.entries(i)){if(s==="__proto__"||typeof a.value=="function")continue;let l=typeof a.get=="function",c=typeof a.set=="function";if(l||c){l&&c&&e.push(s);continue}a.enumerable&&a.writable&&e.push(s)}n=Object.getPrototypeOf(n)}return e.sort()}r(ir,"getAllKeys");function sr(t,e){let n=t,i=e.split(hf);for(let s of i){if(n===void 0)return;n=n[s]}return n}r(sr,"getNestedPropertyValue");function pf(t,e,n){let i=new Error(`Property path ${e} not found`),s=t,a=e.split(hf);for(let c of a.slice(0,-1)){if(s===void 0)throw i;s=s[c]}let l=a.at(-1);if(s===void 0||l===void 0)throw i;s[l]=n}r(pf,"setNestedPropertyValue");function ps(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Ma("CircularReference"),maxDepthLimitReached:Ma("MaxDepthLimitReached"),toJSONFailed:Ma("ToJSONFailed")}},i={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};i.maxDepth===-1&&(i.maxDepth=1/0);let s=[],l=ms(t,"",0,!0,i,s,new WeakSet),c=JSON.stringify(l,null,i.space)??"";return c=Je(c,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,h,p)=>Iy({functionTexts:s,index:p?parseInt(p,10):0,key:h,substitutions:i.tokenSubstitutions})),c}r(ps,"toJson");function Iy(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??An(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}r(Iy,"applySubstitutions");function Ly(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),i=new Uint8Array(e);return ht(n,i)}r(Ly,"deepEqualArrayBuffer");function My(t,e){return t.getTime()===e.getTime()}r(My,"deepEqualDate");function Ry(t,e){if(t.size!==e.size)return!1;for(let[n,i]of t.entries())if(!e.has(n)||!ht(i,e.get(n)))return!1;return!0}r(Ry,"deepEqualMap");function Ny(t,e){return t.source===e.source&&t.flags===e.flags}r(Ny,"deepEqualRegExp");function Wy(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let i=!1;for(let s of e)if(ht(n,s)){i=!0;break}if(!i)return!1}return!0}r(Wy,"deepEqualSet");function By(t,e){for(let{constructor:n,equalityComparer:i}of Dy)if(t instanceof n&&e instanceof n)return i(t,e)}r(By,"deepEqualTyped");function Vy(t,e,n,i,s,a){return e>i.maxDepth?or("MaxDepthLimitReachedArray",t.length):t.map((l,c)=>ms(l,String(c),e+1,n,i,s,a))}r(Vy,"handleArray");function Yy(t,e,n){if(n.shouldHandleCircularReferences)return or("CircularReference");let i=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${i}'
--- property '${e}' closes the circle`)}r(Yy,"handleCircularReference");function zy(t,e,n){if(n.functionHandlingMode==="exclude")return;let i=e.length,s=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(s),or("Function",i)}r(zy,"handleFunction");function $y(t,e,n,i,s,a,l){if(l.has(t))return Yy(t,e,s);if(l.add(t),i){let c=Hy(t,e,n,s,a,l);if(c!==void 0)return c}return Array.isArray(t)?Vy(t,n,i,s,a,l):n>s.maxDepth?or("MaxDepthLimitReached"):t instanceof Error&&s.shouldHandleErrors?Bi(t):Uy(t,n,i,s,a,l)}r($y,"handleObject");function Uy(t,e,n,i,s,a){let l=Object.entries(t);return i.shouldSortKeys&&l.sort(([c],[f])=>c.localeCompare(f)),Object.fromEntries(l.map(([c,f])=>[c,ms(f,c,e+1,n,i,s,a)]))}r(Uy,"handlePlainObject");function Ma(t){return`{ "[[${t}]]": null }`}r(Ma,"makeObjectTokenSubstitution");function or(t,e){return`[[${t}${e?String(e):""}]]`}r(or,"makePlaceholder");function ms(t,e,n,i,s,a,l){return t===void 0?n===0||s.shouldHandleUndefined?or("Undefined"):void 0:typeof t=="function"?zy(t,a,s):typeof t!="object"||t===null?t:$y(t,e,n,i,s,a,l)}r(ms,"toPlainObject");function Hy(t,e,n,i,s,a){let l=t.toJSON;if(typeof l=="function")try{let c=l.call(t,e);return ms(c,e,n,!1,i,s,a)}catch(c){if(i.shouldCatchToJSONErrors)return or("ToJSONFailed");throw c}}r(Hy,"tryHandleToJSON");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var jy="__DUMMY__";async function Kr(t){let{app:e,attachmentPathOrFile:n,notePathOrFile:i,shouldSkipDuplicateCheck:s}=t,a=ye(e,n),l=Tt(a),c=Ze(a,l),f=he(e,a),p=e.vault.getAvailablePathForAttachments.extended;return p?p({attachmentFileBaseName:c,attachmentFileContent:f?await e.vault.readBinary(f):void 0,attachmentFileExtension:l.slice(1),attachmentFileStat:f?.stat,notePathOrFile:i,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:!0}):await Gy({app:e,attachmentFileBaseName:c,attachmentFileExtension:l.slice(1),notePathOrFile:i,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:!0})}r(Kr,"getAttachmentFilePath");async function ar(t,e){return At(await Kr({app:t,attachmentPathOrFile:jy,notePathOrFile:e,shouldSkipDuplicateCheck:!0}))}r(ar,"getAttachmentFolderPath");async function Gy(t){let{app:e,attachmentFileExtension:n,notePathOrFile:i,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:a}=t,l=e.vault.getConfig("attachmentFolderPath"),c=l==="."||l==="./",f=l.startsWith("./")?Vi(l,"./"):null,h=he(e,i);c?l=h?h.parent?.path??"":"":f&&(l=(h?h.parent?.getParentPrefix()??"":"")+f),l=Wr(mf(l));let p=Wr(mf(t.attachmentFileBaseName)),g=Ft(e,l,!0);!g&&f&&(g=a?Jn(e,l,!0):await e.vault.createFolder(l));let y=g?.getParentPrefix()??"";return s?rc(y+p,n):e.vault.getAvailablePath(y+p,n)}r(Gy,"getAvailablePathForAttachments");async function Ra(t,e){let n=await ar(t,e),i=await ar(t,ke(fe(e),"DUMMY_FILE.md"));return n!==i}r(Ra,"hasOwnAttachmentFolder");function mf(t){return t=Je(t,/(?:[\\/])+/g,"/"),t=Je(t,/^\/+|\/+$/g,""),t||"/"}r(mf,"normalizeSlashes");var js=require("obsidian");var Ky={};function Fn(t,e){let n=e||Ky,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return yf(t,i,s)}r(Fn,"toString");function yf(t,e,n){if(qy(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return gf(t.children,e,n)}return Array.isArray(t)?gf(t,e,n):""}r(yf,"one");function gf(t,e,n){let i=[],s=-1;for(;++s<t.length;)i[s]=yf(t[s],e,n);return i.join("")}r(gf,"all");function qy(t){return!!(t&&typeof t=="object")}r(qy,"node");var wf=document.createElement("i");function lr(t){let e="&"+t+";";wf.innerHTML=e;let n=wf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}r(lr,"decodeNamedCharacterReference");function Ie(t,e,n,i){let s=t.length,a=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}r(Ie,"splice");function je(t,e){return t.length>0?(Ie(t,t.length,0,e),t):e}r(je,"push");var bf={}.hasOwnProperty;function kf(t){let e={},n=-1;for(;++n<t.length;)Jy(e,t[n]);return e}r(kf,"combineExtensions");function Jy(t,e){let n;for(n in e){let s=(bf.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n],l;if(a)for(l in a){bf.call(s,l)||(s[l]=[]);let c=a[l];Zy(s[l],Array.isArray(c)?c:c?[c]:[])}}}r(Jy,"syntaxExtension");function Zy(t,e){let n=-1,i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Ie(t,0,0,i)}r(Zy,"constructs");function gs(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}r(gs,"decodeNumericCharacterReference");function Xt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}r(Xt,"normalizeIdentifier");var nt=cn(/[A-Za-z]/),Ge=cn(/[\dA-Za-z]/),xf=cn(/[#-'*+\--9=?A-Z^-~]/);function qr(t){return t!==null&&(t<32||t===127)}r(qr,"asciiControl");var Jr=cn(/\d/),vf=cn(/[\dA-Fa-f]/),Cf=cn(/[!-/:-@[-`{-~]/);function B(t){return t!==null&&t<-2}r(B,"markdownLineEnding");function be(t){return t!==null&&(t<0||t===32)}r(be,"markdownLineEndingOrSpace");function G(t){return t===-2||t===-1||t===32}r(G,"markdownSpace");var Af=cn(/\p{P}|\p{S}/u),Sf=cn(/\s/);function cn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}r(cn,"regexCheck");function q(t,e,n,i){let s=i?i-1:Number.POSITIVE_INFINITY,a=0;return l;function l(f){return G(f)?(t.enter(n),c(f)):e(f)}function c(f){return G(f)&&a++<s?(t.consume(f),c):(t.exit(n),e(f))}}r(q,"factorySpace");var Ef={tokenize:Qy};function Qy(t){let e=t.attempt(this.parser.constructs.contentInitial,i,s),n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),q(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),a(c)}function a(c){let f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return B(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}r(Qy,"initializeContent");var Ff={tokenize:Xy},Tf={tokenize:ew};function Xy(t){let e=this,n=[],i=0,s,a,l;return c;function c(O){if(i<n.length){let R=n[i];return e.containerState=R[1],t.attempt(R[0].continuation,f,h)(O)}return h(O)}function f(O){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&F();let R=e.events.length,Y=R,E;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){E=e.events[Y][1].end;break}A(i);let Z=R;for(;Z<e.events.length;)e.events[Z][1].end={...E},Z++;return Ie(e.events,Y+1,0,e.events.slice(R)),e.events.length=Z,h(O)}return c(O)}function h(O){if(i===n.length){if(!s)return y(O);if(s.currentConstruct&&s.currentConstruct.concrete)return C(O);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Tf,p,g)(O)}function p(O){return s&&F(),A(i),y(O)}function g(O){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,C(O)}function y(O){return e.containerState={},t.attempt(Tf,w,C)(O)}function w(O){return i++,n.push([e.currentConstruct,e.containerState]),y(O)}function C(O){if(O===null){s&&F(),A(0),t.consume(O);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),_(O)}function _(O){if(O===null){S(t.exit("chunkFlow"),!0),A(0),t.consume(O);return}return B(O)?(t.consume(O),S(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(O),_)}function S(O,R){let Y=e.sliceStream(O);if(R&&Y.push(null),O.previous=a,a&&(a.next=O),a=O,s.defineSkip(O.start),s.write(Y),e.parser.lazy[O.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<l&&(!s.events[E][1].end||s.events[E][1].end.offset>l))return;let Z=e.events.length,Q=Z,U,J;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){if(U){J=e.events[Q][1].end;break}U=!0}for(A(i),E=Z;E<e.events.length;)e.events[E][1].end={...J},E++;Ie(e.events,Q+1,0,e.events.slice(Z)),e.events.length=E}}function A(O){let R=n.length;for(;R-- >O;){let Y=n[R];e.containerState=Y[1],Y[0].exit.call(e,t)}n.length=O}function F(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}r(Xy,"initializeDocument");function ew(t,e,n){return q(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}r(ew,"tokenizeContainer");function ur(t){if(t===null||be(t)||Sf(t))return 1;if(Af(t))return 2}r(ur,"classifyCharacter");function cr(t,e,n){let i=[],s=-1;for(;++s<t.length;){let a=t[s].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}r(cr,"resolveAll");var Zr={name:"attention",resolveAll:tw,tokenize:nw};function tw(t,e){let n=-1,i,s,a,l,c,f,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let g={...t[i][1].end},y={...t[n][1].start};_f(g,-f),_f(y,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...t[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:f>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[i][1].end={...l.start},t[n][1].start={...c.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=je(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=je(h,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",a,e]]),h=je(h,cr(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=je(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=je(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Ie(t,i-1,n-i+3,h),n=i+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}r(tw,"resolveAllAttention");function nw(t,e){let n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=ur(i),a;return l;function l(f){return a=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===a)return t.consume(f),c;let h=t.exit("attentionSequence"),p=ur(f),g=!p||p===2&&s||n.includes(f),y=!s||s===2&&p||n.includes(i);return h._open=!!(a===42?g:g&&(s||!y)),h._close=!!(a===42?y:y&&(p||!g)),e(f)}}r(nw,"tokenizeAttention");function _f(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}r(_f,"movePoint");var Na={name:"autolink",tokenize:rw};function rw(t,e,n){let i=0;return s;function s(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(w){return nt(w)?(t.consume(w),l):w===64?n(w):h(w)}function l(w){return w===43||w===45||w===46||Ge(w)?(i=1,c(w)):h(w)}function c(w){return w===58?(t.consume(w),i=0,f):(w===43||w===45||w===46||Ge(w))&&i++<32?(t.consume(w),c):(i=0,h(w))}function f(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||qr(w)?n(w):(t.consume(w),f)}function h(w){return w===64?(t.consume(w),p):xf(w)?(t.consume(w),h):n(w)}function p(w){return Ge(w)?g(w):n(w)}function g(w){return w===46?(t.consume(w),i=0,p):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||Ge(w))&&i++<63){let C=w===45?y:g;return t.consume(w),C}return n(w)}}r(rw,"tokenizeAutolink");var fn={partial:!0,tokenize:iw};function iw(t,e,n){return i;function i(a){return G(a)?q(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||B(a)?e(a):n(a)}}r(iw,"tokenizeBlankLine");var ys={continuation:{tokenize:ow},exit:aw,name:"blockQuote",tokenize:sw};function sw(t,e,n){let i=this;return s;function s(l){if(l===62){let c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return G(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}r(sw,"tokenizeBlockQuoteStart");function ow(t,e,n){let i=this;return s;function s(l){return G(l)?q(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(ys,e,n)(l)}}r(ow,"tokenizeBlockQuoteContinuation");function aw(t){t.exit("blockQuote")}r(aw,"exit");var ws={name:"characterEscape",tokenize:lw};function lw(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return Cf(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}r(lw,"tokenizeCharacterEscape");var bs={name:"characterReference",tokenize:uw};function uw(t,e,n){let i=this,s=0,a,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),f}function f(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,l=Ge,p(g))}function h(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=vf,p):(t.enter("characterReferenceValue"),a=7,l=Jr,p(g))}function p(g){if(g===59&&s){let y=t.exit("characterReferenceValue");return l===Ge&&!lr(i.sliceSerialize(y))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&s++<a?(t.consume(g),p):n(g)}}r(uw,"tokenizeCharacterReference");var Pf={partial:!0,tokenize:fw},ks={concrete:!0,name:"codeFenced",tokenize:cw};function cw(t,e,n){let i=this,s={partial:!0,tokenize:Y},a=0,l=0,c;return f;function f(E){return h(E)}function h(E){let Z=i.events[i.events.length-1];return a=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,c=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(E)}function p(E){return E===c?(l++,t.consume(E),p):l<3?n(E):(t.exit("codeFencedFenceSequence"),G(E)?q(t,g,"whitespace")(E):g(E))}function g(E){return E===null||B(E)?(t.exit("codeFencedFence"),i.interrupt?e(E):t.check(Pf,_,R)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||B(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(E)):G(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),q(t,w,"whitespace")(E)):E===96&&E===c?n(E):(t.consume(E),y)}function w(E){return E===null||B(E)?g(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(E))}function C(E){return E===null||B(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(E)):E===96&&E===c?n(E):(t.consume(E),C)}function _(E){return t.attempt(s,R,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),A}function A(E){return a>0&&G(E)?q(t,F,"linePrefix",a+1)(E):F(E)}function F(E){return E===null||B(E)?t.check(Pf,_,R)(E):(t.enter("codeFlowValue"),O(E))}function O(E){return E===null||B(E)?(t.exit("codeFlowValue"),F(E)):(t.consume(E),O)}function R(E){return t.exit("codeFenced"),e(E)}function Y(E,Z,Q){let U=0;return J;function J($){return E.enter("lineEnding"),E.consume($),E.exit("lineEnding"),le}function le($){return E.enter("codeFencedFence"),G($)?q(E,te,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):te($)}function te($){return $===c?(E.enter("codeFencedFenceSequence"),L($)):Q($)}function L($){return $===c?(U++,E.consume($),L):U>=l?(E.exit("codeFencedFenceSequence"),G($)?q(E,z,"whitespace")($):z($)):Q($)}function z($){return $===null||B($)?(E.exit("codeFencedFence"),Z($)):Q($)}}}r(cw,"tokenizeCodeFenced");function fw(t,e,n){let i=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(fw,"tokenizeNonLazyContinuation");var Qr={name:"codeIndented",tokenize:hw},dw={partial:!0,tokenize:pw};function hw(t,e,n){let i=this;return s;function s(h){return t.enter("codeIndented"),q(t,a,"linePrefix",5)(h)}function a(h){let p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?f(h):B(h)?t.attempt(dw,l,f)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||B(h)?(t.exit("codeFlowValue"),l(h)):(t.consume(h),c)}function f(h){return t.exit("codeIndented"),e(h)}}r(hw,"tokenizeCodeIndented");function pw(t,e,n){let i=this;return s;function s(l){return i.parser.lazy[i.now().line]?n(l):B(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):q(t,a,"linePrefix",5)(l)}function a(l){let c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):B(l)?s(l):n(l)}}r(pw,"tokenizeFurtherStart");var Wa={name:"codeText",previous:gw,resolve:mw,tokenize:yw};function mw(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}r(mw,"resolveCodeText");function gw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}r(gw,"previous");function yw(t,e,n){let i=this,s=0,a,l;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),f(y)}function f(y){return y===96?(t.consume(y),s++,f):(t.exit("codeTextSequence"),h(y))}function h(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),h):y===96?(l=t.enter("codeTextSequence"),a=0,g(y)):B(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||B(y)?(t.exit("codeTextData"),h(y)):(t.consume(y),p)}function g(y){return y===96?(t.consume(y),a++,g):a===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",p(y))}}r(yw,"tokenizeCodeText");var xs=class{static{r(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){let s=n||0;this.setCursor(Math.trunc(e));let a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Xr(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Xr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Xr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Xr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Xr(this.left,n.reverse())}}};function Xr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}r(Xr,"chunkedPush");function vs(t){let e={},n=-1,i,s,a,l,c,f,h,p=new xs(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(i=p.get(n),n&&i[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,ww(p,n)),n=e[n],h=!0);else if(i[1]._container){for(a=n,s=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(i[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(i),p.splice(s,n-s+1,c))}}return Ie(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}r(vs,"subtokenize");function ww(t,e){let n=t.get(e)[1],i=t.get(e)[2],s=e-1,a=[],l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,f=[],h={},p,g,y=-1,w=n,C=0,_=0,S=[_];for(;w;){for(;t.get(++s)[1]!==w;);a.push(s),w._tokenizer||(p=i.sliceStream(w),w.next||p.push(null),g&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=w,w=w.next}for(w=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(_=y+1,S.push(_),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):S.pop(),y=S.length;y--;){let A=c.slice(S[y],S[y+1]),F=a.pop();f.push([F,F+A.length-1]),t.splice(F,2,A)}for(f.reverse(),y=-1;++y<f.length;)h[C+f[y][0]]=C+f[y][1],C+=f[y][1]-f[y][0]-1;return h}r(ww,"subcontent");var Ba={resolve:kw,tokenize:xw},bw={partial:!0,tokenize:vw};function kw(t){return vs(t),t}r(kw,"resolveContent");function xw(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):B(c)?t.check(bw,l,a)(c):(t.consume(c),s)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}r(xw,"tokenizeContent");function vw(t,e,n){let i=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),q(t,a,"linePrefix")}function a(l){if(l===null||B(l))return n(l);let c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}r(vw,"tokenizeContinuation");function Cs(t,e,n,i,s,a,l,c,f){let h=f||Number.POSITIVE_INFINITY,p=0;return g;function g(A){return A===60?(t.enter(i),t.enter(s),t.enter(a),t.consume(A),t.exit(a),y):A===null||A===32||A===41||qr(A)?n(A):(t.enter(i),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),_(A))}function y(A){return A===62?(t.enter(a),t.consume(A),t.exit(a),t.exit(s),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===62?(t.exit("chunkString"),t.exit(c),y(A)):A===null||A===60||B(A)?n(A):(t.consume(A),A===92?C:w)}function C(A){return A===60||A===62||A===92?(t.consume(A),w):w(A)}function _(A){return!p&&(A===null||A===41||be(A))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(i),e(A)):p<h&&A===40?(t.consume(A),p++,_):A===41?(t.consume(A),p--,_):A===null||A===32||A===40||qr(A)?n(A):(t.consume(A),A===92?S:_)}function S(A){return A===40||A===41||A===92?(t.consume(A),_):_(A)}}r(Cs,"factoryDestination");function As(t,e,n,i,s,a){let l=this,c=0,f;return h;function h(w){return t.enter(i),t.enter(s),t.consume(w),t.exit(s),t.enter(a),p}function p(w){return c>999||w===null||w===91||w===93&&!f||w===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(a),t.enter(s),t.consume(w),t.exit(s),t.exit(i),e):B(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||w===91||w===93||B(w)||c++>999?(t.exit("chunkString"),p(w)):(t.consume(w),f||(f=!G(w)),w===92?y:g)}function y(w){return w===91||w===92||w===93?(t.consume(w),c++,g):g(w)}}r(As,"factoryLabel");function Ss(t,e,n,i,s,a){let l;return c;function c(y){return y===34||y===39||y===40?(t.enter(i),t.enter(s),t.consume(y),t.exit(s),l=y===40?41:y,f):n(y)}function f(y){return y===l?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),e):(t.enter(a),h(y))}function h(y){return y===l?(t.exit(a),f(l)):y===null?n(y):B(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),q(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||B(y)?(t.exit("chunkString"),h(y)):(t.consume(y),y===92?g:p)}function g(y){return y===l||y===92?(t.consume(y),p):p(y)}}r(Ss,"factoryTitle");function _n(t,e){let n;return i;function i(s){return B(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):G(s)?q(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}r(_n,"factoryWhitespace");var Va={name:"definition",tokenize:Aw},Cw={partial:!0,tokenize:Sw};function Aw(t,e,n){let i=this,s;return a;function a(w){return t.enter("definition"),l(w)}function l(w){return As.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function c(w){return s=Xt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),f):n(w)}function f(w){return be(w)?_n(t,h)(w):h(w)}function h(w){return Cs(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function p(w){return t.attempt(Cw,g,g)(w)}function g(w){return G(w)?q(t,y,"whitespace")(w):y(w)}function y(w){return w===null||B(w)?(t.exit("definition"),i.parser.defined.push(s),e(w)):n(w)}}r(Aw,"tokenizeDefinition");function Sw(t,e,n){return i;function i(c){return be(c)?_n(t,s)(c):n(c)}function s(c){return Ss(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return G(c)?q(t,l,"whitespace")(c):l(c)}function l(c){return c===null||B(c)?e(c):n(c)}}r(Sw,"tokenizeTitleBefore");var Ya={name:"hardBreakEscape",tokenize:Ew};function Ew(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return B(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}r(Ew,"tokenizeHardBreakEscape");var za={name:"headingAtx",resolve:Tw,tokenize:Fw};function Tw(t,e){let n=t.length-2,i=3,s,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Ie(t,i,n-i+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}r(Tw,"resolveHeadingAtx");function Fw(t,e,n){let i=0;return s;function s(p){return t.enter("atxHeading"),a(p)}function a(p){return t.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&i++<6?(t.consume(p),l):p===null||be(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),f(p)):p===null||B(p)?(t.exit("atxHeading"),e(p)):G(p)?q(t,c,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function f(p){return p===35?(t.consume(p),f):(t.exit("atxHeadingSequence"),c(p))}function h(p){return p===null||p===35||be(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),h)}}r(Fw,"tokenizeHeadingAtx");var Of=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$a=["pre","script","style","textarea"];var Ua={concrete:!0,name:"htmlFlow",resolveTo:Ow,tokenize:Dw},_w={partial:!0,tokenize:Lw},Pw={partial:!0,tokenize:Iw};function Ow(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}r(Ow,"resolveToHtmlFlow");function Dw(t,e,n){let i=this,s,a,l,c,f;return h;function h(k){return p(k)}function p(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),g}function g(k){return k===33?(t.consume(k),y):k===47?(t.consume(k),a=!0,_):k===63?(t.consume(k),s=3,i.interrupt?e:v):nt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function y(k){return k===45?(t.consume(k),s=2,w):k===91?(t.consume(k),s=5,c=0,C):nt(k)?(t.consume(k),s=4,i.interrupt?e:v):n(k)}function w(k){return k===45?(t.consume(k),i.interrupt?e:v):n(k)}function C(k){let Ee="CDATA[";return k===Ee.charCodeAt(c++)?(t.consume(k),c===Ee.length?i.interrupt?e:te:C):n(k)}function _(k){return nt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function S(k){if(k===null||k===47||k===62||be(k)){let Ee=k===47,Vt=l.toLowerCase();return!Ee&&!a&&$a.includes(Vt)?(s=1,i.interrupt?e(k):te(k)):Of.includes(l.toLowerCase())?(s=6,Ee?(t.consume(k),A):i.interrupt?e(k):te(k)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):a?F(k):O(k))}return k===45||Ge(k)?(t.consume(k),l+=String.fromCharCode(k),S):n(k)}function A(k){return k===62?(t.consume(k),i.interrupt?e:te):n(k)}function F(k){return G(k)?(t.consume(k),F):J(k)}function O(k){return k===47?(t.consume(k),J):k===58||k===95||nt(k)?(t.consume(k),R):G(k)?(t.consume(k),O):J(k)}function R(k){return k===45||k===46||k===58||k===95||Ge(k)?(t.consume(k),R):Y(k)}function Y(k){return k===61?(t.consume(k),E):G(k)?(t.consume(k),Y):O(k)}function E(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),f=k,Z):G(k)?(t.consume(k),E):Q(k)}function Z(k){return k===f?(t.consume(k),f=null,U):k===null||B(k)?n(k):(t.consume(k),Z)}function Q(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||be(k)?Y(k):(t.consume(k),Q)}function U(k){return k===47||k===62||G(k)?O(k):n(k)}function J(k){return k===62?(t.consume(k),le):n(k)}function le(k){return k===null||B(k)?te(k):G(k)?(t.consume(k),le):n(k)}function te(k){return k===45&&s===2?(t.consume(k),K):k===60&&s===1?(t.consume(k),ie):k===62&&s===4?(t.consume(k),oe):k===63&&s===3?(t.consume(k),v):k===93&&s===5?(t.consume(k),xe):B(k)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(_w,me,L)(k)):k===null||B(k)?(t.exit("htmlFlowData"),L(k)):(t.consume(k),te)}function L(k){return t.check(Pw,z,me)(k)}function z(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),$}function $(k){return k===null||B(k)?L(k):(t.enter("htmlFlowData"),te(k))}function K(k){return k===45?(t.consume(k),v):te(k)}function ie(k){return k===47?(t.consume(k),l="",ue):te(k)}function ue(k){if(k===62){let Ee=l.toLowerCase();return $a.includes(Ee)?(t.consume(k),oe):te(k)}return nt(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),ue):te(k)}function xe(k){return k===93?(t.consume(k),v):te(k)}function v(k){return k===62?(t.consume(k),oe):k===45&&s===2?(t.consume(k),v):te(k)}function oe(k){return k===null||B(k)?(t.exit("htmlFlowData"),me(k)):(t.consume(k),oe)}function me(k){return t.exit("htmlFlow"),e(k)}}r(Dw,"tokenizeHtmlFlow");function Iw(t,e,n){let i=this;return s;function s(l){return B(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(Iw,"tokenizeNonLazyContinuationStart");function Lw(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(fn,e,n)}}r(Lw,"tokenizeBlankLineBefore");var Ha={name:"htmlText",tokenize:Mw};function Mw(t,e,n){let i=this,s,a,l;return c;function c(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),f}function f(v){return v===33?(t.consume(v),h):v===47?(t.consume(v),Y):v===63?(t.consume(v),O):nt(v)?(t.consume(v),Q):n(v)}function h(v){return v===45?(t.consume(v),p):v===91?(t.consume(v),a=0,C):nt(v)?(t.consume(v),F):n(v)}function p(v){return v===45?(t.consume(v),w):n(v)}function g(v){return v===null?n(v):v===45?(t.consume(v),y):B(v)?(l=g,ie(v)):(t.consume(v),g)}function y(v){return v===45?(t.consume(v),w):g(v)}function w(v){return v===62?K(v):v===45?y(v):g(v)}function C(v){let oe="CDATA[";return v===oe.charCodeAt(a++)?(t.consume(v),a===oe.length?_:C):n(v)}function _(v){return v===null?n(v):v===93?(t.consume(v),S):B(v)?(l=_,ie(v)):(t.consume(v),_)}function S(v){return v===93?(t.consume(v),A):_(v)}function A(v){return v===62?K(v):v===93?(t.consume(v),A):_(v)}function F(v){return v===null||v===62?K(v):B(v)?(l=F,ie(v)):(t.consume(v),F)}function O(v){return v===null?n(v):v===63?(t.consume(v),R):B(v)?(l=O,ie(v)):(t.consume(v),O)}function R(v){return v===62?K(v):O(v)}function Y(v){return nt(v)?(t.consume(v),E):n(v)}function E(v){return v===45||Ge(v)?(t.consume(v),E):Z(v)}function Z(v){return B(v)?(l=Z,ie(v)):G(v)?(t.consume(v),Z):K(v)}function Q(v){return v===45||Ge(v)?(t.consume(v),Q):v===47||v===62||be(v)?U(v):n(v)}function U(v){return v===47?(t.consume(v),K):v===58||v===95||nt(v)?(t.consume(v),J):B(v)?(l=U,ie(v)):G(v)?(t.consume(v),U):K(v)}function J(v){return v===45||v===46||v===58||v===95||Ge(v)?(t.consume(v),J):le(v)}function le(v){return v===61?(t.consume(v),te):B(v)?(l=le,ie(v)):G(v)?(t.consume(v),le):U(v)}function te(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),s=v,L):B(v)?(l=te,ie(v)):G(v)?(t.consume(v),te):(t.consume(v),z)}function L(v){return v===s?(t.consume(v),s=void 0,$):v===null?n(v):B(v)?(l=L,ie(v)):(t.consume(v),L)}function z(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||be(v)?U(v):(t.consume(v),z)}function $(v){return v===47||v===62||be(v)?U(v):n(v)}function K(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ie(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ue}function ue(v){return G(v)?q(t,xe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):xe(v)}function xe(v){return t.enter("htmlTextData"),l(v)}}r(Mw,"tokenizeHtmlText");var Pn={name:"labelEnd",resolveAll:Bw,resolveTo:Vw,tokenize:Yw},Rw={tokenize:zw},Nw={tokenize:$w},Ww={tokenize:Uw};function Bw(t){let e=-1,n=[];for(;++e<t.length;){let i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){let s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&Ie(t,0,t.length,n),t}r(Bw,"resolveAllLabelEnd");function Vw(t,e){let n=t.length,i=0,s,a,l,c;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(l=n);let f={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},p={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",h,e]],c=je(c,t.slice(a+1,a+i+3)),c=je(c,[["enter",p,e]]),c=je(c,cr(e.parser.constructs.insideSpan.null,t.slice(a+i+4,l-3),e)),c=je(c,[["exit",p,e],t[l-2],t[l-1],["exit",h,e]]),c=je(c,t.slice(l+1)),c=je(c,[["exit",f,e]]),Ie(t,a,t.length,c),t}r(Vw,"resolveToLabelEnd");function Yw(t,e,n){let i=this,s=i.events.length,a,l;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return c;function c(y){return a?a._inactive?g(y):(l=i.parser.defined.includes(Xt(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),f):n(y)}function f(y){return y===40?t.attempt(Rw,p,l?p:g)(y):y===91?t.attempt(Nw,p,l?h:g)(y):l?p(y):g(y)}function h(y){return t.attempt(Ww,p,g)(y)}function p(y){return e(y)}function g(y){return a._balanced=!0,n(y)}}r(Yw,"tokenizeLabelEnd");function zw(t,e,n){return i;function i(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),s}function s(g){return be(g)?_n(t,a)(g):a(g)}function a(g){return g===41?p(g):Cs(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return be(g)?_n(t,f)(g):p(g)}function c(g){return n(g)}function f(g){return g===34||g===39||g===40?Ss(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function h(g){return be(g)?_n(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}r(zw,"tokenizeResource");function $w(t,e,n){let i=this;return s;function s(c){return As.call(i,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(Xt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}r($w,"tokenizeReferenceFull");function Uw(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}r(Uw,"tokenizeReferenceCollapsed");var ja={name:"labelStartImage",resolveAll:Pn.resolveAll,tokenize:Hw};function Hw(t,e,n){let i=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}r(Hw,"tokenizeLabelStartImage");var Ga={name:"labelStartLink",resolveAll:Pn.resolveAll,tokenize:jw};function jw(t,e,n){let i=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}r(jw,"tokenizeLabelStartLink");var ei={name:"lineEnding",tokenize:Gw};function Gw(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),q(t,e,"linePrefix")}}r(Gw,"tokenizeLineEnding");var On={name:"thematicBreak",tokenize:Kw};function Kw(t,e,n){let i=0,s;return a;function a(h){return t.enter("thematicBreak"),l(h)}function l(h){return s=h,c(h)}function c(h){return h===s?(t.enter("thematicBreakSequence"),f(h)):i>=3&&(h===null||B(h))?(t.exit("thematicBreak"),e(h)):n(h)}function f(h){return h===s?(t.consume(h),i++,f):(t.exit("thematicBreakSequence"),G(h)?q(t,c,"whitespace")(h):c(h))}}r(Kw,"tokenizeThematicBreak");var We={continuation:{tokenize:Qw},exit:eb,name:"list",tokenize:Zw},qw={partial:!0,tokenize:tb},Jw={partial:!0,tokenize:Xw};function Zw(t,e,n){let i=this,s=i.events[i.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(w){let C=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:Jr(w)){if(i.containerState.type||(i.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(On,n,h)(w):h(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(w)}return n(w)}function f(w){return Jr(w)&&++l<10?(t.consume(w),f):(!i.interrupt||l<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),h(w)):n(w)}function h(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(fn,i.interrupt?n:p,t.attempt(qw,y,g))}function p(w){return i.containerState.initialBlankLine=!0,a++,y(w)}function g(w){return G(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}r(Zw,"tokenizeListStart");function Qw(t,e,n){let i=this;return i.containerState._closeFlow=void 0,t.check(fn,s,a);function s(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,q(t,e,"listItemIndent",i.containerState.size+1)(c)}r(s,"onBlank");function a(c){return i.containerState.furtherBlankLines||!G(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(Jw,e,l)(c))}r(a,"notBlank");function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,q(t,t.attempt(We,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}r(l,"notInCurrentItem")}r(Qw,"tokenizeListContinuation");function Xw(t,e,n){let i=this;return q(t,s,"listItemIndent",i.containerState.size+1);function s(a){let l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):n(a)}}r(Xw,"tokenizeIndent");function eb(t){t.exit(this.containerState.type)}r(eb,"tokenizeListEnd");function tb(t,e,n){let i=this;return q(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){let l=i.events[i.events.length-1];return!G(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}r(tb,"tokenizeListItemPrefixWhitespace");var Es={name:"setextUnderline",resolveTo:nb,tokenize:rb};function nb(t,e){let n=t.length,i,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);let l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",l,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}r(nb,"resolveToSetextUnderline");function rb(t,e,n){let i=this,s;return a;function a(h){let p=i.events.length,g;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){g=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(t.enter("setextHeadingLine"),s=h,l(h)):n(h)}function l(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===s?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),G(h)?q(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||B(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}r(rb,"tokenizeSetextUnderline");var Df={tokenize:ib};function ib(t){let e=this,n=t.attempt(fn,i,t.attempt(this.parser.constructs.flowInitial,s,q(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Ba,s)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}r(ib,"initializeFlow");var If={resolveAll:Nf()},Lf=Rf("string"),Mf=Rf("text");function Rf(t){return{resolveAll:Nf(t==="text"?sb:void 0),tokenize:e};function e(n){let i=this,s=this.parser.constructs[t],a=n.attempt(s,l,c);return l;function l(p){return h(p)?a(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),f}function f(p){return h(p)?(n.exit("data"),a(p)):(n.consume(p),f)}function h(p){if(p===null)return!0;let g=s[p],y=-1;if(g)for(;++y<g.length;){let w=g[y];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}r(Rf,"initializeFactory");function Nf(t){return e;function e(n,i){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,i):n}}r(Nf,"createResolver");function sb(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let i=t[n-1][1],s=e.sliceStream(i),a=s.length,l=-1,c=0,f;for(;a--;){let h=s[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)f=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){let h={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}r(sb,"resolveAllLineSuffixes");var Ka={};Wu(Ka,{attentionMarkers:()=>hb,contentInitial:()=>ab,disable:()=>pb,document:()=>ob,flow:()=>ub,flowInitial:()=>lb,insideSpan:()=>db,string:()=>cb,text:()=>fb});var ob={42:We,43:We,45:We,48:We,49:We,50:We,51:We,52:We,53:We,54:We,55:We,56:We,57:We,62:ys},ab={91:Va},lb={[-2]:Qr,[-1]:Qr,32:Qr},ub={35:za,42:On,45:[Es,On],60:Ua,61:Es,95:On,96:ks,126:ks},cb={38:bs,92:ws},fb={[-5]:ei,[-4]:ei,[-3]:ei,33:ja,38:bs,42:Zr,60:[Na,Ha],91:Ga,92:[Ya,ws],93:Pn,95:Zr,96:Wa},db={null:[Zr,If]},hb={null:[42,95]},pb={null:[]};function Wf(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},s={},a=[],l=[],c=[],f=!0,h={attempt:U(Z),check:U(Q),consume:R,enter:Y,exit:E,interrupt:U(Q,{interrupt:!0})},p={code:null,containerState:{},defineSkip:A,events:[],now:S,parser:t,previous:null,sliceSerialize:C,sliceStream:_,write:w},g=e.tokenize.call(p,h),y;return e.resolveAll&&a.push(e),p;function w(L){return l=je(l,L),F(),l[l.length-1]!==null?[]:(J(e,0),p.events=cr(a,p.events,p),p.events)}r(w,"write");function C(L,z){return gb(_(L),z)}r(C,"sliceSerialize");function _(L){return mb(l,L)}r(_,"sliceStream");function S(){let{_bufferIndex:L,_index:z,line:$,column:K,offset:ie}=i;return{_bufferIndex:L,_index:z,line:$,column:K,offset:ie}}r(S,"now");function A(L){s[L.line]=L.column,te()}r(A,"defineSkip");function F(){let L;for(;i._index<l.length;){let z=l[i._index];if(typeof z=="string")for(L=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===L&&i._bufferIndex<z.length;)O(z.charCodeAt(i._bufferIndex));else O(z)}}r(F,"main");function O(L){f=void 0,y=L,g=g(L)}r(O,"go");function R(L){B(L)?(i.line++,i.column=1,i.offset+=L===-3?2:1,te()):L!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),p.previous=L,f=!0}r(R,"consume");function Y(L,z){let $=z||{};return $.type=L,$.start=S(),p.events.push(["enter",$,p]),c.push($),$}r(Y,"enter");function E(L){let z=c.pop();return z.end=S(),p.events.push(["exit",z,p]),z}r(E,"exit");function Z(L,z){J(L,z.from)}r(Z,"onsuccessfulconstruct");function Q(L,z){z.restore()}r(Q,"onsuccessfulcheck");function U(L,z){return $;function $(K,ie,ue){let xe,v,oe,me;return Array.isArray(K)?Ee(K):"tokenize"in K?Ee([K]):k(K);function k(ve){return kn;function kn(yt){let Yt=yt!==null&&ve[yt],on=yt!==null&&ve.null,Cr=[...Array.isArray(Yt)?Yt:Yt?[Yt]:[],...Array.isArray(on)?on:on?[on]:[]];return Ee(Cr)(yt)}}function Ee(ve){return xe=ve,v=0,ve.length===0?ue:Vt(ve[v])}function Vt(ve){return kn;function kn(yt){return me=le(),oe=ve,ve.partial||(p.currentConstruct=ve),ve.name&&p.parser.constructs.disable.null.includes(ve.name)?bn(yt):ve.tokenize.call(z?Object.assign(Object.create(p),z):p,h,sn,bn)(yt)}}function sn(ve){return f=!0,L(oe,me),ie}function bn(ve){return f=!0,me.restore(),++v<xe.length?Vt(xe[v]):ue}}}r(U,"constructFactory");function J(L,z){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&Ie(p.events,z,p.events.length-z,L.resolve(p.events.slice(z),p)),L.resolveTo&&(p.events=L.resolveTo(p.events,p))}r(J,"addResult");function le(){let L=S(),z=p.previous,$=p.currentConstruct,K=p.events.length,ie=Array.from(c);return{from:K,restore:ue};function ue(){i=L,p.previous=z,p.currentConstruct=$,p.events.length=K,c=ie,te()}}r(le,"store");function te(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}r(te,"accountForPotentialSkip")}r(Wf,"createTokenizer");function mb(t,e){let n=e.start._index,i=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex,l;if(n===s)l=[t[n].slice(i,a)];else{if(l=t.slice(n,s),i>-1){let c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(t[s].slice(0,a))}return l}r(mb,"sliceChunks");function gb(t,e){let n=-1,i=[],s;for(;++n<t.length;){let a=t[n],l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,i.push(l)}return i.join("")}r(gb,"serializeChunks");function qa(t){let i={constructs:kf([Ka,...(t||{}).extensions||[]]),content:s(Ef),defined:[],document:s(Ff),flow:s(Df),lazy:{},string:s(Lf),text:s(Mf)};return i;function s(a){return l;function l(c){return Wf(i,a,c)}}}r(qa,"parse");function Ja(t){for(;!vs(t););return t}r(Ja,"postprocess");var Bf=/[\0\t\n\r]/g;function Za(){let t=1,e="",n=!0,i;return s;function s(a,l,c){let f=[],h,p,g,y,w;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(Bf.lastIndex=g,h=Bf.exec(a),y=h&&h.index!==void 0?h.index:a.length,w=a.charCodeAt(y),!h){e=a.slice(g);break}if(w===10&&g===y&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),g<y&&(f.push(a.slice(g,y)),t+=y-g),w){case 0:{f.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,f.push(-2);t++<p;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:i=!0,t=1}g=y+1}return c&&(i&&f.push(-5),e&&f.push(e),f.push(null)),f}}r(Za,"preprocess");var yb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ts(t){return t.replace(yb,wb)}r(Ts,"decodeString");function wb(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let s=n.charCodeAt(1),a=s===120||s===88;return gs(n.slice(a?2:1),a?16:10)}return lr(n)||t}r(wb,"decode");function dn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Vf(t.position):"start"in t||"end"in t?Vf(t):"line"in t||"column"in t?Qa(t):""}r(dn,"stringifyPosition");function Qa(t){return Yf(t&&t.line)+":"+Yf(t&&t.column)}r(Qa,"point");function Vf(t){return Qa(t&&t.start)+"-"+Qa(t&&t.end)}r(Vf,"position");function Yf(t){return t&&typeof t=="number"?t:1}r(Yf,"index");var $f={}.hasOwnProperty;function Xa(t,e,n){return typeof e!="string"&&(n=e,e=void 0),bb(n)(Ja(qa(n).document().write(Za()(t,e,!0))))}r(Xa,"fromMarkdown");function bb(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ve),autolinkProtocol:U,autolinkEmail:U,atxHeading:a(gi),blockQuote:a(yt),characterEscape:U,characterReference:U,codeFenced:a(Yt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Yt,l),codeText:a(on,l),codeTextData:U,data:U,codeFlowValue:U,definition:a(Cr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Vo),hardBreakEscape:a(yi),hardBreakTrailing:a(yi),htmlFlow:a(wi,l),htmlFlowData:U,htmlText:a(wi,l),htmlTextData:U,image:a(bi),label:l,link:a(Ve),listItem:a(Yo),listItemValue:y,listOrdered:a(Wn,g),listUnordered:a(Wn),paragraph:a(zo),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(gi),strong:a(ki),thematicBreak:a(xi)},exit:{atxHeading:f(),atxHeadingSequence:Y,autolink:f(),autolinkEmail:kn,autolinkProtocol:ve,blockQuote:f(),characterEscapeValue:J,characterReferenceMarkerHexadecimal:Vt,characterReferenceMarkerNumeric:Vt,characterReferenceValue:sn,characterReference:bn,codeFenced:f(S),codeFencedFence:_,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:J,codeIndented:f(A),codeText:f($),codeTextData:J,data:J,definition:f(),definitionDestinationString:R,definitionLabelString:F,definitionTitleString:O,emphasis:f(),hardBreakEscape:f(te),hardBreakTrailing:f(te),htmlFlow:f(L),htmlFlowData:J,htmlText:f(z),htmlTextData:J,image:f(ie),label:xe,labelText:ue,lineEnding:le,link:f(K),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Ee,resourceDestinationString:v,resourceTitleString:oe,resource:me,setextHeading:f(Q),setextHeadingLineSequence:Z,setextHeadingText:E,strong:f(),thematicBreak:f()}};Uf(e,(t||{}).mdastExtensions||[]);let n={};return i;function i(P){let I={type:"root",children:[]},M={stack:[I],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:p,data:n},X=[],ae=-1;for(;++ae<P.length;)if(P[ae][1].type==="listOrdered"||P[ae][1].type==="listUnordered")if(P[ae][0]==="enter")X.push(ae);else{let Me=X.pop();ae=s(P,Me,ae)}for(ae=-1;++ae<P.length;){let Me=e[P[ae][0]];$f.call(Me,P[ae][1].type)&&Me[P[ae][1].type].call(Object.assign({sliceSerialize:P[ae][2].sliceSerialize},M),P[ae][1])}if(M.tokenStack.length>0){let Me=M.tokenStack[M.tokenStack.length-1];(Me[1]||zf).call(M,void 0,Me[0])}for(I.position={start:hn(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:hn(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},ae=-1;++ae<e.transforms.length;)I=e.transforms[ae](I)||I;return I}function s(P,I,M){let X=I-1,ae=-1,Me=!1,wt,qe,st,_t;for(;++X<=M;){let ze=P[X];switch(ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ze[0]==="enter"?ae++:ae--,_t=void 0;break}case"lineEndingBlank":{ze[0]==="enter"&&(wt&&!_t&&!ae&&!st&&(st=X),_t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_t=void 0}if(!ae&&ze[0]==="enter"&&ze[1].type==="listItemPrefix"||ae===-1&&ze[0]==="exit"&&(ze[1].type==="listUnordered"||ze[1].type==="listOrdered")){if(wt){let bt=X;for(qe=void 0;bt--;){let kt=P[bt];if(kt[1].type==="lineEnding"||kt[1].type==="lineEndingBlank"){if(kt[0]==="exit")continue;qe&&(P[qe][1].type="lineEndingBlank",Me=!0),kt[1].type="lineEnding",qe=bt}else if(!(kt[1].type==="linePrefix"||kt[1].type==="blockQuotePrefix"||kt[1].type==="blockQuotePrefixWhitespace"||kt[1].type==="blockQuoteMarker"||kt[1].type==="listItemIndent"))break}st&&(!qe||st<qe)&&(wt._spread=!0),wt.end=Object.assign({},qe?P[qe][1].start:ze[1].end),P.splice(qe||X,0,["exit",wt,ze[2]]),X++,M++}if(ze[1].type==="listItemPrefix"){let bt={type:"listItem",_spread:!1,start:Object.assign({},ze[1].start),end:void 0};wt=bt,P.splice(X,0,["enter",bt,ze[2]]),X++,M++,st=void 0,_t=!0}}}return P[I][1]._spread=Me,M}function a(P,I){return M;function M(X){c.call(this,P(X),X),I&&I.call(this,X)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(P,I,M){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([I,M||void 0]),P.position={start:hn(I.start),end:void 0}}function f(P){return I;function I(M){P&&P.call(this,M),h.call(this,M)}}function h(P,I){let M=this.stack.pop(),X=this.tokenStack.pop();if(X)X[0].type!==P.type&&(I?I.call(this,P,X[0]):(X[1]||zf).call(this,P,X[0]));else throw new Error("Cannot close `"+P.type+"` ("+dn({start:P.start,end:P.end})+"): it\u2019s not open");M.position.end=hn(P.end)}function p(){return Fn(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(P){if(this.data.expectingFirstListItemValue){let I=this.stack[this.stack.length-2];I.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function w(){let P=this.resume(),I=this.stack[this.stack.length-1];I.lang=P}function C(){let P=this.resume(),I=this.stack[this.stack.length-1];I.meta=P}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let P=this.resume(),I=this.stack[this.stack.length-1];I.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){let P=this.resume(),I=this.stack[this.stack.length-1];I.value=P.replace(/(\r?\n|\r)$/g,"")}function F(P){let I=this.resume(),M=this.stack[this.stack.length-1];M.label=I,M.identifier=Xt(this.sliceSerialize(P)).toLowerCase()}function O(){let P=this.resume(),I=this.stack[this.stack.length-1];I.title=P}function R(){let P=this.resume(),I=this.stack[this.stack.length-1];I.url=P}function Y(P){let I=this.stack[this.stack.length-1];if(!I.depth){let M=this.sliceSerialize(P).length;I.depth=M}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function Z(P){let I=this.stack[this.stack.length-1];I.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function U(P){let M=this.stack[this.stack.length-1].children,X=M[M.length-1];(!X||X.type!=="text")&&(X=Ye(),X.position={start:hn(P.start),end:void 0},M.push(X)),this.stack.push(X)}function J(P){let I=this.stack.pop();I.value+=this.sliceSerialize(P),I.position.end=hn(P.end)}function le(P){let I=this.stack[this.stack.length-1];if(this.data.atHardBreak){let M=I.children[I.children.length-1];M.position.end=hn(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(I.type)&&(U.call(this,P),J.call(this,P))}function te(){this.data.atHardBreak=!0}function L(){let P=this.resume(),I=this.stack[this.stack.length-1];I.value=P}function z(){let P=this.resume(),I=this.stack[this.stack.length-1];I.value=P}function $(){let P=this.resume(),I=this.stack[this.stack.length-1];I.value=P}function K(){let P=this.stack[this.stack.length-1];if(this.data.inReference){let I=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=I,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function ie(){let P=this.stack[this.stack.length-1];if(this.data.inReference){let I=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=I,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function ue(P){let I=this.sliceSerialize(P),M=this.stack[this.stack.length-2];M.label=Ts(I),M.identifier=Xt(I).toLowerCase()}function xe(){let P=this.stack[this.stack.length-1],I=this.resume(),M=this.stack[this.stack.length-1];if(this.data.inReference=!0,M.type==="link"){let X=P.children;M.children=X}else M.alt=I}function v(){let P=this.resume(),I=this.stack[this.stack.length-1];I.url=P}function oe(){let P=this.resume(),I=this.stack[this.stack.length-1];I.title=P}function me(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Ee(P){let I=this.resume(),M=this.stack[this.stack.length-1];M.label=I,M.identifier=Xt(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function Vt(P){this.data.characterReferenceType=P.type}function sn(P){let I=this.sliceSerialize(P),M=this.data.characterReferenceType,X;M?(X=gs(I,M==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):X=lr(I);let ae=this.stack[this.stack.length-1];ae.value+=X}function bn(P){let I=this.stack.pop();I.position.end=hn(P.end)}function ve(P){J.call(this,P);let I=this.stack[this.stack.length-1];I.url=this.sliceSerialize(P)}function kn(P){J.call(this,P);let I=this.stack[this.stack.length-1];I.url="mailto:"+this.sliceSerialize(P)}function yt(){return{type:"blockquote",children:[]}}function Yt(){return{type:"code",lang:null,meta:null,value:""}}function on(){return{type:"inlineCode",value:""}}function Cr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Vo(){return{type:"emphasis",children:[]}}function gi(){return{type:"heading",depth:0,children:[]}}function yi(){return{type:"break"}}function wi(){return{type:"html",value:""}}function bi(){return{type:"image",title:null,url:"",alt:null}}function Ve(){return{type:"link",title:null,url:"",children:[]}}function Wn(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function Yo(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function zo(){return{type:"paragraph",children:[]}}function ki(){return{type:"strong",children:[]}}function Ye(){return{type:"text",value:""}}function xi(){return{type:"thematicBreak"}}}r(bb,"compiler");function hn(t){return{line:t.line,column:t.column,offset:t.offset}}r(hn,"point");function Uf(t,e){let n=-1;for(;++n<e.length;){let i=e[n];Array.isArray(i)?Uf(t,i):kb(t,i)}}r(Uf,"configure");function kb(t,e){let n;for(n in e)if($f.call(e,n))switch(n){case"canContainEols":{let i=e[n];i&&t[n].push(...i);break}case"transforms":{let i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{let i=e[n];i&&Object.assign(t[n],i);break}}}r(kb,"extension");function zf(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+dn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+dn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+dn({start:e.start,end:e.end})+") is still open")}r(zf,"defaultOnError");function fr(t){let e=this;e.parser=n;function n(i){return Xa(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}r(n,"parser")}r(fr,"remarkParse");var Hf={}.hasOwnProperty;function jf(t,e){let n=e||{};function i(s,...a){let l=i.invalid,c=i.handlers;if(s&&Hf.call(s,t)){let f=String(s[t]);l=Hf.call(c,f)?c[f]:i.unknown}if(l)return l.call(this,s,...a)}return r(i,"one"),i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}r(jf,"zwitch");var xb={}.hasOwnProperty;function el(t,e){let n=-1,i;if(e.extensions)for(;++n<e.extensions.length;)el(t,e.extensions[n]);for(i in e)if(xb.call(e,i))switch(i){case"extensions":break;case"unsafe":{Gf(t[i],e[i]);break}case"join":{Gf(t[i],e[i]);break}case"handlers":{vb(t[i],e[i]);break}default:t.options[i]=e[i]}return t}r(el,"configure");function Gf(t,e){e&&t.push(...e)}r(Gf,"list");function vb(t,e){e&&Object.assign(t,e)}r(vb,"map");function Kf(t,e,n,i){let s=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);let l=n.indentLines(n.containerFlow(t,a.current()),Cb);return s(),l}r(Kf,"blockquote");function Cb(t,e,n){return">"+(n?"":" ")+t}r(Cb,"map");function Fs(t,e){return qf(t,e.inConstruct,!0)&&!qf(t,e.notInConstruct,!1)}r(Fs,"patternInScope");function qf(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}r(qf,"listInScope");function tl(t,e,n,i){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Fs(n.stack,n.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}r(tl,"hardBreak");function Jf(t,e){let n=String(t),i=n.indexOf(e),s=i,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++a>l&&(l=a):a=1,s=i+e.length,i=n.indexOf(e,s);return l}r(Jf,"longestStreak");function ti(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}r(ti,"formatCodeAsIndented");function Zf(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}r(Zf,"checkFence");function Qf(t,e,n,i){let s=Zf(n),a=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(ti(t,n)){let g=n.enter("codeIndented"),y=n.indentLines(a,Ab);return g(),y}let c=n.createTracker(i),f=s.repeat(Math.max(Jf(a,s)+1,3)),h=n.enter("codeFenced"),p=c.move(f);if(t.lang){let g=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){let g=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...c.current()})),g()}return p+=c.move(`
`),a&&(p+=c.move(a+`
`)),p+=c.move(f),h(),p}r(Qf,"code");function Ab(t,e,n){return(n?"":"    ")+t}r(Ab,"map");function dr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}r(dr,"checkQuote");function Xf(t,e,n,i){let s=dr(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("definition"),c=n.enter("label"),f=n.createTracker(i),h=f.move("[");return h+=f.move(n.safe(n.associationId(t),{before:h,after:"]",...f.current()})),h+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),l(),h}r(Xf,"definition");function ed(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}r(ed,"checkEmphasis");function rt(t){return"&#x"+t.toString(16).toUpperCase()+";"}r(rt,"encodeCharacterReference");function hr(t,e,n){let i=ur(t),s=ur(e);return i===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}r(hr,"encodeInfo");nl.peek=Sb;function nl(t,e,n,i){let s=ed(n),a=n.enter("emphasis"),l=n.createTracker(i),c=l.move(s),f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=f.charCodeAt(0),p=hr(i.before.charCodeAt(i.before.length-1),h,s);p.inside&&(f=rt(h)+f.slice(1));let g=f.charCodeAt(f.length-1),y=hr(i.after.charCodeAt(0),g,s);y.inside&&(f=f.slice(0,-1)+rt(g));let w=l.move(s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+f+w}r(nl,"emphasis");function Sb(t,e,n){return n.options.emphasis||"*"}r(Sb,"emphasisPeek");var pr=r((function(t){if(t==null)return _b;if(typeof t=="function")return _s(t);if(typeof t=="object")return Array.isArray(t)?Eb(t):Tb(t);if(typeof t=="string")return Fb(t);throw new Error("Expected function, string, or object as test")}),"convert");function Eb(t){let e=[],n=-1;for(;++n<t.length;)e[n]=pr(t[n]);return _s(i);function i(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}r(Eb,"anyFactory");function Tb(t){let e=t;return _s(n);function n(i){let s=i,a;for(a in t)if(s[a]!==e[a])return!1;return!0}}r(Tb,"propsFactory");function Fb(t){return _s(e);function e(n){return n&&n.type===t}}r(Fb,"typeFactory");function _s(t){return e;function e(n,i,s){return!!(Pb(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}r(_s,"castFactory");function _b(){return!0}r(_b,"ok");function Pb(t){return t!==null&&typeof t=="object"&&"type"in t}r(Pb,"looksLikeANode");function td(t){return"\x1B[33m"+t+"\x1B[39m"}r(td,"color");var nd=[],Ps=!0,Dn=!1,Os="skip";function rl(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;let a=pr(s),l=i?-1:1;c(t,void 0,[])();function c(f,h,p){let g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){let w=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+td(f.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=nd,C,_,S;if((!e||a(f,h,p[p.length-1]||void 0))&&(w=Ob(n(f,p)),w[0]===Dn))return w;if("children"in f&&f.children){let A=f;if(A.children&&w[0]!==Os)for(_=(i?A.children.length:-1)+l,S=p.concat(A);_>-1&&_<A.children.length;){let F=A.children[_];if(C=c(F,_,S)(),C[0]===Dn)return C;_=typeof C[1]=="number"?C[1]:_+l}}return w}}r(c,"factory")}r(rl,"visitParents");function Ob(t){return Array.isArray(t)?t:typeof t=="number"?[Ps,t]:t==null?nd:[t]}r(Ob,"toResult");function ni(t,e,n,i){let s,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,s=n):(a=e,l=n,s=i),rl(t,a,c,s);function c(f,h){let p=h[h.length-1],g=p?p.children.indexOf(f):void 0;return l(f,g,p)}r(c,"overload")}r(ni,"visit");function Ds(t,e){let n=!1;return ni(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Dn}),!!((!t.depth||t.depth<3)&&Fn(t)&&(e.options.setext||n))}r(Ds,"formatHeadingAsSetext");function rd(t,e,n,i){let s=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(i);if(Ds(t,n)){let p=n.enter("headingSetext"),g=n.enter("phrasing"),y=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}let l="#".repeat(s),c=n.enter("headingAtx"),f=n.enter("phrasing");a.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(h)&&(h=rt(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),f(),c(),h}r(rd,"heading");il.peek=Db;function il(t){return t.value||""}r(il,"html");function Db(){return"<"}r(Db,"htmlPeek");sl.peek=Ib;function sl(t,e,n,i){let s=dr(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("image"),c=n.enter("label"),f=n.createTracker(i),h=f.move("![");return h+=f.move(n.safe(t.alt,{before:h,after:"]",...f.current()})),h+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),h+=f.move(")"),l(),h}r(sl,"image");function Ib(){return"!"}r(Ib,"imagePeek");ol.peek=Lb;function ol(t,e,n,i){let s=t.referenceType,a=n.enter("imageReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("!["),h=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?f+=c.move(g+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r(ol,"imageReference");function Lb(){return"!"}r(Lb,"imageReferencePeek");al.peek=Mb;function al(t,e,n){let i=t.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){let l=n.unsafe[a],c=n.compilePattern(l),f;if(l.atBreak)for(;f=c.exec(i);){let h=f.index;i.charCodeAt(h)===10&&i.charCodeAt(h-1)===13&&h--,i=i.slice(0,h)+" "+i.slice(f.index+1)}}return s+i+s}r(al,"inlineCode");function Mb(){return"`"}r(Mb,"inlineCodePeek");function ll(t,e){let n=Fn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}r(ll,"formatLinkAsAutolink");ul.peek=Rb;function ul(t,e,n,i){let s=dr(n),a=s==='"'?"Quote":"Apostrophe",l=n.createTracker(i),c,f;if(ll(t,n)){let p=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=p,g}c=n.enter("link"),f=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(f=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${a}`),h+=l.move(" "+s),h+=l.move(n.safe(t.title,{before:h,after:s,...l.current()})),h+=l.move(s),f()),h+=l.move(")"),c(),h}r(ul,"link");function Rb(t,e,n){return ll(t,n)?"<":"["}r(Rb,"linkPeek");cl.peek=Nb;function cl(t,e,n,i){let s=t.referenceType,a=n.enter("linkReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("["),h=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?f+=c.move(g+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r(cl,"linkReference");function Nb(){return"["}r(Nb,"linkReferencePeek");function mr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}r(mr,"checkBullet");function id(t){let e=mr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}r(id,"checkBulletOther");function sd(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}r(sd,"checkBulletOrdered");function Is(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}r(Is,"checkRule");function od(t,e,n,i){let s=n.enter("list"),a=n.bulletCurrent,l=t.ordered?sd(n):mr(n),c=t.ordered?l==="."?")":".":id(n),f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),Is(n)===l&&p){let g=-1;for(;++g<t.children.length;){let y=t.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;let h=n.containerFlow(t,i);return n.bulletLastUsed=l,n.bulletCurrent=a,s(),h}r(od,"list");function ad(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}r(ad,"checkListItemIndent");function ld(t,e,n,i){let s=ad(n),a=n.bulletCurrent||mr(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let c=n.createTracker(i);c.move(a+" ".repeat(l-a.length)),c.shift(l);let f=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),p);return f(),h;function p(g,y,w){return y?(w?"":" ".repeat(l))+g:(w?a:a+" ".repeat(l-a.length))+g}r(p,"map")}r(ld,"listItem");function ud(t,e,n,i){let s=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,i);return a(),s(),l}r(ud,"paragraph");var fl=pr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cd(t,e,n,i){return(t.children.some(function(l){return fl(l)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}r(cd,"root");function fd(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}r(fd,"checkStrong");dl.peek=Wb;function dl(t,e,n,i){let s=fd(n),a=n.enter("strong"),l=n.createTracker(i),c=l.move(s+s),f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=f.charCodeAt(0),p=hr(i.before.charCodeAt(i.before.length-1),h,s);p.inside&&(f=rt(h)+f.slice(1));let g=f.charCodeAt(f.length-1),y=hr(i.after.charCodeAt(0),g,s);y.inside&&(f=f.slice(0,-1)+rt(g));let w=l.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+f+w}r(dl,"strong");function Wb(t,e,n){return n.options.strong||"*"}r(Wb,"strongPeek");function dd(t,e,n,i){return n.safe(t.value,i)}r(dd,"text");function hd(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}r(hd,"checkRuleRepetition");function pd(t,e,n){let i=(Is(n)+(n.options.ruleSpaces?" ":"")).repeat(hd(n));return n.options.ruleSpaces?i.slice(0,-1):i}r(pd,"thematicBreak");var md={blockquote:Kf,break:tl,code:Qf,definition:Xf,emphasis:nl,hardBreak:tl,heading:rd,html:il,image:sl,imageReference:ol,inlineCode:al,link:ul,linkReference:cl,list:od,listItem:ld,paragraph:ud,root:cd,strong:dl,text:dd,thematicBreak:pd};var gd=[Bb];function Bb(t,e,n,i){if(e.type==="code"&&ti(e,i)&&(t.type==="list"||t.type===e.type&&ti(t,i)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Ds(e,i))?void 0:n.spread?1:0}r(Bb,"joinDefaults");var In=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],yd=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:In},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:In},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:In},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:In},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:In},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:In},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:In},{atBreak:!0,character:"~"}];function wd(t){return t.label||!t.identifier?t.label||"":Ts(t.identifier)}r(wd,"association");function bd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}r(bd,"compilePattern");function kd(t,e,n){let i=e.indexStack,s=t.children||[],a=[],l=-1,c=n.before,f;i.push(-1);let h=e.createTracker(n);for(;++l<s.length;){let p=s[l],g;if(i[i.length-1]=l,l+1<s.length){let C=e.handle.handlers[s[l+1].type];C&&C.peek&&(C=C.peek),g=C?C(s[l+1],t,e,{before:"",after:"",...h.current()}).charAt(0):""}else g=n.after;a.length>0&&(c==="\r"||c===`
`)&&p.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),c=" ",h=e.createTracker(n),h.move(a.join("")));let y=e.handle(p,t,e,{...h.current(),after:g,before:c});f&&f===y.slice(0,1)&&(y=rt(f.charCodeAt(0))+y.slice(1));let w=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,f=void 0,w&&(a.length>0&&w.before&&c===a[a.length-1].slice(-1)&&(a[a.length-1]=a[a.length-1].slice(0,-1)+rt(c.charCodeAt(0))),w.after&&(f=g)),h.move(y),a.push(y),c=y.slice(-1)}return i.pop(),a.join("")}r(kd,"containerPhrasing");function xd(t,e,n){let i=e.indexStack,s=t.children||[],a=e.createTracker(n),l=[],c=-1;for(i.push(-1);++c<s.length;){let f=s[c];i[i.length-1]=c,l.push(a.move(e.handle(f,t,e,{before:`
`,after:`
`,...a.current()}))),f.type!=="list"&&(e.bulletLastUsed=void 0),c<s.length-1&&l.push(a.move(Vb(f,s[c+1],t,e)))}return i.pop(),l.join("")}r(xd,"containerFlow");function Vb(t,e,n,i){let s=i.join.length;for(;s--;){let a=i.join[s](t,e,n,i);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}r(Vb,"between");var Yb=/\r?\n|\r/g;function vd(t,e){let n=[],i=0,s=0,a;for(;a=Yb.exec(t);)l(t.slice(i,a.index)),n.push(a[0]),i=a.index+a[0].length,s++;return l(t.slice(i)),n.join("");function l(c){n.push(e(c,s,!c))}r(l,"one")}r(vd,"indentLines");function Ad(t,e,n){let i=(n.before||"")+(e||"")+(n.after||""),s=[],a=[],l={},c=-1;for(;++c<t.unsafe.length;){let p=t.unsafe[c];if(!Fs(t.stack,p))continue;let g=t.compilePattern(p),y;for(;y=g.exec(i);){let w="before"in p||!!p.atBreak,C="after"in p,_=y.index+(w?y[1].length:0);s.includes(_)?(l[_].before&&!w&&(l[_].before=!1),l[_].after&&!C&&(l[_].after=!1)):(s.push(_),l[_]={before:w,after:C})}}s.sort(zb);let f=n.before?n.before.length:0,h=i.length-(n.after?n.after.length:0);for(c=-1;++c<s.length;){let p=s[c];p<f||p>=h||p+1<h&&s[c+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||s[c-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(f!==p&&a.push(Cd(i.slice(f,p),"\\")),f=p,/[!-/:-@[-`{-~]/.test(i.charAt(p))&&(!n.encode||!n.encode.includes(i.charAt(p)))?a.push("\\"):(a.push(rt(i.charCodeAt(p))),f++))}return a.push(Cd(i.slice(f,h),n.after)),a.join("")}r(Ad,"safe");function zb(t,e){return t-e}r(zb,"numerical");function Cd(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,i=[],s=[],a=t+e,l=-1,c=0,f;for(;f=n.exec(a);)i.push(f.index);for(;++l<i.length;)c!==i[l]&&s.push(t.slice(c,i[l])),s.push("\\"),c=i[l];return s.push(t.slice(c)),s.join("")}r(Cd,"escapeBackslashes");function Sd(t){let e=t||{},n=e.now||{},i=e.lineShift||0,s=n.line||1,a=n.column||1;return{move:f,current:l,shift:c};function l(){return{now:{line:s,column:a},lineShift:i}}function c(h){i+=h}function f(h){let p=h||"",g=p.split(/\r?\n|\r/g),y=g[g.length-1];return s+=g.length-1,a=g.length===1?a+y.length:1+y.length+i,p}}r(Sd,"track");function hl(t,e){let n=e||{},i={associationId:wd,containerPhrasing:jb,containerFlow:Gb,createTracker:Sd,compilePattern:bd,enter:a,handlers:{...md},handle:void 0,indentLines:vd,indexStack:[],join:[...gd],options:{},safe:Kb,stack:[],unsafe:[...yd]};el(i,n),i.options.tightDefinitions&&i.join.push(Hb),i.handle=jf("type",{invalid:$b,unknown:Ub,handlers:i.handlers});let s=i.handle(t,void 0,i,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return s&&s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s;function a(l){return i.stack.push(l),c;function c(){i.stack.pop()}r(c,"exit")}r(a,"enter")}r(hl,"toMarkdown");function $b(t){throw new Error("Cannot handle value `"+t+"`, expected node")}r($b,"invalid");function Ub(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}r(Ub,"unknown");function Hb(t,e){if(t.type==="definition"&&t.type===e.type)return 0}r(Hb,"joinDefinition");function jb(t,e){return kd(t,this,e)}r(jb,"containerPhrasingBound");function Gb(t,e){return xd(t,this,e)}r(Gb,"containerFlowBound");function Kb(t,e){return Ad(this,t,e)}r(Kb,"safeBound");function Ls(t){let e=this;e.compiler=n;function n(i){return hl(i,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}r(n,"compiler")}r(Ls,"remarkStringify");function pl(t){if(t)throw t}r(pl,"bail");var Ws=at(Ld(),1);function ri(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}r(ri,"isPlainObject");function ml(){let t=[],e={run:n,use:i};return e;function n(...s){let a=-1,l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(f,...h){let p=t[++a],g=-1;if(f){l(f);return}for(;++g<s.length;)(h[g]===null||h[g]===void 0)&&(h[g]=s[g]);s=h,p?Md(p,c)(...h):l(null,...h)}r(c,"next")}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}r(ml,"trough");function Md(t,e){let n;return i;function i(...l){let c=t.length>l.length,f;c&&l.push(s);try{f=t.apply(this,l)}catch(h){let p=h;if(c&&n)throw p;return s(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,s):f instanceof Error?s(f):a(f))}function s(l,...c){n||(n=!0,e(l,...c))}function a(l){s(null,l)}}r(Md,"wrap");var _e=class extends Error{static{r(this,"VFileMessage")}constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(l=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){let f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){let f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}let c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=dn(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};_e.prototype.file="";_e.prototype.name="";_e.prototype.reason="";_e.prototype.message="";_e.prototype.stack="";_e.prototype.column=void 0;_e.prototype.line=void 0;_e.prototype.ancestors=void 0;_e.prototype.cause=void 0;_e.prototype.fatal=void 0;_e.prototype.place=void 0;_e.prototype.ruleId=void 0;_e.prototype.source=void 0;var pt=at(require("node:path"),1);var gl=at(require("node:process"),1);var yl=require("node:url");function Rs(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}r(Rs,"isUrl");var wl=["history","path","basename","stem","extname","dirname"],ii=class{static{r(this,"VFile")}constructor(e){let n;e?Rs(e)?n={path:e}:typeof e=="string"||qb(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":gl.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<wl.length;){let a=wl[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)wl.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?pt.default.basename(this.path):void 0}set basename(e){kl(e,"basename"),bl(e,"basename"),this.path=pt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?pt.default.dirname(this.path):void 0}set dirname(e){Rd(this.basename,"dirname"),this.path=pt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?pt.default.extname(this.path):void 0}set extname(e){if(bl(e,"extname"),Rd(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Rs(e)&&(e=(0,yl.fileURLToPath)(e)),kl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?pt.default.basename(this.path,this.extname):void 0}set stem(e){kl(e,"stem"),bl(e,"stem"),this.path=pt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){let s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){let s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){let s=new _e(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function bl(t,e){if(t&&t.includes(pt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+pt.default.sep+"`")}r(bl,"assertPart");function kl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}r(kl,"assertNonEmpty");function Rd(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}r(Rd,"assertPath");function qb(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(qb,"isUint8Array");var Nd=r((function(t){let i=this.constructor.prototype,s=i[t],a=r(function(){return s.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,i),a}),"CallableInstance");var Jb={}.hasOwnProperty,Al=class t extends Nd{static{r(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ml()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let i=this.attachers[n];e.use(...i)}return e.data((0,Ws.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Cl("data",this.frozen),this.namespace[e]=n,this):Jb.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Cl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);let s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Ns(e),i=this.parser||this.Parser;return xl("parse",i),i(String(n),n)}process(e,n){let i=this;return this.freeze(),xl("process",this.parser||this.Parser),vl("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){let c=Ns(e),f=i.parse(c);i.run(f,c,function(p,g,y){if(p||!g||!y)return h(p);let w=g,C=i.stringify(w,y);Qb(C)?y.value=C:y.result=C,h(p,y)});function h(p,g){p||!g?l(p):a?a(g):n(void 0,g)}r(h,"realDone")}r(s,"executor")}processSync(e){let n=!1,i;return this.freeze(),xl("processSync",this.parser||this.Parser),vl("processSync",this.compiler||this.Compiler),this.process(e,s),Bd("processSync","process",n),i;function s(a,l){n=!0,pl(a),i=l}r(s,"realDone")}run(e,n,i){Wd(e),this.freeze();let s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,c){let f=Ns(n);s.run(e,f,h);function h(p,g,y){let w=g||e;p?c(p):l?l(w):i(void 0,w,y)}r(h,"realDone")}r(a,"executor")}runSync(e,n){let i=!1,s;return this.run(e,n,a),Bd("runSync","run",i),s;function a(l,c){pl(l),s=c,i=!0}r(a,"realDone")}stringify(e,n){this.freeze();let i=Ns(n),s=this.compiler||this.Compiler;return vl("stringify",s),Wd(e),s(e,i)}use(e,...n){let i=this.attachers,s=this.namespace;if(Cl("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[p,...g]=h;f(p,g)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=(0,Ws.default)(!0,s.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){let g=h[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,p){let g=-1,y=-1;for(;++g<i.length;)if(i[g][0]===h){y=g;break}if(y===-1)i.push([h,...p]);else if(p.length>0){let[w,...C]=p,_=i[y][1];ri(_)&&ri(w)&&(w=(0,Ws.default)(!0,_,w)),i[y]=[h,w,...C]}}}},Sl=new Al().freeze();function xl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}r(xl,"assertParser");function vl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}r(vl,"assertCompiler");function Cl(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}r(Cl,"assertUnfrozen");function Wd(t){if(!ri(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}r(Wd,"assertNode");function Bd(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}r(Bd,"assertDone");function Ns(t){return Zb(t)?t:new ii(t)}r(Ns,"vfile");function Zb(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}r(Zb,"looksLikeAVFile");function Qb(t){return typeof t=="string"||Xb(t)}r(Qb,"looksLikeAValue");function Xb(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(Xb,"isUint8Array");var Vd=Sl().use(fr).use(Ls).freeze();var Tl={d:r((t,e)=>{for(var n in e)Tl.o(e,n)&&!Tl.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:r((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},Fl={};Tl.d(Fl,{Z:r(()=>rk,"Z"),$:r(()=>Ud,"$")});var gr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Yd(t){return t<gr.nul||t===gr.space}r(Yd,"n");function El(t){return t<gr.horizontalTab}r(El,"i");var ek={553:t=>{t.exports=function(e){var n,i;return e._compiled||(n=e.before?"(?:"+e.before+")":"",i=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(i||""),"g")),e._compiled}},112:t=>{function e(n,i,s){var a;if(!i)return s;for(typeof i=="string"&&(i=[i]),a=-1;++a<i.length;)if(n.indexOf(i[a])!==-1)return!0;return!1}r(e,"t"),t.exports=function(n,i){return e(n,i.inConstruct,!0)&&!e(n,i.notInConstruct)}},113:(t,e,n)=>{t.exports=function(c,f,h){for(var p,g,y,w,C,_,S,A,F=(h.before||"")+(f||"")+(h.after||""),O=[],R=[],Y={},E=-1;++E<c.unsafe.length;)if(w=c.unsafe[E],s(c.stack,w))for(C=i(w);_=C.exec(F);)p="before"in w||w.atBreak,g="after"in w,y=_.index+(p?_[1].length:0),O.indexOf(y)===-1?(O.push(y),Y[y]={before:p,after:g}):(Y[y].before&&!p&&(Y[y].before=!1),Y[y].after&&!g&&(Y[y].after=!1));for(O.sort(a),S=h.before?h.before.length:0,A=F.length-(h.after?h.after.length:0),E=-1;++E<O.length;)(y=O[E])<S||y>=A||y+1<A&&O[E+1]===y+1&&Y[y].after&&!Y[y+1].before&&!Y[y+1].after||(S!==y&&R.push(l(F.slice(S,y),"\\")),S=y,!/[!-/:-@[-`{-~]/.test(F.charAt(y))||h.encode&&h.encode.indexOf(F.charAt(y))!==-1?(R.push("&#x"+F.charCodeAt(y).toString(16).toUpperCase()+";"),S++):R.push("\\"));return R.push(l(F.slice(S,A),h.after)),R.join("")};var i=n(553),s=n(112);function a(c,f){return c-f}r(a,"a");function l(c,f){for(var h,p=/\\(?=[!-/:-@[-`{-~])/g,g=[],y=[],w=-1,C=0,_=c+f;h=p.exec(_);)g.push(h.index);for(;++w<g.length;)C!==g[w]&&y.push(c.slice(C,g[w])),y.push("\\"),C=g[w];return y.push(c.slice(C)),y.join("")}r(l,"o")}},zd={};function Nt(t){var e=zd[t];if(e!==void 0)return e.exports;var n=zd[t]={exports:{}};return ek[t](n,n.exports,Nt),n.exports}r(Nt,"s");Nt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Nt.d(e,{a:e}),e},Nt.d=(t,e)=>{for(var n in e)Nt.o(e,n)&&!Nt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Nt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var _l={};(()=>{function t(s={}){let a=s.permalinks||[],l=s.pageResolver||(y=>[y.replace(/ /g,"_").toLowerCase()]),c=s.newClassName||"new",f=s.wikiLinkClassName||"internal",h=s.hrefTemplate||(y=>`#/page/${y}`),p;function g(y){return y[y.length-1]}return r(g,"s"),{enter:{wikiLink:r(function(y){p={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(p,y)},"wikiLink")},exit:{wikiLinkTarget:r(function(y){let w=this.sliceSerialize(y);g(this.stack).value=w},"wikiLinkTarget"),wikiLinkAlias:r(function(y){let w=this.sliceSerialize(y);g(this.stack).data.alias=w},"wikiLinkAlias"),wikiLink:r(function(y){this.exit(y);let w=p,C=l(w.value),_=C.find((R=>a.indexOf(R)!==-1)),S=_!==void 0,A;A=S?_:C[0]||"";let F=w.value;w.data.alias&&(F=w.data.alias);let O=f;S||(O+=" "+c),w.data.alias=F,w.data.permalink=A,w.data.exists=S,w.data.hName="a",w.data.hProperties={className:O,href:h(A)},w.data.hChildren=[{type:"text",value:F}]},"wikiLink")}}}r(t,"e"),Nt.d(_l,{V:r(()=>t,"V"),x:r(()=>i,"x")});var e=Nt(113),n=Nt.n(e);function i(s={}){let a=s.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:r(function(l,c,f){let h=f.enter("wikiLink"),p=n()(f,l.value,{before:"[",after:"]"}),g=n()(f,l.data.alias,{before:"[",after:"]"}),y;return y=g!==p?`[[${p}${a}${g}]]`:`[[${p}]]`,h(),y},"wikiLink")}}}r(i,"n")})();var tk=_l.V,nk=_l.x,$d=!1;function Ud(t={}){let e=this.data();function n(i,s){e[i]?e[i].push(s):e[i]=[s]}r(n,"a"),!$d&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&($d=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",s="]]";return{text:{91:{tokenize:r(function(a,l,c){var f,h,p=0,g=0,y=0;return function(F){return F!=="[[".charCodeAt(g)?c(F):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),w(F))};function w(F){return g===2?(a.exit("wikiLinkMarker"),(function(O){return El(O)||O===gr.eof?c(O):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),C(O))})(F)):F!=="[[".charCodeAt(g)?c(F):(a.consume(F),g++,w)}function C(F){return F===i.charCodeAt(p)?f?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),_(F)):c(F):F===s.charCodeAt(y)?f?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(F)):c(F):El(F)||F===gr.eof?c(F):(Yd(F)||(f=!0),a.consume(F),C)}function _(F){return p===i.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),S(F)):F!==i.charCodeAt(p)?c(F):(a.consume(F),p++,_)}function S(F){return F===s.charCodeAt(y)?h?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(F)):c(F):El(F)||F===gr.eof?c(F):(Yd(F)||(h=!0),a.consume(F),S)}function A(F){return y===2?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),l(F)):F!==s.charCodeAt(y)?c(F):(a.consume(F),y++,A)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",tk(t)),n("toMarkdownExtensions",nk(t))}r(Ud,"k");var rk=Ud,WP=Fl.Z,Hd=Fl.$;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ik=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Pl(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return ik.test(t)}r(Pl,"isUrl");var Ln=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Bs(t){let e=(0,Ln.getFrontMatterInfo)(t);return(0,Ln.parseYaml)(e.frontmatter)??{}}r(Bs,"parseFrontmatter");function jd(t,e){let n=(0,Ln.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let i=(0,Ln.stringifyYaml)(e);return n.exists?tc(t,i,n.from,n.to):`---
${i}---
${t}`}r(jd,"setFrontmatter");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function it(t){if(!Ue(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}r(it,"isFrontmatterLinkCacheWithOffsets");function Vs(t){return it(t)?t:{...t,endOffset:t.original.length,startOffset:0}}r(Vs,"toFrontmatterLinkCacheWithOffsets");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Gd(t){return Ol(t)&&t.type==="file"}r(Gd,"isCanvasFileNodeReference");function Ol(t){return Ue(t)&&!!t.isCanvas}r(Ol,"isCanvasReference");function Mn(t,e){return{newContent:e,oldContent:t.original,reference:t}}r(Mn,"referenceToFileChange");function Kd(t){return t.sort((e,n)=>{if(Ue(e)&&Ue(n)){let i=it(e)?e.startOffset:0,s=it(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(it(n))-Number(it(e))||i-s}return St(e)&&St(n)?e.position.start.offset-n.position.start.offset:Ue(e)?1:-1})}r(Kd,"sortReferences");var qd=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Jd(t,e,n){let i=Oe(t,e),s=At(n);await yr(t,s);let a=Ys(t,n);try{await t.vault.copy(i,a)}catch(l){if(!await t.vault.exists(a))throw l}return a}r(Jd,"copySafe");async function yr(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}r(yr,"createFolderSafe");function Ys(t,e){let n=Tt(e);return t.vault.getAvailablePath(ke(fe(e),Ze(e,n)),n.slice(1))}r(Ys,"getAvailablePath");function wr(t){return t.vault.getMarkdownFiles().sort((e,n)=>e.path.localeCompare(n.path))}r(wr,"getMarkdownFilesSorted");function Dl(t,e,n){let i=ye(t,e);if(t.vault.adapter.insensitive){let s=fe(n),a=Ze(n),l;for(;l=Ft(t,s,!0),!l;)a=ke(Ze(s),a),s=fe(s);n=ke(l.getParentPrefix(),a)}return i.toLowerCase()===n.toLowerCase()?n:Ys(t,n)}r(Dl,"getSafeRenamePath");async function Il(t,e){let n=await br(t,ye(t,e));return n.files.length===0&&n.folders.length===0}r(Il,"isEmptyFolder");async function br(t,e){let n=ye(t,e),i={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return i;try{return await t.vault.adapter.list(n)}catch(s){if(await t.vault.exists(n))throw s;return i}}r(br,"listSafe");async function Zd(t,e,n,i={}){let a={...{shouldFailOnMissingFile:!0},...i};await Zi(async l=>{l.throwIfAborted();let c=await Ll(t,e);if(l.throwIfAborted(),c===null)return g();let f=await Kn(n,l,c);if(l.throwIfAborted(),f===null)return!1;let h=!0;if(!await Qd(t,e,async y=>{l.throwIfAborted(),await t.vault.process(y,w=>(l.throwIfAborted(),w!==c?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:c,path:y.path}),h=!1,w):f)),l.throwIfAborted()}))return g();return h;function g(){if(a.shouldFailOnMissingFile){let y=ye(t,e);throw new Error(`File '${y}' not found`)}return!0}},a)}r(Zd,"process");async function Ll(t,e){let n=null;return await Qd(t,e,async i=>{n=await t.vault.read(i)}),n}r(Ll,"readSafe");async function zs(t,e,n){let i=Oe(t,e,!1,!0),s=Dl(t,e,n);if(i.path.toLowerCase()===s.toLowerCase())return i.path!==n&&await t.vault.rename(i,s),s;let a=At(s);await yr(t,a);try{await t.vault.rename(i,s)}catch(l){if(!await t.vault.exists(s)||await t.vault.exists(i.path))throw l}return s}r(zs,"renameSafe");async function Ml(t,e){if(!Ae(t,e))return;let n=ye(t,e);for(let i of t.workspace.getLeavesOfType(Yu.Markdown))i.view instanceof qd.MarkdownView&&i.view.file?.path===n&&i.view.dirty&&await i.view.save()}r(Ml,"saveNote");async function Qd(t,e,n){let i=ye(t,e),s=he(t,i);if(!s||s.deleted)return!1;try{return await n(s),!0}catch(a){if(s=he(t,i),!s||s.deleted)return!1;throw a}}r(Qd,"invokeFileActionSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Hs(t,e,n,i,s=!0){t.throwIfAborted();let a=await Kn(i,t,e);if(t.throwIfAborted(),a===null)return null;let{frontmatter:l,hasFrontmatterError:c}=dk(e,n);if(!gk(a,e,l,n,s))return s?null:e;if(a=pk(a),!mk(a))return null;let{frontmatterChanged:f,newContent:h}=uk(a,e,c,n);return await ck(t,l,f,n),t.throwIfAborted(),fk(h,l,f)}r(Hs,"applyContentChanges");async function si(t,e,n,i={},s=!0){await Zd(t,e,async(a,l)=>Sn(t,e)?await lk(a,l,ye(t,e),n,s):await Hs(a,l,ye(t,e),n,s),i)}r(si,"applyFileChanges");function oi(t){return Ol(t.reference)}r(oi,"isCanvasChange");function sk(t){return oi(t)&&t.reference.type==="file"}r(sk,"isCanvasFileNodeChange");function ok(t){return oi(t)&&t.reference.type==="text"}r(ok,"isCanvasTextNodeChange");function en(t){return St(t.reference)}r(en,"isContentChange");function $s(t){return Ue(t.reference)}r($s,"isFrontmatterChange");function Us(t){return it(t.reference)}r(Us,"isFrontmatterChangeWithOffsets");function ak(t){return Us(t)?t:{...t,reference:Vs(t.reference)}}r(ak,"toFrontmatterChangeWithOffsets");async function lk(t,e,n,i,s=!0){let a=await Kn(i,t,e);if(t.throwIfAborted(),a===null)return null;let l=hk(e),c=new Map;for(let f of a){if(!oi(f))return console.warn("Only canvas changes are supported for canvas files",{change:f,path:n}),null;let h=l.nodes[f.reference.nodeIndex];if(!h)return console.warn("Node not found",{nodeIndex:f.reference.nodeIndex,path:n}),null;if(sk(f)){if(h.file!==f.oldContent)return console.warn("Content mismatch",{actualContent:h.file,expectedContent:f.oldContent,nodeIndex:f.reference.nodeIndex,path:n,type:"file"}),null;h.file=f.newContent}else if(ok(f)){let p=c.get(f.reference.nodeIndex);p||(p=[],c.set(f.reference.nodeIndex,p)),p.push(f)}}for(let[f,h]of c.entries()){let p=l.nodes[f];if(!p)return console.warn("Node not found",{nodeIndex:f,path:n}),null;if(typeof p.text!="string")return console.warn("Node text is not a string",{nodeIndex:f,path:n}),null;let g=h.map(y=>Mn(y.reference.originalReference,y.newContent));p.text=await Hs(t,p.text,`${n}.node${String(f)}.VIRTUAL_FILE.md`,g,s)}return JSON.stringify(l,null,"	")}r(lk,"applyCanvasChanges");function uk(t,e,n,i){let s="",a=0,l=new Map;for(let c of t)if(en(c))s+=e.slice(a,c.reference.position.start.offset),s+=c.newContent,a=c.reference.position.end.offset;else if($s(c))if(n)console.error(`Cannot apply frontmatter change in ${i}, because frontmatter parsing failed`,{change:c});else{let f=l.get(c.reference.key);f||(f=[],l.set(c.reference.key,f)),f.push(ak(c))}return s+=e.slice(a),{frontmatterChanged:l,newContent:s}}r(uk,"applyContentChangesToText");async function ck(t,e,n,i){for(let[s,a]of n.entries()){let l=sr(e,s);if(typeof l!="string")return;let c=a.map(h=>({newContent:h.newContent,oldContent:h.oldContent,reference:{link:"",original:"",position:{end:{col:h.reference.endOffset,line:0,offset:h.reference.endOffset},start:{col:h.reference.startOffset,line:0,offset:h.reference.startOffset}}}})),f=await Hs(t,l,`${i}.frontmatter.${s}.VIRTUAL_FILE.md`,c);if(f===null)return;pf(e,s,f)}}r(ck,"applyFrontmatterChangesWithOffsets");function fk(t,e,n){return n.size>0?jd(t,e):t}r(fk,"buildFinalContent");function dk(t,e){let n={},i=!1;try{n=Bs(t)}catch(s){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:s})),i=!0}return{frontmatter:n,hasFrontmatterError:i}}r(dk,"parseFrontmatterSafely");function hk(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}r(hk,"parseJsonSafe");function pk(t){return t.sort((e,n)=>en(e)&&en(n)?e.reference.position.start.offset-n.reference.position.start.offset:Us(e)&&Us(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:$s(e)&&$s(n)?e.reference.key.localeCompare(n.reference.key):en(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!ht(e,t[n-1]))}r(pk,"sortAndFilterChanges");function mk(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let i=t[e-1];if(i&&en(i)&&en(n)&&i.reference.position.end.offset&&i.reference.position.end.offset>n.reference.position.start.offset)return console.warn("Overlapping changes",{change:n,previousChange:i}),!1}return!0}r(mk,"validateChangeOverlaps");function gk(t,e,n,i,s){let a=er("FileChange:validateChanges"),l=s?console.warn.bind(console):a;for(let c of t)if(en(c)){let f=c.reference.position.start.offset,h=c.reference.position.end.offset,p=e.slice(f,h);if(p!==c.oldContent)return l("Content mismatch",{actualContent:p,endOffset:h,expectedContent:c.oldContent,path:i,startOffset:f}),!1}else if(Us(c)){let f=sr(n,c.reference.key);if(typeof f!="string")return l("Property value is not a string",{frontmatterKey:c.reference.key,path:i,propertyValue:f}),!1;let h=f.slice(c.reference.startOffset,c.reference.endOffset);if(h!==c.oldContent)return l("Content mismatch",{actualContent:h,expectedContent:c.oldContent,frontmatterKey:c.reference.key,path:i,startOffset:c.reference.startOffset}),!1}else if($s(c)){let f=sr(n,c.reference.key);if(f!==c.oldContent)return l("Content mismatch",{actualContent:f,expectedContent:c.oldContent,frontmatterKey:c.reference.key,path:i}),!1}return!0}r(gk,"validateChanges");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Xd(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}r(Xd,"ensureMetadataCacheReady");function Wt(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Kd(e),e=e.filter((n,i)=>{if(i===0)return!0;let s=e[i-1];if(!s)return!0;if(St(n)&&St(s))return n.position.start.offset!==s.position.start.offset;if(Ue(n)&&Ue(s)){let a=it(n)?n.startOffset:0,l=it(s)?s.startOffset:0;return n.key!==s.key||it(n)!==it(s)||a!==l}return!0}),e}r(Wt,"getAllLinks");function Rl(t,e){let n=Oe(t,e,!0);return ai(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}r(Rl,"getBacklinksForFileOrPath");async function tn(t,e,n={}){let i=t.metadataCache.getBacklinksForFile.safe;if(i)return i(e);let s=new Vu;return await Zi(async a=>{a.throwIfAborted();let l=Oe(t,e);await Xd(t),a.throwIfAborted(),s=Rl(t,l);for(let c of s.keys()){a.throwIfAborted();let f=he(t,c);if(!f)return!1;await Ml(t,f),a.throwIfAborted();let h=await Ll(t,f);if(a.throwIfAborted(),!h)return!1;let p=Bs(h),g=s.get(c);if(!g)return!1;for(let y of g){let w;if(St(y))w=h.slice(y.position.start.offset,y.position.end.offset);else if(Ue(y)){let C=sr(p,y.key);if(typeof C!="string")return!1;let _=Vs(y);w=C.slice(_.startOffset,_.endOffset)}else return!0;if(w!==y.original)return!1}}return!0},n),s}r(tn,"getBacklinksForFileSafe");async function Bt(t,e){let n=he(t,e);try{if(!n||n.deleted)return null;await Ml(t,n);let i=t.metadataCache.fileCache[n.path];return i&&i.mtime===n.stat.mtime&&i.size===n.stat.size&&t.metadataCache.metadataCache[i.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Xd(t)),t.metadataCache.getFileCache(n)}catch(i){if(!n||n.deleted)return null;throw i}}r(Bt,"getCacheSafe");function yk(t,e){let n=new Set;for(let i of e){if(!i.deleted)continue;let s=i;for(;s.deleted;)n.add(s.path),t.vault.fileMap[s.path]=s,s=s.parent??Jn(t,At(s.path),!0);ut(i)&&t.metadataCache.uniqueFileLookup.add(i.name.toLowerCase(),i)}return()=>{for(let i of n)delete t.vault.fileMap[i];for(let i of e)i.deleted&&ut(i)&&t.metadataCache.uniqueFileLookup.remove(i.name.toLowerCase(),i)}}r(yk,"registerFiles");function ai(t,e,n){let i=yk(t,e);try{return n()}finally{i()}}r(ai,"tempRegisterFilesAndRun");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function eh(t){return t.vault.getConfig("newLinkFormat")==="relative"}r(eh,"shouldUseRelativeLinks");function Nl(t){return!t.vault.getConfig("useMarkdownLinks")}r(Nl,"shouldUseWikilinks");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wk="\\|",bk=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,kk=/[\\[\]<>_*~=`$]/g,rh=/(?<!\\)\|/g,ih="|",Wl=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(Wl||{});function xk(t){let e=nn(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Yl({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}r(xk,"convertLink");async function Bl(t,e,n,i={}){await si(t,e,async(s,a)=>{let l=await Bt(t,e);s.throwIfAborted();let c=Oe(t,e),f=await t.vault.cachedRead(c);return s.throwIfAborted(),a!==f?null:await Pk(l,Sn(t,e),n,s)},i)}r(Bl,"editLinks");function Vl(t){return Je(t,bk,({substring:e})=>encodeURIComponent(e))}r(Vl,"encodeUrl");function nn(t,e,n,i=!1){let{linkPath:s}=pn(e.link),a=ye(t,n),l=t.metadataCache.getFirstLinkpathDest(s,a);if(l)return l;if(!i)return null;if(s.startsWith("/"))return Oe(t,s,!0);let c=ke(fe(a),`./${s}`);return c.startsWith("../")?null:Oe(t,c,!0)}r(nn,"extractLinkFile");function Gs(t){let{app:e}=t,i=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...i,...t};let a=Oe(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return ai(e,[a],()=>Tk(t))}r(Gs,"generateMarkdownLink");function li(t){let e=vk(t);return e[0]?.raw===t?e[0]:null}r(li,"parseLink");function vk(t){let e=new Set,n="![",i=" [",s=Je(t,n,p=>(e.add(p.offset),i)),l=Vd().use(fr).use(Hd,{aliasDivider:ih}).parse(s),c=[],f=[];ni(l,p=>{let g;switch(p.type){case"link":g=Dk(p,t);break;case"wikiLink":g=Ik(p,t);break;default:return}e.has(g.startOffset-1)&&(g.isEmbed=!0,g.startOffset--,g.raw=`!${g.raw}`),c.push(g)}),c.sort((p,g)=>p.startOffset-g.startOffset);let h=0;for(let p of c)th(t,h,p.startOffset-1,f),h=p.endOffset+1;return th(t,h,t.length-1,f),c.push(...f),c.sort((p,g)=>p.startOffset-g.startOffset),c}r(vk,"parseLinks");function Ck(t){let{app:e,displayText:n,isWikilink:i,newSourcePathOrFile:s,oldSourcePathOrFile:a,oldTargetPath:l,targetPathOrFile:c}=t;if(i===!1)return!1;if(!n)return!0;let f=Oe(e,c,!0),h=ye(e,s),p=ye(e,a??s),g=fe(h),y=fe(p),w=new Set;for(let _ of[f.path,l]){if(!_)continue;let S=ye(e,_);w.add(S),w.add(Ze(S)),w.add(qn(g,S)),w.add(qn(y,S))}for(let _ of[p,h])w.add(e.metadataCache.fileToLinktext(f,_,!1));let C=Je((0,js.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let _ of w){if(_.toLowerCase()===C)return!0;let S=fe(_),A=Ze(_,Tt(_));if(ke(S,A).toLowerCase()===C)return!0}return!1}r(Ck,"shouldResetAlias");function pn(t){let e=(0,js.parseLinktext)(Wr(t));return{linkPath:e.path,subpath:e.subpath}}r(pn,"splitSubpath");function Ak(t){return li(t)?.hasAngleBrackets??!1}r(Ak,"testAngleBrackets");function Ks(t){return li(t)?.isEmbed??!1}r(Ks,"testEmbed");function Sk(t){return li(t)?.url.startsWith("./")??!1}r(Sk,"testLeadingDot");function ui(t){return li(t)?.isWikilink??!1}r(ui,"testWikilink");function Yl(t){let{app:e,link:n,linkStyle:i,newSourcePathOrFile:s,newTargetPathOrFile:a,oldSourcePathOrFile:l,oldTargetPathOrFile:c,shouldUpdateFileNameAlias:f}=t;if(!a)return n.original;let h=Oe(e,a,!0),p=ye(e,l??s),g=ye(e,c??a),y=oh(e,n.original,i),{subpath:w}=pn(n.link),C=!f;if(Sn(e,s)&&Gd(n))return h.path+w;let _=li(n.original),S;return y&&_?.alias&&(S=_.alias,C=!0),S??=Ck({app:e,displayText:n.displayText,isWikilink:y,newSourcePathOrFile:s,oldSourcePathOrFile:l,oldTargetPath:g,targetPathOrFile:h})?void 0:_?.alias,C||(S===Ze(g,Tt(g))?S=h.basename:S===Ze(g)&&(S=h.name)),Gs({alias:S,app:e,isSingleSubpathAllowed:p===g&&!!_?.alias,linkStyle:i,originalLink:n.original,sourcePathOrFile:s,subpath:w,targetPathOrFile:h})}r(Yl,"updateLink");async function qs(t){let{app:e,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:s,shouldUpdateEmbedOnlyLinks:a,shouldUpdateFileNameAlias:l}=t;Sn(e,i)&&!e.internalPlugins.getEnabledPluginById(lt.Canvas)||await Bl(e,i,c=>{let f=Ks(c.original);if(!(a!==void 0&&a!==f))return xk({app:e,link:c,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:s,shouldUpdateFileNameAlias:l})},t)}r(qs,"updateLinksInFile");function th(t,e,n,i){if(e>n)return;let s=t.slice(e,n+1);Je(s,/(?<Url>\S+)/g,(a,l)=>{Pl(l)&&i.push({encodedUrl:Vl(l),endOffset:e+a.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+a.offset,url:l})})}r(th,"extractTextLinks");function Ek(t,e,n,i,s){n==="/"&&(n="");let a;return e.path===n&&i&&s.isSingleSubpathAllowed?a=i:s.shouldForceRelativePath?a=qn(fe(n),s.isWikilink?uc(t,e):e.path)+i:a=t.metadataCache.fileToLinktext(e,n,s.isWikilink)+i,s.shouldForceRelativePath&&s.shouldUseLeadingDot&&!a.startsWith(".")&&!a.startsWith("#")&&(a=`./${a}`),a}r(Ek,"generateLinkText");function Tk(t){let{app:e}=t,n=Oe(e,t.targetPathOrFile,t.isNonExistingFileAllowed),i=ye(e,t.sourcePathOrFile),s=t.subpath??"",a=Ok(t,n),l=Ek(e,n,i,s,a);return a.isWikilink?_k(l,t.alias,a.isEmbed):Fk(l,n,t,a)}r(Tk,"generateMarkdownLinkImpl");function Fk(t,e,n,i){let{app:s}=n,a=i.isEmbed?"!":"",l=i.shouldUseAngleBrackets?`<${t}>`:Vl(t),c=n.alias??"";!c&&(!i.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(c=!n.shouldIncludeAttachmentExtensionToEmbedAlias||Ae(s,e)?e.basename:e.name);let f=n.shouldEscapeAlias?Je(c,kk,"\\$&"):c;return`${a}[${f}](${l})`}r(Fk,"generateMarkdownStyleLink");function _k(t,e,n){let i=n?"!":"",s=e??"";if(s&&s.toLowerCase()===t.toLowerCase())return`${i}[[${s}]]`;let a=s?`|${s}`:"";return`${i}[[${t}${a}]]`}r(_k,"generateWikiLink");async function Pk(t,e,n,i){if(i??=Ne(),i.throwIfAborted(),!t)return[];let s=[],a=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of Wt(t)){i.throwIfAborted();let c=await n(l,i);if(i.throwIfAborted(),c===void 0)continue;let f=Mn(l,c);e?oi(f)?s.push(f):console.warn("Unsupported file change",f):(Lk(f,a)&&(f.newContent=f.newContent.replaceAll(rh,wk)),s.push(f))}return s}r(Pk,"getFileChanges");function Ok(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Ks(t.originalLink):void 0)??!Ae(n,e),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:oh(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??eh(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Ak(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?Sk(t.originalLink):void 0)??!1}}r(Ok,"getLinkConfig");function sh(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}r(sh,"getRawLink");function Dk(t,e){let a=sh(t,e),l=t.children[0]?.position?.start.offset??1,c=t.children.at(-1)?.position?.end.offset??1,f=e.slice(c+2,(t.position?.end.offset??0)-1),h=a.startsWith("<")||f.startsWith("<"),p=Pl(t.url),g=t.url;if(!p&&!h)try{g=decodeURIComponent(g)}catch(y){console.error(`Failed to decode URL ${g}`,y)}return{alias:l<c?e.slice(l,c):void 0,encodedUrl:p?Vl(g):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:h,isEmbed:!1,isExternal:p,isWikilink:!1,raw:a,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:g}}r(Dk,"parseLinkNode");function Ik(t,e){return{alias:e.includes(ih)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:sh(t,e),startOffset:t.position?.start.offset??0,url:t.value}}r(Ik,"parseWikilinkNode");function Lk(t,e){return!en(t)||!rh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}r(Lk,"shouldEscapeWikilinkDivider");function oh(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return Nl(t);case"PreserveExisting":return e===void 0?Nl(t):ui(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}r(oh,"shouldUseWikilinkStyle");function ah(t,e){let n=Object.keys(e).map(i=>Mk(t,i,e[i]));return n.length===1?n[0]:function(){n.forEach(i=>i())}}r(ah,"around");function Mk(t,e,n){let i=t[e],s=t.hasOwnProperty(e),a=s?i:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(a);return i&&Object.setPrototypeOf(l,i),Object.setPrototypeOf(c,l),t[e]=c,f;function c(...h){return l===a&&t[e]===c&&f(),l.apply(this,h)}r(c,"wrapper");function f(){t[e]===c&&(s?t[e]=a:delete t[e]),l!==a&&(l=a,Object.setPrototypeOf(c,i||Function))}r(f,"remove")}r(Mk,"around1");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Rk(t,e){return ah(t,e)}r(Rk,"around");function lh(t,e,n){let i=Rk(e,n),s=!1;function a(){if(!s)try{i()}finally{s=!0}}return r(a,"uninstallerWrapper"),t.register(a),i}r(lh,"registerPatch");var uh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ci(t,e){let n=Ft(t,e);for(;n;){if(!await Il(t,n))return;let i=n.parent;await rn(t,n.path),n=i}}r(ci,"deleteEmptyFolderHierarchy");async function rn(t,e,n,i,s){let a=Br(t,e);if(!a)return!1;let l=ut(a)||(s??!0);if(ut(a)){let c=await tn(t,a);n&&c.clear(n),c.count()!==0&&(i&&new uh.Notice(fs(f=>f.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:a.path})),l=!1)}else if(Vr(a)){let c=await br(t,a);for(let f of[...c.files,...c.folders])l&&=await rn(t,f,n,i);l&&=await Il(t,a)}if(l)try{await t.fileManager.trashFile(a)}catch(c){await t.vault.exists(a.path)&&(Nr(new Error(`Failed to delete ${a.path}`,{cause:c})),l=!1)}return l}r(rn,"deleteSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zl=new Map,fi=new Set,Js=new Map,Le=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(Le||{});function hh(t,e){let n=Zs(t.app),i=t.manifest.id;n.set(i,e),fh(t.app),t.register(()=>{n.delete(i),fh(t.app)});let s=t.app,a=t.abortSignal??Ne();t.registerEvent(s.vault.on("delete",l=>{Yk(t,l,a)})),t.registerEvent(s.vault.on("rename",(l,c)=>{Hk(t,l,c,a)})),t.registerEvent(s.metadataCache.on("deleted",(l,c)=>{$k(t,l,c)})),lh(t,s.fileManager,{runAsyncLinkUpdate:r(l=>c=>Gk(s,l,c),"runAsyncLinkUpdate")})}r(hh,"registerRenameDeleteHandlers");async function ph(t,e,n){let i=mn(t);if(i.emptyAttachmentFolderBehavior!=="Keep")for(let s of e)switch(i.emptyAttachmentFolderBehavior){case"Delete":await rn(t,s,n,void 0,!0);break;case"DeleteWithEmptyParents":await ci(t,s);break;default:break}}r(ph,"cleanupParentFolders");async function Nk(t,e,n,i,s){let a=Js.get(e);if(a){Js.delete(e);for(let l of a)await $l(t,l.oldPath,n,i,s,l.combinedBacklinksMap)}}r(Nk,"continueInterruptedRenames");async function Wk(t,e,n,i,s,a){if(a.throwIfAborted(),i.set(e,n),!di(t,e))return;let l=mn(t),c=await ar(t,e),f=l.shouldRenameAttachmentFolder?await ar(t,n):c,h=c==="/",p=Ft(t,c);if(!p||c===f&&!l.shouldRenameAttachmentFiles)return;let g=[];if(await Ra(t,e))dh.Vault.recurseChildren(p,y=>{a.throwIfAborted(),ut(y)&&g.push(y)});else for(let y of s){a.throwIfAborted();let w=nn(t,y,e);if(w&&(h||w.path.startsWith(c))){let C=await tn(t,w);a.throwIfAborted(),C.keys().length===1&&g.push(w)}}for(let y of g){if(a.throwIfAborted(),di(t,y.path))continue;let w;if(l.shouldRenameAttachmentFiles)w=await Kr({app:t,attachmentPathOrFile:y,notePathOrFile:n,shouldSkipDuplicateCheck:!0}),a.throwIfAborted();else{let C=h?y.path:qn(c,y.path),_=ke(f,fe(C));w=ke(_,y.name)}if(y.path!==w){if(l.shouldDeleteConflictingAttachments){let C=he(t,w);C&&(console.warn(`Removing conflicting attachment ${C.path}.`),await t.fileManager.trashFile(C),a.throwIfAborted())}else{let C=fe(w),_=Tt(w),S=Ze(w,_);w=t.vault.getAvailablePath(ke(C,S),_.slice(1))}i.set(y.path,w)}}}r(Wk,"fillRenameMap");function Zs(t){return Zt(t,"renameDeleteHandlersMap",new Map).value}r(Zs,"getRenameDeleteHandlersMap");function mn(t){let e=Zs(t),n=Array.from(e.values()).reverse(),i={};i.isNote=s=>Yr(t,s),i.isPathIgnored=()=>!1;for(let s of n){let a=s();i.shouldDeleteConflictingAttachments||=a.shouldDeleteConflictingAttachments??!1,a.emptyAttachmentFolderBehavior&&(i.emptyAttachmentFolderBehavior??=a.emptyAttachmentFolderBehavior),i.shouldHandleDeletions||=a.shouldHandleDeletions??!1,i.shouldHandleRenames||=a.shouldHandleRenames??!1,i.shouldRenameAttachmentFiles||=a.shouldRenameAttachmentFiles??!1,i.shouldRenameAttachmentFolder||=a.shouldRenameAttachmentFolder??!1,i.shouldUpdateFileNameAliases||=a.shouldUpdateFileNameAliases??!1;let l=i.isPathIgnored;i.isPathIgnored=f=>l(f)||(a.isPathIgnored?.(f)??!1);let c=i.isNote;i.isNote=f=>c(f)&&(a.isNote?.(f)??!0)}return i.emptyAttachmentFolderBehavior??="Keep",i}r(mn,"getSettings");async function Bk(t,e,n,i,s){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let a=ke(fe(n),`__temp__${Ze(n)}`);return await gh(t,n,a),await $l(t,e,a,i,s),await t.vault.rename(Oe(t,a),n),!0}r(Bk,"handleCaseCollision");async function Vk(t,e,n){if(n.throwIfAborted(),tt("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!di(t,e))return;let i=mn(t);if(!i.shouldHandleDeletions)return;if(i.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let s=zl.get(e);zl.delete(e);let a=new Set;if(s){let f=Wt(s);for(let h of f){let p=nn(t,h,e);p&&(di(t,p.path)||(a.add(p.parent?.path??""),await rn(t,p,e,!1,i.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await ph(t,Array.from(a),e),n.throwIfAborted();let l=await ar(t,e),c=Ft(t,l);c&&await Ra(t,e)&&(n.throwIfAborted(),await rn(t,c,e,!1,i.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}r(Vk,"handleDelete");function Yk(t,e,n){let i=t.app;if(!Ul(t))return;let s=e.path;dt(i,a=>Vk(i,s,a),n)}r(Yk,"handleDeleteIfEnabled");function zk(t,e,n){let i=mn(t);if(i.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}i.shouldHandleDeletions&&Ae(t,e)&&n&&zl.set(e.path,n)}r(zk,"handleMetadataDeleted");function $k(t,e,n){Ul(t)&&zk(t.app,e,n)}r($k,"handleMetadataDeletedIfEnabled");function Uk(t,e,n,i){let s=mh(e,n);if(tt("RenameDeleteHandler:handleRename")(`Handle Rename ${s}`),fi.has(s)){fi.delete(s);return}let a=mn(t);if(!a.shouldHandleRenames)return;if(a.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(a.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let l=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),c=l?Wt(l):[],f=Rl(t,e).data;dt(t,h=>$l(t,e,n,f,c,void 0,h),i)}r(Uk,"handleRename");async function $l(t,e,n,i,s,a,l){if(l??=Ne(),l.throwIfAborted(),await Nk(t,e,n,i,s),l.throwIfAborted(),await jk(t,e,n,i,s),l.throwIfAborted(),!await Bk(t,e,n,i,s)){l.throwIfAborted();try{let c=new Map;await Wk(t,e,n,c,s,l),l.throwIfAborted();let f=new Map;ch(i,c,f,e);for(let g of c.keys()){if(g===e)continue;let y=(await tn(t,g)).data;ch(y,c,f,g)}let h=new Set;for(let[g,y]of c.entries()){if(g===e)continue;let w=await gh(t,g,y);c.set(g,w),h.add(fe(g))}await ph(t,Array.from(h),e),l.throwIfAborted();let p=mn(t);for(let[g,y]of Array.from(f.entries()).concat(Array.from(a?.entries()??[])))await Bl(t,g,w=>{let C=y.get(ps(w));if(!C)return;let _=c.get(C);if(_)return Yl({app:t,link:w,newSourcePathOrFile:g,newTargetPathOrFile:_,oldTargetPathOrFile:C,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),l.throwIfAborted();if(di(t,n)&&(await qs({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases}),l.throwIfAborted()),!he(t,n)){let g=Js.get(n);g||(g=[],Js.set(n,g)),g.push({combinedBacklinksMap:f,oldPath:e})}}finally{let c=Array.from(fi);dt(t,()=>{for(let f of c)fi.delete(f)},l)}}}r($l,"handleRenameAsync");function Hk(t,e,n,i){if(!Ul(t)||!ut(e))return;let s=e.path;Uk(t.app,n,s,i)}r(Hk,"handleRenameIfEnabled");function ch(t,e,n,i){for(let[s,a]of t.entries()){let l=e.get(s)??s,c=n.get(l)??new Map;n.set(l,c);for(let f of a)c.set(ps(f),i)}}r(ch,"initBacklinksMap");function di(t,e){return mn(t).isNote?.(e)??!1}r(di,"isNoteEx");function fh(t){let e=Zs(t);tt("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}r(fh,"logRegisteredHandlers");function mh(t,e){return`${t} -> ${e}`}r(mh,"makeKey");async function jk(t,e,n,i,s){let a=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=a?Wt(a):[],c=Oe(t,e,!0),f=new Map;await ai(t,[c],async()=>{f=(await tn(t,c)).data});for(let h of l)s.includes(h)||s.push(h);for(let[h,p]of f.entries()){let g=i.get(h);g||(g=[],i.set(h,g));for(let y of p)g.includes(y)||g.push(y)}}r(jk,"refreshLinks");async function gh(t,e,n){if(n=Dl(t,e,n),e===n)return n;let i=mh(e,n);return fi.add(i),n=await zs(t,e,n),n}r(gh,"renameHandled");async function Gk(t,e,n){await e.call(t.fileManager,i);async function i(s){let a=!1,l=t.vault.on("rename",()=>{a=!0});try{await n(s)}finally{t.vault.offref(l)}let c=mn(t);a&&c.shouldHandleRenames&&Rr(s,f=>c.isPathIgnored?.(f.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${f.sourceFile.path} as the path is ignored.`),!0):c.isPathIgnored?.(f.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${f.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(lt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:f.sourceFile.extension==="canvas"||f.resolvedFile.extension==="canvas")}r(i,"wrappedHandler")}r(Gk,"runAsyncLinkUpdate");function Ul(t){let e=t.app,n=t.manifest.id,i=Zs(e);return Array.from(i.keys())[0]===n}r(Ul,"shouldInvokeHandler");var RD=require("obsidian");var Qs=require("obsidian");var gn=class extends Map{constructor(n){super();this.title=n}static{r(this,"ConsistencyCheckResult")}add(n,i){this.has(n)||this.set(n,[]);let s=this.get(n);s&&s.push(i)}toString(n,i){if(this.size>0){let s=`# ${this.title} (${String(this.size)} files)
`;for(let a of this.keys()){let l=he(n,a);if(!l)continue;let c=Gs({app:n,sourcePathOrFile:i,targetPathOrFile:l});s+=`${c}:
`;for(let f of this.get(a)??[])St(f)?s+=`- (line ${String(f.position.start.line+1)}): \`${f.link}\`
`:Ue(f)&&(s+=`- (key ${f.key}): \`${f.link}\`
`);s+=`

`}return s}return`# ${this.title}
No problems found

`}},hi=class{constructor(e){this.plugin=e;}static{r(this,"LinksHandler")}async checkConsistency(e,n,i,s,a,l){if(this.plugin.settings.isPathIgnored(e.path))return;let c=await Bt(this.plugin.app,e.path);if(!c)return;let f=c.links??[],h=c.embeds??[],p=c.frontmatterLinks??[];for(let g of f)await this.isValidLink(g,e.path)||n.add(e.path,g),ui(g.original)&&s.add(e.path,g);for(let g of h)await this.isValidLink(g,e.path)||i.add(e.path,g),ui(g.original)&&a.add(e.path,g);for(let g of p)await this.isValidLink(g,e.path)||l.add(e.path,g)}async convertAllNoteEmbedsPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!0,n)}async convertAllNoteLinksPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!1,n)}async getCachedNotesThatHaveLinkToFile(e){let n=he(this.plugin.app,e);return n?(await tn(this.plugin.app,n)).keys():[]}getFullPathForLink(e,n){({linkPath:e}=pn(e));let i=fe(n);return ke(i,e)}async replaceAllNoteWikilinksWithMarkdownLinks(e,n,i){if(this.plugin.settings.isPathIgnored(e))return 0;let s=he(this.plugin.app,e);if(!s)return console.warn(`can't update wikilinks in note, file not found: ${e}`),0;let a=await Bt(this.plugin.app,s);if(i.throwIfAborted(),!a)return 0;let c=((n?a.embeds:a.links)??[]).filter(f=>ui(f.original)).length;return await qs({app:this.plugin.app,linkStyle:Wl.Markdown,newSourcePathOrFile:s,shouldUpdateEmbedOnlyLinks:n}),c}async updateChangedPathsInNote(e,n){if(this.plugin.settings.isPathIgnored(e))return;let i=he(this.plugin.app,e);if(!i){console.warn(`can't update links in note, file not found: ${e}`);return}let s=new Map;for(let a of n)s.set(a.oldPath,a.newPath);await this.updateLinks(i,i.path,s)}async convertAllNoteRefPathsToRelative(e,n,i){if(this.plugin.settings.isPathIgnored(e))return[];let s=he(this.plugin.app,e);if(!s)return[];let a=[];return await si(this.plugin.app,s,async(l,c)=>{let f=await Bt(this.plugin.app,s);l.throwIfAborted();let h=await this.plugin.app.vault.cachedRead(s);if(l.throwIfAborted(),c!==h)return null;if(!f)return[];let p=(n?f.embeds:f.links)??[],g=[];for(let y of p){let w=this.convertLink({forceRelativePath:!0,link:y,note:s,oldNotePath:e});g.push(Mn(y,w)),a.push({newLink:w,old:y})}return g},{abortSignal:i}),a}convertLink({forceRelativePath:e,link:n,note:i,oldNotePath:s,pathChangeMap:a}){let{linkPath:l,subpath:c}=pn(n.link),f=nn(this.plugin.app,n,s)?.path??ke(fe(s),l),h=a?a.get(f):nn(this.plugin.app,n,i.path)?.path??ke(fe(i.path),l);if(!h)return n.original;let p=he(this.plugin.app,h)??he(this.plugin.app,f);if(!p)return n.original;let g=n.displayText&&ke(i.parent?.path??"",n.displayText)===f?void 0:n.displayText;return Gs({alias:g,app:this.plugin.app,originalLink:n.original,shouldForceRelativePath:e,sourcePathOrFile:i.path,subpath:c,targetPathOrFile:p})}async isValidLink(e,n){let{linkPath:i,subpath:s}=pn(e.link),a;i?i.startsWith("/")?a=(0,Qs.normalizePath)(i):a=ke(fe(n),i):a=n;let l=he(this.plugin.app,a);if(!l)return!1;if(!s)return!0;let c=l.extension.toLocaleLowerCase();if(c==="pdf")return s.startsWith("#page=");if(c!==Yi)return!1;let f=await Bt(this.plugin.app,l);return f?!!(0,Qs.resolveSubpath)(f,s):!1}async updateLinks(e,n,i){await si(this.plugin.app,e,async(s,a)=>{s.throwIfAborted();let l=await Bt(this.plugin.app,e);s.throwIfAborted();let c=await this.plugin.app.vault.cachedRead(e);return s.throwIfAborted(),a!==c?null:l?Wt(l).map(h=>Mn(h,this.convertLink({link:h,note:e,oldNotePath:n,pathChangeMap:i}))):[]})}};var pi=class{constructor(e,n){this.plugin=e;this.lh=n;}static{r(this,"FilesHandler")}async collectAttachmentsForCachedNote(e){if(this.plugin.settings.isPathIgnored(e))return{movedAttachments:[]};let n={movedAttachments:[]},i=await Bt(this.plugin.app,e);if(!i)return n;for(let s of Wt(i)){let{linkPath:a}=pn(s.link);if(!a)continue;let l=this.lh.getFullPathForLink(a,e);if(n.movedAttachments.findIndex(p=>p.oldPath===l)!==-1)continue;let c=nn(this.plugin.app,s,e);if(!c){let p=Ks(s.original)?"embed":"link";console.warn(`${e} has bad ${p} (file does not exist): ${a}`);continue}if(this.isNoteEx(c)||this.plugin.settings.isExcludedFromAttachmentCollecting(c.path))continue;let f=await Kr({app:this.plugin.app,attachmentPathOrFile:c,notePathOrFile:e,shouldSkipDuplicateCheck:!0});if(fe(f)===fe(c.path))continue;let h=await this.moveAttachment(c,f,[e]);n.movedAttachments=n.movedAttachments.concat(h.movedAttachments)}return n}async deleteEmptyFolders(e){if(this.plugin.settings.isPathIgnored(e))return;e=Vi(e,"./");let n=await br(this.plugin.app,e);for(let i of n.folders)await this.deleteEmptyFolders(i);if(n=await br(this.plugin.app,e),n.files.length===0&&n.folders.length===0&&(this.plugin.consoleDebug(`delete empty folder: 
   ${e}`),await this.plugin.app.vault.exists(e)))try{await this.plugin.app.vault.adapter.rmdir(e,!1)}catch(i){if(await this.plugin.app.vault.adapter.exists(e))throw i}}isNoteEx(e){if(!e||!Yr(this.plugin.app,e))return!1;let n=ye(this.plugin.app,e);return this.plugin.settings.treatAsAttachmentExtensions.every(i=>!n.endsWith(i))}async createFolderForAttachmentFromPath(e){await yr(this.plugin.app,fe(e))}async deleteFile(e){if(await this.plugin.app.fileManager.trashFile(e),!!e.parent)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Le.Delete:await rn(this.plugin.app,e.parent,void 0,void 0,!0);break;case Le.DeleteWithEmptyParents:await ci(this.plugin.app,e.parent);break;default:break}}async moveAttachment(e,n,i){let s=e.path,a={movedAttachments:[]};if(this.plugin.settings.isPathIgnored(s)||this.isNoteEx(e))return a;if(s===n)return console.warn("Can't move file. Source and destination path the same."),a;await this.createFolderForAttachmentFromPath(n);let l=await this.lh.getCachedNotesThatHaveLinkToFile(s);for(let p of i)l.remove(p);if(s!==e.path)return console.warn("File was moved already"),await this.moveAttachment(e,n,i);let c=e.parent,f=l.length===0,h=he(this.plugin.app,n);if(h&&(this.plugin.settings.shouldDeleteExistingFilesWhenMovingNote?(this.plugin.consoleDebug(`delete: ${n}`),await this.deleteFile(h)):n=Ys(this.plugin.app,n)),this.plugin.consoleDebug(`${f?"move":"copy"}
  from: ${s}
  to: ${n}`),a.movedAttachments.push({newPath:n,oldPath:s}),f?await zs(this.plugin.app,e,n):await Jd(this.plugin.app,e,n),c)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Le.Delete:await rn(this.plugin.app,c,void 0,void 0,!0);break;case Le.DeleteWithEmptyParents:await ci(this.plugin.app,c);break;default:break}return a}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yn=class{static{r(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let i=this.getTransformerId(e,n);if(i){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:i,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,c)=>this.transformValueRecursively(l,String(c)));let s=e;if(s.__transformerId)return this.getTransformer(s.__transformerId).restoreValue(s.transformedValue,n);let a={};for(let l of ir(e)){let c=e[l],f=this.transformValueRecursively(c,l);a[l]=f}return a}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mt=class extends yn{static{r(this,"TypedTransformer")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xs=class extends mt{static{r(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var yh=at(Rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var eo=class extends mt{static{r(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,yh.duration)(e)}transformValue(e){return e.toISOString()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var to=class extends yn{static{r(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??An(`No transformer with id ${e} found`)}transformValue(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);if(i===null)throw new Error("No transformer can transform the value");return i.transformValue(e,n)}getTransformerId(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);return i===null?null:i.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(i=>i.canTransform(e,n))??null}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var no=class extends mt{static{r(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ro=class extends mt{static{r(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kk="_",io=class extends yn{static{r(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(Kk)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mi=class{static{r(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,i]of e)this.set(n,i)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var so=class extends mt{static{r(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof mi}restoreValue(e){return new mi(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qk=new to([new io,new Xs,new eo,new no,new ro,new so]),oo=class extends It{static{r(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=ir(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let i of this.propertyNames)n[i]&&(e[i]=this.defaultSettings[i])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let i=n,s=await this.rawRecordToSettings(i),a=await this.validate(s);for(let c of this.propertyNames)this.setPropertyImpl(c,s[c],a[c]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);ht(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,i){return super.on(e,n,i)}async revalidate(){return await this.edit(et),this.currentSettingsWrapper.validationMessages}async saveToFile(e){ht(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(i=>{i[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[i,s]of this.validators.entries()){let a=await s(e[i],e);a&&(n[i]=a)}return n}getTransformer(){return qk}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Ot()}registerLegacySettingsConverter(e,n){let i=this;this.legacySettingsConverters.push(s);function s(a){let l=new Set(Object.keys(new e)),c=new Set(i.propertyNames),f=a;n(f);for(let h of Object.keys(f))c.has(h)||l.has(h)&&delete a[h]}r(s,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),i=JSON.stringify(n),s=JSON.parse(i);return await this.rawRecordToSettings(s)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let i of this.propertyNames){let s=n[i]??"";this.currentSettingsWrapper.validationMessages[i]=s,this.currentSettingsWrapper.safeSettings[i]=s?this.defaultSettings[i]:this.currentSettingsWrapper.settings[i]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[i,s]of Object.entries(e)){if(!this.isValidPropertyName(i)){console.warn(`Unknown property: ${i}`);continue}typeof s!=typeof this.defaultSettings[i]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[i],propertyName:i,value:s}),n[i]=s}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,i){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=i??"",this.currentSettingsWrapper.safeSettings[e]=i?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let i of this.propertyNames)n[i]=e[i];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var wh=/(?:)/,ao=/$./,lo=class{static{r(this,"PluginSettings")}consistencyReportFile="consistency-report.md";emptyAttachmentFolderBehavior=Le.DeleteWithEmptyParents;shouldChangeNoteBacklinksDisplayText=!0;shouldCollectAttachmentsAutomatically=!1;shouldDeleteAttachmentsWithNote=!1;shouldDeleteExistingFilesWhenMovingNote=!1;shouldMoveAttachmentsWithNote=!1;shouldShowBackupWarning=!0;shouldUpdateLinks=!0;treatAsAttachmentExtensions=[".excalidraw.md"];get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=jl(this._excludePaths,ao)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=jl(this._excludePathsFromAttachmentCollecting,ao)}get hadDangerousSettingsReverted(){return this._hadDangerousSettingsReverted}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=jl(this._includePaths,wh)}_excludePaths=["/consistency-report\\.md$/"];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=ao;_excludePathsRegExp=ao;_hadDangerousSettingsReverted=!1;_includePaths=[];_includePathsRegExp=wh;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}revertDangerousSettings(){this.shouldShowBackupWarning&&(this._hadDangerousSettingsReverted=this.shouldDeleteAttachmentsWithNote||this.shouldDeleteExistingFilesWhenMovingNote||this.shouldMoveAttachmentsWithNote||this.shouldCollectAttachmentsAutomatically,this.shouldDeleteAttachmentsWithNote=!1,this.shouldDeleteExistingFilesWhenMovingNote=!1,this.shouldMoveAttachmentsWithNote=!1,this.shouldCollectAttachmentsAutomatically=!1)}};function jl(t,e){if(t.length===0)return e;let n=t.map(i=>i.startsWith("/")&&i.endsWith("/")?i.slice(1,-1):`^${ca(i)}`).map(i=>`(${i})`).join("|");return new RegExp(n)}r(jl,"makeRegExp");var uo=class extends oo{static{r(this,"PluginSettingsManager")}createDefaultSettings(){return new lo}async onLoadRecord(e){await super.onLoadRecord(e);let n=e,i=n.excludePaths??[];if(n.ignoreFiles){for(let s of n.ignoreFiles)i.push(`/${s}$/`);delete n.ignoreFiles}if(n.ignoreFolders){for(let s of n.ignoreFolders??[])i.push(s);delete n.ignoreFolders}i.length>0&&(n.excludePaths=i),n.deleteEmptyFolders!==void 0&&(n.emptyAttachmentFolderBehavior=n.deleteEmptyFolders?Le.DeleteWithEmptyParents:Le.Keep,delete n.deleteEmptyFolders),n.autoCollectAttachments!==void 0&&(n.shouldCollectAttachmentsAutomatically=n.autoCollectAttachments,delete n.autoCollectAttachments),n.changeNoteBacklinksAlt!==void 0&&(n.shouldChangeNoteBacklinksDisplayText=n.changeNoteBacklinksAlt,delete n.changeNoteBacklinksAlt),n.deleteAttachmentsWithNote!==void 0&&(n.shouldDeleteAttachmentsWithNote=n.deleteAttachmentsWithNote,delete n.deleteAttachmentsWithNote),n.deleteExistFilesWhenMoveNote!==void 0&&(n.shouldDeleteExistingFilesWhenMovingNote=n.deleteExistFilesWhenMoveNote,delete n.deleteExistFilesWhenMoveNote),n.moveAttachmentsWithNote!==void 0&&(n.shouldMoveAttachmentsWithNote=n.moveAttachmentsWithNote,delete n.moveAttachmentsWithNote),n.showBackupWarning!==void 0&&(n.shouldShowBackupWarning=n.showBackupWarning,delete n.showBackupWarning),n.updateLinks!==void 0&&(n.shouldUpdateLinks=n.updateLinks,delete n.updateLinks)}registerValidators(){super.registerValidators(),this.registerValidator("includePaths",bh),this.registerValidator("excludePaths",bh)}};function bh(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!ec(n))return`Invalid regular expression ${e}`}}r(bh,"pathsValidator");var Mh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function kh(t,e){let n=Object.keys(t).find(i=>t[i]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}r(kh,"getEnumKey");function xh(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}r(xh,"getEnumValue");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function gt(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}r(gt,"appendCodeBlock");function vh(t){return`${String(t)}px`}r(vh,"toPx");var Nn=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function co(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(V.SettingComponentWrapper))return e;let n=Array.from(e.children),i=createDiv();de(i,V.SettingComponentWrapper);for(let s of n)i.appendChild(s);return e.appendChild(i),i}r(co,"ensureWrapped");var Ch=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gl=class{static{r(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Ah(t){return Jk(t)?t:t instanceof Ch.AbstractTextComponent?new Gl(t):null}r(Ah,"getTextBasedComponentValue");function Jk(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}r(Jk,"isTextBasedComponent");var Be=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var fo=class{static{r(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=co(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),de(this._validatorEl,V.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let i=this.el.querySelector("[tabindex]");i||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),i=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{i.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},wn=class{static{r(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function Sh(t){return Zk(t)?t:t instanceof Be.ColorComponent?new wn(t.colorPickerEl):t instanceof Be.DropdownComponent?new wn(t.selectEl):t instanceof Be.ProgressBarComponent?new fo(t.progressBar):t instanceof Be.SearchComponent?new wn(t.inputEl):t instanceof Be.SliderComponent?new wn(t.sliderEl):t instanceof Be.TextAreaComponent?new wn(t.inputEl):t instanceof Be.TextComponent?new wn(t.inputEl):t instanceof Be.ToggleComponent?new fo(t.toggleEl):null}r(Sh,"getValidatorComponent");function Zk(t){return!!t.validatorEl}r(Zk,"isValidatorComponent");var Qk=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Eh(t){return t.validationMessage!==void 0}r(Eh,"isValidationMessageHolder");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kl="PluginSettingsTab",ho=class extends Nn.PluginSettingTab{static{r(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,de(this.containerEl,V.PluginSettingsTab),this.saveSettingsDebounced=(0,Nn.debounce)(tr(()=>this.plugin.settingsManager.saveToFile(Kl)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new ls,this.asyncEvents=new It}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,i){let a={...{componentToPluginSettingsValueConverter:r(F=>F,"componentToPluginSettingsValueConverter"),onChanged:et,pluginSettingsToComponentValueConverter:r(F=>F,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...i},l=Sh(e)?.validatorEl,c=Ah(e),f=this.pluginSettings[n],h=this.plugin.settingsManager.defaultSettings[n];c?.setPlaceholderValue(a.pluginSettingsToComponentValueConverter(h));let p,g=null,y=null;if(l){let F=co(l);g=F.createDiv(),de(g,V.Tooltip,V.TooltipValidator),y=g.createSpan();let O=g.createDiv();de(O,V.TooltipArrow),g.hide(),F.appendChild(g)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(F,O)=>{n===F&&(p=O,S())}));let w=!1;c&&a.shouldShowPlaceholderForDefaultValues&&ht(f,h)?c.empty():e.setValue(a.pluginSettingsToComponentValueConverter(f));let C=!1,S=(0,Nn.debounce)(()=>{requestAnimationFrame(()=>{A()})},100);return e.onChange(async F=>{if(C){C=!1;return}w=!1;let O=this.pluginSettings[n],R,Y=!0;if(c?.isEmpty()&&a.shouldResetSettingWhenComponentIsEmpty)R=h;else{let E=a.componentToPluginSettingsValueConverter(F);Eh(E)?(p=E.validationMessage,Y=!1):R=E}Y&&(p=await this.plugin.settingsManager.setProperty(n,R),c&&a.shouldShowPlaceholderForDefaultValues&&!c.isEmpty()&&ht(R,h)&&(w=!0)),S(),R!==void 0&&await a.onChanged(R,O),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),p=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function A(){w&&!l?.isActiveElement()&&(w=!1,c?.isEmpty()||(C=!0,c?.empty())),l&&(p===""&&(l.setCustomValidity(""),l.checkValidity(),p=l.validationMessage),l.setCustomValidity(p),a.shouldShowValidationMessage?(y&&(y.textContent=p),g?.toggle(!!p)):p&&(0,Nn.setTooltip)(l,p))}r(A,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),ft(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Kl)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Ot()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,i){return this.asyncEvents.on(e,n,i)}async onSaveSettings(e,n,i){if(i===Kl){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,i]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,i)}};var Lh=require("obsidian");var Th=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var po=class extends Th.ValueComponent{static{r(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),de(e,V.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var xr=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mo=class extends xr.ValueComponent{static{r(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),de(e,V.CodeHighlighterComponent);let n=e.createDiv();de(n,V.SettingComponentWrapper),this.textAreaComponent=new xr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",tr(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let i=2;this.tabSize=i}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let i of[this.preEl,this.codeEl]){for(let s of Array.from(i.classList))s.startsWith(n)&&i.classList.remove(s);i.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,ft(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),ft(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),i=this.inputEl.selectionStart,s=this.inputEl.selectionEnd,a=n.slice(0,i),l=n.slice(s),c=" ".repeat(this.tabSize),f=a;e.shiftKey?a.endsWith(c)&&(f=a.slice(0,-this.tabSize)):f=a+c;let h=`${f}${l}`;this.setValue(h),this.inputEl.selectionStart=f.length,this.inputEl.selectionEnd=f.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,xr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(V.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":vh(n)}),this.handleScroll()})}};var ql=at(Rn(),1);var go=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pe=class extends go.ValueComponent{static{r(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,i){super(),this.textComponent=new go.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,de(e,i)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xe=class extends Pe{static{r(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fh="YYYY-MM-DD",yo=class extends Xe{static{r(this,"DateComponent")}constructor(e){super(e,"date",V.DateComponent)}valueFromString(e){return(0,ql.default)(e,Fh).toDate()}valueToString(e){return(0,ql.default)(e).format(Fh)}};var Jl=at(Rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _h="YYYY-MM-DDTHH:mm",wo=class extends Xe{static{r(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",V.DateTimeComponent)}valueFromString(e){return(0,Jl.default)(e,_h).toDate()}valueToString(e){return(0,Jl.default)(e).format(_h)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bo=class extends Pe{static{r(this,"EmailComponent")}constructor(e){super(e,"email",V.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ko=class extends Pe{static{r(this,"FileComponent")}constructor(e){super(e,"file",V.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Zl=at(Rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ph="YYYY-MM",xo=class extends Xe{static{r(this,"MonthComponent")}constructor(e){super(e,"month",V.MonthComponent)}valueFromString(e){let n=(0,Zl.default)(e,Ph);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Zl.default)().year(e.year).month(e.month-1).format(Ph)}};var vo=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vr=class extends vo.ValueComponent{static{r(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new vo.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,de(e,V.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Co=class extends Pe{static{r(this,"MultipleEmailComponent")}constructor(e){super(e,"email",V.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ao=class extends Pe{static{r(this,"MultipleFileComponent")}constructor(e){super(e,"file",V.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Eo=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var So=class extends Eo.ValueComponent{static{r(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Eo.TextAreaComponent(e),de(e,V.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var To=class extends Xe{static{r(this,"NumberComponent")}constructor(e){super(e,"number",V.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fo=class extends Pe{static{r(this,"PasswordComponent")}constructor(e){super(e,"password",V.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _o=class extends Pe{static{r(this,"TelephoneComponent")}constructor(e){super(e,"tel",V.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Oo=at(Rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Po=class extends Xe{static{r(this,"TimeComponent")}constructor(e){super(e,"time",V.TimeComponent)}valueFromString(e){return(0,Oo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Oo.utc)(e.asMilliseconds()).format(n)}};var Oh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Do=class extends Oh.ValueComponent{static{r(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),de(e,V.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Lo=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Io=class extends Lo.ValueComponent{static{r(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Lo.DropdownComponent(e),de(e,V.TypedDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.dropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Dh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mo=class extends Dh.ValueComponent{static{r(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new vr(e),de(e,V.TypedMultipleDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.multipleDropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(i=>this.values.indexOf(i)).filter(i=>i!==-1);return this.multipleDropdownComponent.setValue(n.map(i=>String(i))),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ro=class extends Pe{static{r(this,"UrlComponent")}constructor(e){super(e,"url",V.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Ql=at(Rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ih="YYYY-[W]WW",No=class extends Xe{static{r(this,"WeekComponent")}constructor(e){super(e,"week",V.WeekComponent)}valueFromString(e){let n=(0,Ql.default)(e,Ih);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,Ql.default)().year(e.year).isoWeek(e.weekNumber).format(Ih)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ke=class extends Lh.Setting{static{r(this,"SettingEx")}addCheckbox(e){return this.addComponent(po,e)}addCodeHighlighter(e){return this.addComponent(mo,e)}addComponent(e,n){let i=new e(this.controlEl);return this.components.push(i),n(i),this}addDate(e){return this.addComponent(yo,e)}addDateTime(e){return this.addComponent(wo,e)}addEmail(e){return this.addComponent(bo,e)}addFile(e){return this.addComponent(ko,e)}addMonth(e){return this.addComponent(xo,e)}addMultipleDropdown(e){return this.addComponent(vr,e)}addMultipleEmail(e){return this.addComponent(Co,e)}addMultipleFile(e){return this.addComponent(Ao,e)}addMultipleText(e){return this.addComponent(So,e)}addNumber(e){return this.addComponent(To,e)}addPassword(e){return this.addComponent(Fo,e)}addTelephone(e){return this.addComponent(_o,e)}addTime(e){return this.addComponent(Po,e)}addTriStateCheckbox(e){return this.addComponent(Do,e)}addTypedDropdown(e){return this.addComponent(Io,e)}addTypedMultipleDropdown(e){return this.addComponent(Mo,e)}addUrl(e){return this.addComponent(Ro,e)}addWeek(e){return this.addComponent(No,e)}};var Wo=class extends ho{static{r(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty();let e="Move Attachments with Note";new Ke(this.containerEl).setName(e).setDesc("Automatically move attachments when a note is relocated. This includes attachments located in the same folder or any of its subfolders.").addToggle(a=>this.bind(a,"shouldMoveAttachmentsWithNote",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldMoveAttachmentsWithNote",e)},"onChanged")}));let n="Delete Unused Attachments with Note";new Ke(this.containerEl).setName(n).setDesc("Automatically remove attachments that are no longer referenced in other notes when the note is deleted.").addToggle(a=>this.bind(a,"shouldDeleteAttachmentsWithNote",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldDeleteAttachmentsWithNote",n)},"onChanged")})),new Ke(this.containerEl).setName("Update Links").setDesc("Automatically update links to attachments and other notes when moving notes or attachments.").addToggle(a=>this.bind(a,"shouldUpdateLinks")),new Ke(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(a=>{a.appendText("When the attachment folder becomes empty, "),a.createEl("br"),gt(a,"Keep"),a.appendText(" - will keep the empty attachment folder, "),a.createEl("br"),gt(a,"Delete"),a.appendText(" - will delete the empty attachment folder, "),a.createEl("br"),gt(a,"Delete with empty parents"),a.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(a=>{a.addOptions({[Le.Keep]:"Keep",[Le.Delete]:"Delete",[Le.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(a,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:r(l=>xh(Le,l),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(l=>kh(Le,l),"pluginSettingsToComponentValueConverter")})});let i="Delete Duplicate Attachments on Note Move";new Ke(this.containerEl).setName(i).setDesc("Automatically delete attachments when moving a note if a file with the same name exists in the destination folder. If disabled, the file will be renamed and moved.").addToggle(a=>this.bind(a,"shouldDeleteExistingFilesWhenMovingNote",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldDeleteExistingFilesWhenMovingNote",i)},"onChanged")})),new Ke(this.containerEl).setName("Update Backlink Text on Note Rename").setDesc("When a note is renamed, its linked references are automatically updated. If this option is enabled, the text of backlinks to this note will also be modified.").addToggle(a=>this.bind(a,"shouldChangeNoteBacklinksDisplayText")),new Ke(this.containerEl).setName("Consistency Report Filename").setDesc("Specify the name of the file for the consistency report.").addText(a=>{this.bind(a,"consistencyReportFile")});let s="Auto Collect Attachments";new Ke(this.containerEl).setName(s).setDesc("Automatically collect attachments when the note is edited.").addToggle(a=>this.bind(a,"shouldCollectAttachmentsAutomatically",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldCollectAttachmentsAutomatically",s)},"onChanged")})),new Ke(this.containerEl).setName("Include paths").setDesc(createFragment(a=>{a.appendText("Include notes from the following paths"),a.createEl("br"),a.appendText("Insert each path on a new line"),a.createEl("br"),a.appendText("You can use path string or "),gt(a,"/regular expression/"),a.createEl("br"),a.appendText("If the setting is empty, all notes are included")})).addMultipleText(a=>{this.bind(a,"includePaths")}),new Ke(this.containerEl).setName("Exclude paths").setDesc(createFragment(a=>{a.appendText("Exclude notes from the following paths"),a.createEl("br"),a.appendText("Insert each path on a new line"),a.createEl("br"),a.appendText("You can use path string or "),gt(a,"/regular expression/"),a.createEl("br"),a.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(a=>{this.bind(a,"excludePaths")}),new Ke(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(a=>{a.appendText("Exclude attachments from the following paths when "),gt(a,"Collect attachments"),a.appendText(" command is executed."),a.createEl("br"),a.appendText("Insert each path on a new line"),a.createEl("br"),a.appendText("You can use path string or "),gt(a,"/regular expression/"),a.createEl("br"),a.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(a=>{this.bind(a,"excludePathsFromAttachmentCollecting")}),new Ke(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(a=>{a.appendText("Treat files with these extensions as attachments."),a.createEl("br"),a.appendText("By default, "),gt(a,".md"),a.appendText(" and "),gt(a,".canvas"),a.appendText(" linked files are not treated as attachments and are not moved with the note."),a.createEl("br"),a.appendText("You can add custom extensions, e.g. "),gt(a,".foo.md"),a.appendText(", "),gt(a,".bar.canvas"),a.appendText(", to override this behavior.")})).addMultipleText(a=>{this.bind(a,"treatAsAttachmentExtensions")})}async checkDangerousSetting(e,n){this.plugin.settings[e]&&await as({app:this.app,message:createFragment(i=>{i.createDiv({cls:"community-modal-readme"},s=>{s.appendText("You enabled "),s.createEl("strong",{cls:"markdown-rendered-code",text:n}),s.appendText(" setting. Without proper configuration it might lead to inconvenient attachment rearrangements or even data loss in your vault."),s.createEl("br"),s.appendText("It is "),s.createEl("strong",{text:"STRONGLY"}),s.appendText(" recommended to backup your vault before using the plugin."),s.createEl("br"),s.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),s.appendText(" about how to use the plugin.")})}),title:createFragment(i=>{(0,Mh.setIcon)(i.createSpan(),"triangle-alert"),i.appendText(" Consistent Attachments and Links")})})}};var Bo=class extends ds{static{r(this,"Plugin")}deletedNoteCache=new Map;fh;lh;async onLoadSettings(e,n){await super.onLoadSettings(e,n),e.settings.revertDangerousSettings()}async onSaveSettings(e,n,i){await super.onSaveSettings(e,n,i),this.lh=new hi(this),this.fh=new pi(this,this.lh)}createSettingsManager(){return new uo(this)}createSettingsTab(){return new Wo(this)}async onLayoutReady(){await this.showBackupWarning(),this.registerEvent(this.app.metadataCache.on("deleted",(e,n)=>{n&&this.handleDeletedMetadata(e,n)})),this.registerEvent(this.app.metadataCache.on("changed",e=>{dt(this.app,n=>this.handleMetadataCacheChanged(e,n),this.abortSignal)}))}async onloadImpl(){await super.onloadImpl(),hh(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:r(n=>this.fh.isNoteEx(n),"isNote"),isPathIgnored:r(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldDeleteConflictingAttachments:this.settings.shouldDeleteExistingFilesWhenMovingNote,shouldHandleDeletions:this.settings.shouldDeleteAttachmentsWithNote,shouldHandleRenames:this.settings.shouldUpdateLinks,shouldRenameAttachmentFolder:this.settings.shouldMoveAttachmentsWithNote,shouldUpdateFileNameAliases:this.settings.shouldChangeNoteBacklinksDisplayText})),this.addCommand({callback:r(()=>this.collectAllAttachments(),"callback"),id:"collect-all-attachments",name:"Collect All Attachments"}),this.addCommand({checkCallback:r(e=>this.collectAttachmentsCurrentFolder(e),"checkCallback"),id:"collect-attachments-current-folder",name:"Collect Attachments in Current Folder"}),this.addCommand({checkCallback:this.collectAttachmentsCurrentNote.bind(this),id:"collect-attachments-current-note",name:"Collect Attachments in Current Note"}),this.addCommand({callback:r(()=>this.deleteEmptyFolders(),"callback"),id:"delete-empty-folders",name:"Delete Empty Folders"}),this.addCommand({callback:r(()=>this.convertAllLinkPathsToRelative(this.abortSignal),"callback"),id:"convert-all-link-paths-to-relative",name:"Convert All Link Paths to Relative"}),this.addCommand({checkCallback:this.convertAllLinkPathsToRelativeCurrentNote.bind(this),id:"convert-all-link-paths-to-relative-current-note",name:"Convert All Link Paths to Relative in Current Note"}),this.addCommand({callback:r(()=>this.convertAllEmbedsPathsToRelative(),"callback"),id:"convert-all-embed-paths-to-relative",name:"Convert All Embed Paths to Relative"}),this.addCommand({checkCallback:this.convertAllEmbedsPathsToRelativeCurrentNote.bind(this),id:"convert-all-embed-paths-to-relative-current-note",name:"Convert All Embed Paths to Relative in Current Note"}),this.addCommand({callback:r(()=>this.replaceAllWikilinksWithMarkdownLinks(),"callback"),id:"replace-all-wikilinks-with-markdown-links",name:"Replace All Wiki Links with Markdown Links"}),this.addCommand({checkCallback:this.replaceAllWikilinksWithMarkdownLinksCurrentNote.bind(this),id:"replace-all-wikilinks-with-markdown-links-current-note",name:"Replace All Wiki Links with Markdown Links in Current Note"}),this.addCommand({callback:r(()=>this.replaceAllWikiEmbedsWithMarkdownEmbeds(),"callback"),id:"replace-all-wiki-embeds-with-markdown-embeds",name:"Replace All Wiki Embeds with Markdown Embeds"}),this.addCommand({checkCallback:this.replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote.bind(this),id:"replace-all-wiki-embeds-with-markdown-embeds-current-note",name:"Replace All Wiki Embeds with Markdown Embeds in Current Note"}),this.addCommand({callback:r(()=>this.reorganizeVault(),"callback"),id:"reorganize-vault",name:"Reorganize Vault"}),this.addCommand({callback:r(()=>this.checkConsistency(),"callback"),id:"check-consistency",name:"Check Vault consistency"}),this.registerEvent(this.app.workspace.on("file-menu",(e,n)=>{this.handleFileMenu(e,n)})),this.lh=new hi(this),this.fh=new pi(this,this.lh)}async checkConsistency(){await this.saveAllOpenNotes();let e=new gn("Bad links"),n=new gn("Bad embeds"),i=new gn("Wiki links"),s=new gn("Wiki embeds"),a=new gn("Bad frontmatter links");await Tn({abortSignal:this.abortSignal,buildNoticeMessage:r((p,g)=>`Checking note ${g} - ${p.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async p=>{await this.lh.checkConsistency(p,e,n,i,s,a)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Checking vault consistency...",shouldContinueOnError:!0,shouldShowProgressBar:!0});let l=this.settings.consistencyReportFile,c=[e,n,i,s,a].map(p=>p.toString(this.app,l)).join("");await yr(this.app,fe(l));let f=await ac(this.app,l);await this.app.vault.modify(f,c);let h=!1;this.app.workspace.iterateAllLeaves(p=>{p.getDisplayText()!==""&&l.startsWith(p.getDisplayText())&&(h=!0)}),h||await this.app.workspace.openLinkText(l,"/",!1)}async collectAllAttachments(){await this.collectAttachmentsInFolder("/",this.abortSignal)}async collectAttachments(e,n,i=!0){if(n.throwIfAborted(),this.settings.isPathIgnored(e.path)){i&&new Se.Notice("Note path is ignored");return}await this.saveAllOpenNotes(),n.throwIfAborted();let s=await this.fh.collectAttachmentsForCachedNote(e.path);n.throwIfAborted(),s.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(e.path,s.movedAttachments),n.throwIfAborted()),s.movedAttachments.length===0?i&&new Se.Notice("No files found that need to be moved"):new Se.Notice(`Moved ${String(s.movedAttachments.length)} attachment${s.movedAttachments.length>1?"s":""}`)}collectAttachmentsCurrentFolder(e){let n=this.app.workspace.getActiveFile();return!n||!Ae(this.app,n)?!1:(e||dt(this.app,i=>this.collectAttachmentsInFolder(n.parent?.path??"/",i),this.abortSignal),!0)}collectAttachmentsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ae(this.app,n)?!1:(e||dt(this.app,i=>this.collectAttachments(n,i),this.abortSignal),!0)}async collectAttachmentsInFolder(e,n){n.throwIfAborted();let i=0,s=0;await this.saveAllOpenNotes(),await Tn({abortSignal:n,buildNoticeMessage:r((a,l)=>`Collecting attachments ${l} - ${a.path}`,"buildNoticeMessage"),items:oc(this.app,e,!0),processItem:r(async a=>{if(n.throwIfAborted(),this.settings.isPathIgnored(a.path))return;let l=await this.fh.collectAttachmentsForCachedNote(a.path);n.throwIfAborted(),l.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(a.path,l.movedAttachments),n.throwIfAborted(),i+=l.movedAttachments.length,s++)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),i===0?new Se.Notice("No files found that need to be moved"):new Se.Notice(`Moved ${String(i)} attachment${i>1?"s":""} from ${String(s)} note${s>1?"s":""}`)}async convertAllEmbedsPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await Tn({abortSignal:this.abortSignal,buildNoticeMessage:r((i,s)=>`Converting embed paths to relative ${s} - ${i.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async i=>{if(this.settings.isPathIgnored(i.path))return;let s=await this.lh.convertAllNoteEmbedsPathsToRelative(i.path,this.abortSignal);s.length>0&&(e+=s.length,n++)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Converting embed paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new Se.Notice("No embeds found that need to be converted"):new Se.Notice(`Converted ${String(e)} embed${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}convertAllEmbedsPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ae(this.app,n)?!1:(e||dt(this.app,Lr(i=>this.lh.convertAllNoteEmbedsPathsToRelative(n.path,i)),this.abortSignal),!0)}async convertAllLinkPathsToRelative(e){e.throwIfAborted(),await this.saveAllOpenNotes(),e.throwIfAborted();let n=0,i=0;await Tn({abortSignal:e,buildNoticeMessage:r((s,a)=>`Converting link paths to relative ${a} - ${s.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async s=>{if(this.settings.isPathIgnored(s.path))return;let a=await this.lh.convertAllNoteLinksPathsToRelative(s.path,e);a.length>0&&(n+=a.length,i++)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Converting link paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),n===0?new Se.Notice("No links found that need to be converted"):new Se.Notice(`Converted ${String(n)} link${n>1?"s":""} from ${String(i)} note${i>1?"s":""}`)}convertAllLinkPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ae(this.app,n)?!1:(e||dt(this.app,Lr(i=>this.lh.convertAllNoteLinksPathsToRelative(n.path,i)),this.abortSignal),!0)}async deleteEmptyFolders(){await this.fh.deleteEmptyFolders("/")}handleDeletedMetadata(e,n){!this.settings.shouldDeleteAttachmentsWithNote||this.settings.isPathIgnored(e.path)||!Ae(this.app,e)||this.deletedNoteCache.set(e.path,n)}handleFileMenu(e,n){Vr(n)&&e.addItem(i=>{i.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>this.collectAttachmentsInFolder(n.path,this.abortSignal))})}async handleMetadataCacheChanged(e,n){if(n.throwIfAborted(),!this.settings.shouldCollectAttachmentsAutomatically)return;let i=document.querySelector(".suggestion-container");i&&i.style.display!=="none"||await this.collectAttachments(e,n,!1)}async reorganizeVault(){await this.saveAllOpenNotes(),await this.replaceAllWikilinksWithMarkdownLinks(),await this.replaceAllWikiEmbedsWithMarkdownEmbeds(),await this.convertAllEmbedsPathsToRelative(),await this.convertAllLinkPathsToRelative(this.abortSignal),await this.collectAllAttachments(),await this.deleteEmptyFolders(),new Se.Notice("Reorganization of the vault completed")}async replaceAllWikiEmbedsWithMarkdownEmbeds(){await this.saveAllOpenNotes();let e=0,n=0;await Tn({abortSignal:this.abortSignal,buildNoticeMessage:r((i,s)=>`Replacing wiki embeds with markdown embeds ${s} - ${i.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async i=>{if(this.settings.isPathIgnored(i.path))return;let s=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(i.path,!0,this.abortSignal);e+=s,n++},"processItem"),progressBarTitle:"Consistent Attachments and Links: Replacing wiki embeds with markdown embeds...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new Se.Notice("No wiki embeds found that need to be replaced"):new Se.Notice(`Replaced ${String(e)} wiki embed${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ae(this.app,n)?!1:(e||dt(this.app,Lr(i=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!0,i)),this.abortSignal),!0)}async replaceAllWikilinksWithMarkdownLinks(){await this.saveAllOpenNotes();let e=0,n=0;await Tn({abortSignal:this.abortSignal,buildNoticeMessage:r((i,s)=>`Replacing wikilinks with markdown links ${s} - ${i.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async i=>{if(this.settings.isPathIgnored(i.path))return;let s=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(i.path,!1,this.abortSignal);e+=s,n++},"processItem"),progressBarTitle:"Consistent Attachments and Links: Replacing wikilinks with markdown links...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new Se.Notice("No wiki links found that need to be replaced"):new Se.Notice(`Replaced ${String(e)} wikilink${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}replaceAllWikilinksWithMarkdownLinksCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ae(this.app,n)?!1:(e||dt(this.app,Lr(i=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!1,i)),this.abortSignal),!0)}async saveAllOpenNotes(){for(let e of this.app.workspace.getLeavesOfType("markdown"))e.view instanceof Se.MarkdownView&&await e.view.save()}async showBackupWarning(){this.settings.shouldShowBackupWarning&&(await as({app:this.app,message:createFragment(e=>{e.createDiv({cls:"community-modal-readme"},n=>{n.appendText("Using 'Consistent Attachments and Links' plugin without proper configuration might lead to inconvenient attachment rearrangements or even data loss in your vault."),n.createEl("br"),n.appendText("It is "),n.createEl("strong",{text:"STRONGLY"}),n.appendText(" recommended to backup your vault before using the plugin."),n.createEl("br"),this.settings.hadDangerousSettingsReverted&&(n.appendText("Some of your plugin settings has been changed to their safe values."),n.createEl("br")),n.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),n.appendText(" about how to use the plugin."),n.createEl("br"),n.appendText("This warning will not appear again.")})}),title:createFragment(e=>{(0,Se.setIcon)(e.createSpan(),"triangle-alert"),e.appendText(" Consistent Attachments and Links")})}),await this.settingsManager.editAndSave(e=>{e.shouldShowBackupWarning=!1}))}};var Xk=Bo;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */